<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anshull Garg - A Developer's Story</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;0,800;0,900;1,400;1,700&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Caveat:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
/* ============================================
   RESET & BASE
   ============================================ */
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --table: #1A1208;
  --table-light: #2A1E10;
  --leather: #2A1810;
  --leather-light: #3D261A;
  --gold: #D4A853;
  --gold-dim: #B8923F;
  --gold-bright: #F0C96C;
  --cream: #FFF8E7;
  --cream-dark: #F5EDDA;
  --text: #2C1810;
  --text-light: #5A4030;
  --copper: #C87941;
  --copper-dark: #A0603A;
  --bookmark-red: #8B1A1A;
  --page-shadow: rgba(20, 10, 5, 0.3);
}

html, body {
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: 'Crimson Text', Georgia, serif;
  background: var(--table);
}

body {
  display: flex;
  align-items: center;
  justify-content: center;
  background:
    radial-gradient(ellipse at 50% 40%, rgba(60, 40, 20, 0.4) 0%, transparent 70%),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 40px,
      rgba(0,0,0,0.03) 40px,
      rgba(0,0,0,0.03) 41px
    ),
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 40px,
      rgba(0,0,0,0.02) 40px,
      rgba(0,0,0,0.02) 41px
    ),
    linear-gradient(180deg, #1A1208 0%, #241A0E 50%, #1A1208 100%);
  perspective: 1800px;
}

/* ============================================
   BOOK COVER (CLOSED STATE)
   ============================================ */
.book-scene {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: opacity 0.6s ease;
}

.book-closed {
  width: 520px;
  height: 700px;
  position: relative;
  cursor: pointer;
  transform: perspective(1200px) rotateY(-5deg) rotateX(2deg);
  transition: transform 0.5s ease;
  filter: drop-shadow(20px 30px 40px rgba(0,0,0,0.6));
}

.book-closed:hover {
  transform: perspective(1200px) rotateY(-8deg) rotateX(1deg);
  filter: drop-shadow(25px 35px 50px rgba(0,0,0,0.7));
}

.book-cover-front {
  width: 100%;
  height: 100%;
  background:
    linear-gradient(135deg, rgba(255,255,255,0.05) 0%, transparent 50%),
    linear-gradient(180deg, #3D261A 0%, #2A1810 30%, #1E120C 100%);
  border-radius: 4px 16px 16px 4px;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  border-left: 6px solid #1A0E08;
}

/* Leather texture overlay */
.book-cover-front::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    url("data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='60' height='60' filter='url(%23n)' opacity='0.08'/%3E%3C/svg%3E");
  opacity: 0.5;
  pointer-events: none;
}

/* Spine highlight */
.book-cover-front::after {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 40px;
  background: linear-gradient(90deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.1) 40%, rgba(255,255,255,0.03) 60%, transparent 100%);
  pointer-events: none;
}

/* Spine edge pages */
.book-spine-pages {
  position: absolute;
  left: -4px;
  top: 8px;
  bottom: 8px;
  width: 4px;
  background: repeating-linear-gradient(
    180deg,
    #FFF8E7 0px,
    #F0E8D5 1px,
    #FFF8E7 2px
  );
  border-radius: 1px 0 0 1px;
}

/* Gold ornamental border */
.cover-border {
  position: absolute;
  inset: 30px 30px 30px 50px;
  border: 2px solid var(--gold);
  border-radius: 2px;
  opacity: 0.7;
}

.cover-border::before {
  content: '';
  position: absolute;
  inset: 6px;
  border: 1px solid var(--gold);
  opacity: 0.4;
}

/* Corner ornaments */
.corner-ornament {
  position: absolute;
  width: 30px;
  height: 30px;
  border-color: var(--gold);
  opacity: 0.8;
}
.corner-ornament.tl { top: 20px; left: 40px; border-top: 3px solid; border-left: 3px solid; }
.corner-ornament.tr { top: 20px; right: 20px; border-top: 3px solid; border-right: 3px solid; }
.corner-ornament.bl { bottom: 20px; left: 40px; border-bottom: 3px solid; border-left: 3px solid; }
.corner-ornament.br { bottom: 20px; right: 20px; border-bottom: 3px solid; border-right: 3px solid; }

.cover-title {
  font-family: 'Playfair Display', serif;
  color: var(--gold);
  font-size: 2.8rem;
  font-weight: 700;
  letter-spacing: 6px;
  text-align: center;
  text-transform: uppercase;
  position: relative;
  z-index: 2;
  text-shadow: 0 2px 8px rgba(0,0,0,0.5), 0 0 30px rgba(212,168,83,0.15);
  margin-left: 20px;
}

.cover-divider {
  width: 200px;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  margin: 20px 0;
  position: relative;
  z-index: 2;
  margin-left: 20px;
}

.cover-divider::before {
  content: '';
  position: absolute;
  top: -4px;
  left: 50%;
  transform: translateX(-50%);
  width: 10px;
  height: 10px;
  border: 1.5px solid var(--gold);
  transform: translateX(-50%) rotate(45deg);
}

.cover-subtitle {
  font-family: 'Crimson Text', serif;
  color: var(--gold-dim);
  font-size: 1.15rem;
  font-style: italic;
  letter-spacing: 3px;
  position: relative;
  z-index: 2;
  margin-top: 10px;
  margin-left: 20px;
}

.cover-open-hint {
  position: absolute;
  bottom: 50px;
  font-family: 'Crimson Text', serif;
  color: var(--gold-dim);
  font-size: 0.9rem;
  letter-spacing: 2px;
  opacity: 0.6;
  animation: pulse-hint 2s ease-in-out infinite;
  z-index: 2;
  margin-left: 20px;
}

@keyframes pulse-hint {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.8; }
}

.cover-year {
  position: absolute;
  bottom: 80px;
  font-family: 'Playfair Display', serif;
  color: var(--gold-dim);
  font-size: 0.85rem;
  letter-spacing: 4px;
  z-index: 2;
  opacity: 0.5;
  margin-left: 20px;
}

/* ============================================
   BOOK OPEN STATE
   ============================================ */
.book-open-container {
  display: none;
  position: relative;
  width: 960px;
  height: 640px;
  perspective: 2000px;
}

.book-open-container.active {
  display: block;
}

.book-body {
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
}

/* Book base shadow */
.book-body::before {
  content: '';
  position: absolute;
  bottom: -30px;
  left: 5%;
  right: 5%;
  height: 40px;
  background: radial-gradient(ellipse, rgba(0,0,0,0.5) 0%, transparent 70%);
  filter: blur(10px);
}

/* Left page (static) */
.page-left {
  position: absolute;
  left: 0;
  top: 0;
  width: 50%;
  height: 100%;
  background: var(--cream);
  border-radius: 8px 0 0 8px;
  overflow: hidden;
  box-shadow: inset -4px 0 12px rgba(0,0,0,0.1), -3px 3px 15px rgba(0,0,0,0.3);
  z-index: 2;
}

/* Paper texture on pages */
.page-left::before,
.page-right-static::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='p'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23p)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 100;
}

/* Right page (static, under the flipping page) */
.page-right-static {
  position: absolute;
  right: 0;
  top: 0;
  width: 50%;
  height: 100%;
  background: var(--cream);
  border-radius: 0 8px 8px 0;
  overflow: hidden;
  box-shadow: inset 4px 0 12px rgba(0,0,0,0.08), 3px 3px 15px rgba(0,0,0,0.3);
  z-index: 1;
}

/* Center spine shadow */
.spine-shadow {
  position: absolute;
  left: 50%;
  top: 0;
  transform: translateX(-50%);
  width: 40px;
  height: 100%;
  background: linear-gradient(90deg,
    transparent 0%,
    rgba(0,0,0,0.15) 30%,
    rgba(0,0,0,0.25) 50%,
    rgba(0,0,0,0.15) 70%,
    transparent 100%
  );
  z-index: 50;
  pointer-events: none;
}

/* Flipping page */
.page-flip {
  position: absolute;
  right: 0;
  top: 0;
  width: 50%;
  height: 100%;
  transform-origin: left center;
  transform-style: preserve-3d;
  transition: transform 0.7s cubic-bezier(0.4, 0.0, 0.2, 1);
  z-index: 10;
  cursor: pointer;
}

.page-flip.flipping {
  transform: rotateY(-180deg);
}

.page-flip-front,
.page-flip-back {
  position: absolute;
  inset: 0;
  backface-visibility: hidden;
  background: var(--cream);
  overflow: hidden;
}

.page-flip-front {
  border-radius: 0 8px 8px 0;
  box-shadow: inset 4px 0 12px rgba(0,0,0,0.08);
}

.page-flip-back {
  transform: rotateY(180deg);
  border-radius: 8px 0 0 8px;
  box-shadow: inset -4px 0 12px rgba(0,0,0,0.1);
}

/* Page turn shadow effect */
.page-flip::after {
  content: '';
  position: absolute;
  right: -15px;
  top: 0;
  width: 30px;
  height: 100%;
  background: linear-gradient(90deg, rgba(0,0,0,0.15), transparent);
  opacity: 0;
  transition: opacity 0.3s;
  z-index: 100;
  pointer-events: none;
}

.page-flip.flipping::after {
  opacity: 1;
}

/* ============================================
   PAGE CONTENT STYLING
   ============================================ */
.page-content {
  padding: 40px 35px 50px;
  height: 100%;
  position: relative;
  display: flex;
  flex-direction: column;
}

/* Page number */
.page-number {
  position: absolute;
  bottom: 20px;
  font-family: 'Crimson Text', serif;
  font-size: 0.85rem;
  color: var(--text-light);
  opacity: 0.6;
}

.page-number.left {
  left: 35px;
}

.page-number.right {
  right: 35px;
}

/* Running header */
.running-header {
  font-family: 'Crimson Text', serif;
  font-size: 0.7rem;
  color: var(--text-light);
  text-transform: uppercase;
  letter-spacing: 3px;
  opacity: 0.4;
  margin-bottom: 20px;
  text-align: center;
}

/* Chapter title */
.chapter-number {
  font-family: 'Playfair Display', serif;
  font-size: 0.8rem;
  color: var(--copper);
  text-transform: uppercase;
  letter-spacing: 6px;
  text-align: center;
  margin-bottom: 8px;
}

.chapter-title {
  font-family: 'Playfair Display', serif;
  font-size: 2rem;
  font-weight: 700;
  color: var(--text);
  text-align: center;
  margin-bottom: 15px;
  line-height: 1.2;
}

.chapter-divider {
  width: 120px;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--copper), transparent);
  margin: 0 auto 25px;
  position: relative;
}

.chapter-divider::before {
  content: '';
  position: absolute;
  top: -3px;
  left: 50%;
  transform: translateX(-50%) rotate(45deg);
  width: 7px;
  height: 7px;
  border: 1px solid var(--copper);
  background: var(--cream);
}

/* Drop cap */
.drop-cap::first-letter {
  font-family: 'Playfair Display', serif;
  float: left;
  font-size: 4rem;
  line-height: 0.8;
  padding-right: 8px;
  padding-top: 4px;
  color: var(--copper);
  font-weight: 700;
}

.body-text {
  font-family: 'Crimson Text', serif;
  font-size: 1.05rem;
  line-height: 1.75;
  color: var(--text);
  text-align: justify;
  hyphens: auto;
}

.body-text + .body-text {
  text-indent: 1.5em;
}

/* ============================================
   TITLE PAGE
   ============================================ */
.title-page {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  text-align: center;
}

.title-page .tp-ornament-top {
  width: 60%;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--copper), transparent);
  margin-bottom: 40px;
}

.title-page .tp-name {
  font-family: 'Playfair Display', serif;
  font-size: 2.2rem;
  font-weight: 700;
  color: var(--text);
  letter-spacing: 5px;
  text-transform: uppercase;
}

.title-page .tp-divider {
  width: 40px;
  height: 2px;
  background: var(--copper);
  margin: 20px auto;
}

.title-page .tp-subtitle {
  font-family: 'Crimson Text', serif;
  font-size: 1.2rem;
  font-style: italic;
  color: var(--text-light);
  letter-spacing: 2px;
}

.title-page .tp-role {
  font-family: 'Crimson Text', serif;
  font-size: 0.95rem;
  color: var(--text-light);
  margin-top: 30px;
  letter-spacing: 1px;
}

.title-page .tp-ornament-bottom {
  width: 60%;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--copper), transparent);
  margin-top: 40px;
}

.title-page .tp-year {
  font-family: 'Playfair Display', serif;
  font-size: 0.85rem;
  color: var(--text-light);
  margin-top: 30px;
  letter-spacing: 4px;
  opacity: 0.5;
}

/* ============================================
   TABLE OF CONTENTS
   ============================================ */
.toc {
  height: 100%;
  display: flex;
  flex-direction: column;
}

.toc-title {
  font-family: 'Playfair Display', serif;
  font-size: 1.4rem;
  font-weight: 700;
  color: var(--text);
  text-align: center;
  margin-bottom: 8px;
  letter-spacing: 3px;
  text-transform: uppercase;
}

.toc-divider {
  width: 80px;
  height: 1px;
  background: var(--copper);
  margin: 0 auto 25px;
}

.toc-list {
  list-style: none;
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 14px;
}

.toc-item {
  display: flex;
  align-items: baseline;
  cursor: pointer;
  transition: color 0.2s;
  padding: 2px 0;
}

.toc-item:hover {
  color: var(--copper);
}

.toc-item-chapter {
  font-family: 'Crimson Text', serif;
  font-size: 0.8rem;
  color: var(--copper);
  text-transform: uppercase;
  letter-spacing: 2px;
  white-space: nowrap;
  margin-right: 10px;
}

.toc-item-title {
  font-family: 'Playfair Display', serif;
  font-size: 1.05rem;
  color: var(--text);
  white-space: nowrap;
}

.toc-item-dots {
  flex: 1;
  border-bottom: 1px dotted rgba(44, 24, 16, 0.3);
  margin: 0 8px;
  min-width: 20px;
  position: relative;
  top: -4px;
}

.toc-item-page {
  font-family: 'Crimson Text', serif;
  font-size: 0.95rem;
  color: var(--text-light);
}

/* ============================================
   TIMELINE
   ============================================ */
.timeline {
  position: relative;
  padding-left: 25px;
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 18px;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 8px;
  top: 0;
  bottom: 0;
  width: 1px;
  background: linear-gradient(180deg, transparent, var(--copper), var(--copper), transparent);
}

.timeline-item {
  position: relative;
}

.timeline-item::before {
  content: '';
  position: absolute;
  left: -21px;
  top: 6px;
  width: 9px;
  height: 9px;
  border-radius: 50%;
  background: var(--copper);
  border: 2px solid var(--cream);
  box-shadow: 0 0 0 1px var(--copper);
}

.timeline-year {
  font-family: 'Playfair Display', serif;
  font-size: 0.8rem;
  color: var(--copper);
  letter-spacing: 2px;
  font-weight: 600;
}

.timeline-role {
  font-family: 'Playfair Display', serif;
  font-size: 1rem;
  color: var(--text);
  font-weight: 600;
  margin-top: 2px;
}

.timeline-company {
  font-family: 'Crimson Text', serif;
  font-size: 0.9rem;
  color: var(--text-light);
  font-style: italic;
}

.timeline-desc {
  font-family: 'Crimson Text', serif;
  font-size: 0.85rem;
  color: var(--text-light);
  line-height: 1.5;
  margin-top: 4px;
}

/* ============================================
   CODE ILLUSTRATION
   ============================================ */
.code-illustration {
  background: var(--text);
  border-radius: 4px;
  padding: 20px;
  font-family: 'Courier New', monospace;
  font-size: 0.72rem;
  line-height: 1.7;
  color: var(--cream);
  overflow: hidden;
  flex: 1;
  position: relative;
  border: 1px solid rgba(200,121,65,0.3);
}

.code-illustration::before {
  content: 'source code';
  position: absolute;
  top: 8px;
  right: 12px;
  font-family: 'Crimson Text', serif;
  font-size: 0.65rem;
  color: var(--copper);
  opacity: 0.5;
  text-transform: uppercase;
  letter-spacing: 2px;
}

.code-line-number {
  color: rgba(255,248,231,0.2);
  display: inline-block;
  width: 24px;
  text-align: right;
  margin-right: 12px;
  user-select: none;
}

.code-keyword { color: var(--copper); }
.code-string { color: var(--gold); }
.code-comment { color: rgba(255,248,231,0.3); font-style: italic; }
.code-func { color: #E8C47C; }
.code-var { color: #D4A853; }

/* ============================================
   SKILLS PAGE
   ============================================ */
.skills-list {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 10px;
  flex: 1;
  justify-content: center;
}

.skill-category {
  margin-bottom: 4px;
}

.skill-category-title {
  font-family: 'Playfair Display', serif;
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--text);
  margin-bottom: 4px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.skill-category-title::before {
  content: '';
  display: inline-block;
  width: 6px;
  height: 6px;
  background: var(--copper);
  transform: rotate(45deg);
  flex-shrink: 0;
}

.skill-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
  padding-left: 14px;
}

.skill-tag {
  font-family: 'Crimson Text', serif;
  font-size: 0.82rem;
  color: var(--text-light);
  background: rgba(200,121,65,0.08);
  padding: 2px 10px;
  border-radius: 2px;
  border: 1px solid rgba(200,121,65,0.15);
}

/* ============================================
   CONTACT / HANDWRITTEN
   ============================================ */
.handwritten {
  font-family: 'Caveat', cursive;
  font-size: 1.3rem;
  color: var(--text);
  line-height: 2;
}

.handwritten-note {
  background:
    repeating-linear-gradient(
      180deg,
      transparent 0px,
      transparent 37px,
      rgba(200,121,65,0.15) 37px,
      rgba(200,121,65,0.15) 38px
    );
  padding: 10px 5px;
  flex: 1;
}

.contact-link {
  color: var(--copper);
  text-decoration: none;
  border-bottom: 1px solid rgba(200,121,65,0.3);
  transition: border-color 0.2s;
}

.contact-link:hover {
  border-bottom-color: var(--copper);
}

/* ============================================
   BACK COVER
   ============================================ */
.back-cover-content {
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 40px;
}

.barcode {
  display: flex;
  gap: 1px;
  margin: 20px auto;
  height: 50px;
  align-items: flex-end;
}

.barcode-line {
  background: var(--text);
  width: 2px;
}

.isbn-joke {
  font-family: 'Crimson Text', serif;
  font-size: 0.75rem;
  color: var(--text-light);
  opacity: 0.5;
  margin-top: 5px;
}

/* ============================================
   BOOKMARK RIBBON
   ============================================ */
.bookmark-ribbon {
  position: absolute;
  top: -5px;
  right: 60px;
  width: 24px;
  height: 70px;
  background: var(--bookmark-red);
  z-index: 200;
  box-shadow: 2px 2px 4px rgba(0,0,0,0.3);
  transition: height 0.3s ease, opacity 0.3s ease;
}

.bookmark-ribbon::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 0;
  border-left: 12px solid var(--bookmark-red);
  border-right: 12px solid var(--bookmark-red);
  border-bottom: 10px solid transparent;
}

/* ============================================
   DOG-EAR
   ============================================ */
.dog-ear {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 30px;
  height: 30px;
  cursor: pointer;
  z-index: 100;
  overflow: hidden;
}

.dog-ear::before {
  content: '';
  position: absolute;
  bottom: 0;
  right: 0;
  width: 0;
  height: 0;
  border-bottom: 20px solid var(--cream-dark);
  border-left: 20px solid transparent;
  transition: border-width 0.3s ease;
  filter: drop-shadow(-2px -2px 2px rgba(0,0,0,0.1));
}

.dog-ear::after {
  content: '';
  position: absolute;
  bottom: 0;
  right: 0;
  width: 0;
  height: 0;
  border-bottom: 20px solid rgba(0,0,0,0.05);
  border-left: 20px solid transparent;
  transition: border-width 0.3s ease;
}

.dog-ear:hover::before {
  border-bottom-width: 35px;
  border-left-width: 35px;
}

.dog-ear:hover::after {
  border-bottom-width: 35px;
  border-left-width: 35px;
}

/* ============================================
   NAVIGATION
   ============================================ */
.nav-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 40px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 200;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.book-open-container:hover .nav-arrow {
  opacity: 1;
}

.nav-arrow.left {
  left: -50px;
}

.nav-arrow.right {
  right: -50px;
}

.nav-arrow svg {
  width: 24px;
  height: 24px;
  stroke: var(--gold-dim);
  fill: none;
  stroke-width: 2;
  transition: stroke 0.2s;
}

.nav-arrow:hover svg {
  stroke: var(--gold);
}

/* Page indicator */
.page-indicator {
  position: absolute;
  bottom: -35px;
  left: 50%;
  transform: translateX(-50%);
  font-family: 'Crimson Text', serif;
  font-size: 0.8rem;
  color: var(--gold-dim);
  opacity: 0.5;
  letter-spacing: 2px;
  white-space: nowrap;
}

/* Close book button */
.close-book {
  position: absolute;
  top: -35px;
  right: 0;
  font-family: 'Crimson Text', serif;
  font-size: 0.8rem;
  color: var(--gold-dim);
  cursor: pointer;
  opacity: 0.4;
  transition: opacity 0.3s;
  letter-spacing: 2px;
  text-transform: uppercase;
  background: none;
  border: none;
}

.close-book:hover {
  opacity: 0.8;
}

/* ============================================
   PAGE CORNER CLICK ZONES
   ============================================ */
.click-zone {
  position: absolute;
  top: 0;
  height: 100%;
  width: 60px;
  z-index: 100;
  cursor: pointer;
}

.click-zone.left-zone {
  left: 0;
}

.click-zone.right-zone {
  right: 0;
}

/* ============================================
   DECORATIVE ELEMENTS
   ============================================ */
.ornament {
  text-align: center;
  color: var(--copper);
  opacity: 0.5;
  font-size: 1.2rem;
  letter-spacing: 4px;
  margin: 10px 0;
}

.flourish {
  display: block;
  width: 100%;
  text-align: center;
  margin: 10px 0;
  opacity: 0.4;
}

.flourish svg {
  width: 120px;
  height: 20px;
}

/* Quote styling */
.book-quote {
  font-family: 'Playfair Display', serif;
  font-style: italic;
  font-size: 1.1rem;
  color: var(--text);
  text-align: center;
  padding: 20px;
  position: relative;
  line-height: 1.6;
}

.book-quote::before {
  content: '\201C';
  font-size: 4rem;
  color: var(--copper);
  opacity: 0.3;
  position: absolute;
  top: -10px;
  left: 5px;
  font-family: 'Playfair Display', serif;
}

/* About author image placeholder */
.author-portrait {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background:
    radial-gradient(circle at 30% 30%, var(--leather-light), var(--leather));
  margin: 0 auto 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Playfair Display', serif;
  font-size: 2.5rem;
  color: var(--gold);
  font-weight: 700;
  border: 2px solid var(--gold-dim);
}

/* ============================================
   TRANSITIONS
   ============================================ */
.fade-out {
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.5s ease;
}

.fade-in {
  opacity: 1;
  transition: opacity 0.5s ease;
}

/* ============================================
   RESPONSIVE
   ============================================ */
@media (max-width: 1050px) {
  .book-open-container {
    width: 90vw;
    height: auto;
    aspect-ratio: 3/2;
    max-height: 90vh;
  }

  .page-content {
    padding: 25px 20px 40px;
  }

  .chapter-title {
    font-size: 1.5rem;
  }

  .body-text {
    font-size: 0.9rem;
    line-height: 1.6;
  }

  .timeline-desc {
    font-size: 0.78rem;
  }

  .code-illustration {
    font-size: 0.62rem;
  }

  .book-closed {
    width: 360px;
    height: 500px;
  }

  .cover-title {
    font-size: 2rem;
  }
}

@media (max-width: 700px) {
  .book-open-container {
    width: 95vw;
    height: 80vh;
  }

  .page-content {
    padding: 18px 14px 35px;
  }

  .chapter-title {
    font-size: 1.2rem;
  }

  .body-text {
    font-size: 0.8rem;
    line-height: 1.5;
  }

  .code-illustration {
    font-size: 0.55rem;
    padding: 12px;
  }

  .nav-arrow {
    opacity: 0.5;
  }

  .nav-arrow.left { left: -30px; }
  .nav-arrow.right { right: -30px; }

  .skill-tag { font-size: 0.72rem; padding: 1px 6px; }
  .handwritten { font-size: 1.05rem; }

  .book-closed {
    width: 280px;
    height: 400px;
  }

  .cover-title {
    font-size: 1.6rem;
    letter-spacing: 3px;
  }

  .cover-subtitle {
    font-size: 0.95rem;
  }

  .timeline-item { gap: 12px; }
  .timeline-year { font-size: 0.72rem; }
  .timeline-role { font-size: 0.85rem; }
}
</style>
</head>
<body>

<!-- ============================================
     CLOSED BOOK COVER
     ============================================ -->
<div class="book-scene" id="bookScene">
  <div class="book-closed" id="bookClosed" onclick="openBook()" role="button" tabindex="0" aria-label="Open the book">
    <div class="book-spine-pages"></div>
    <div class="book-cover-front">
      <div class="cover-border"></div>
      <div class="corner-ornament tl"></div>
      <div class="corner-ornament tr"></div>
      <div class="corner-ornament bl"></div>
      <div class="corner-ornament br"></div>

      <div class="cover-title">Anshull<br>Garg</div>
      <div class="cover-divider"></div>
      <div class="cover-subtitle">A Developer's Story</div>
      <div class="cover-year">MMXXVI</div>
      <div class="cover-open-hint">click to open</div>
    </div>
  </div>
</div>

<!-- ============================================
     OPEN BOOK
     ============================================ -->
<div class="book-open-container" id="bookOpen">
  <div class="bookmark-ribbon" id="bookmarkRibbon"></div>

  <button class="close-book" onclick="closeBook()" aria-label="Close the book">Close Book</button>

  <div class="book-body">
    <!-- Left page -->
    <div class="page-left" id="pageLeft">
      <div class="page-content" id="pageLeftContent"></div>
    </div>

    <!-- Right page (static, revealed under flip) -->
    <div class="page-right-static" id="pageRightNext">
      <div class="page-content" id="pageRightNextContent"></div>
    </div>

    <!-- Flipping page (right side) -->
    <div class="page-flip" id="pageFlip">
      <div class="page-flip-front" id="pageFlipFront">
        <div class="page-content" id="pageFlipFrontContent"></div>
        <div class="dog-ear" onclick="event.stopPropagation(); flipForward();"></div>
      </div>
      <div class="page-flip-back" id="pageFlipBack">
        <div class="page-content" id="pageFlipBackContent"></div>
      </div>
    </div>

    <div class="spine-shadow"></div>

    <!-- Navigation click zones -->
    <div class="click-zone left-zone" onclick="flipBackward()" aria-label="Previous page"></div>
    <div class="click-zone right-zone" onclick="flipForward()" aria-label="Next page" style="left: auto; right: 0;"></div>
  </div>

  <!-- Arrow navigation -->
  <div class="nav-arrow left" onclick="flipBackward()" aria-label="Previous page">
    <svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"/></svg>
  </div>
  <div class="nav-arrow right" onclick="flipForward()" aria-label="Next page">
    <svg viewBox="0 0 24 24"><polyline points="9 6 15 12 9 18"/></svg>
  </div>

  <div class="page-indicator" id="pageIndicator"></div>
</div>

<script>
// ============================================
// PAGE CONTENT DATA
// ============================================
const pages = [
  // Page 0 (left) - Title Page
  {
    type: 'title',
    html: `
      <div class="title-page">
        <div class="tp-ornament-top"></div>
        <div class="tp-name">Anshull Garg</div>
        <div class="tp-divider"></div>
        <div class="tp-subtitle">A Developer's Story</div>
        <div class="tp-role">Software Developer at Walmart</div>
        <div class="tp-ornament-bottom"></div>
        <div class="tp-year">2 0 2 6</div>
      </div>
    `
  },
  // Page 1 (right) - Table of Contents
  {
    type: 'toc',
    html: `
      <div class="toc" style="padding-top:20px;">
        <div class="toc-title">Contents</div>
        <div class="toc-divider"></div>
        <ul class="toc-list">
          <li class="toc-item" onclick="goToSpread(1)">
            <span class="toc-item-chapter">Ch. I</span>
            <span class="toc-item-title">The Beginning</span>
            <span class="toc-item-dots"></span>
            <span class="toc-item-page">3</span>
          </li>
          <li class="toc-item" onclick="goToSpread(2)">
            <span class="toc-item-chapter">Ch. II</span>
            <span class="toc-item-title">The Journey</span>
            <span class="toc-item-dots"></span>
            <span class="toc-item-page">5</span>
          </li>
          <li class="toc-item" onclick="goToSpread(3)">
            <span class="toc-item-chapter">Ch. III</span>
            <span class="toc-item-title">The Works</span>
            <span class="toc-item-dots"></span>
            <span class="toc-item-page">7</span>
          </li>
          <li class="toc-item" onclick="goToSpread(4)">
            <span class="toc-item-chapter">Ch. IV</span>
            <span class="toc-item-title">The Craft</span>
            <span class="toc-item-dots"></span>
            <span class="toc-item-page">9</span>
          </li>
          <li class="toc-item" onclick="goToSpread(5)">
            <span class="toc-item-chapter">Ch. V</span>
            <span class="toc-item-title">The Toolkit</span>
            <span class="toc-item-dots"></span>
            <span class="toc-item-page">11</span>
          </li>
          <li class="toc-item" onclick="goToSpread(6)">
            <span class="toc-item-chapter">Ch. VI</span>
            <span class="toc-item-title">The Invitation</span>
            <span class="toc-item-dots"></span>
            <span class="toc-item-page">13</span>
          </li>
        </ul>
        <span class="page-number right">ii</span>
      </div>
    `
  },
  // Page 2 (left) - Chapter 1 heading
  {
    type: 'chapter',
    chapter: 'I',
    html: `
      <div class="page-content" style="padding:0;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;">
        <div class="running-header">Anshull Garg</div>
        <div style="flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:0 30px;">
          <div class="chapter-number">Chapter I</div>
          <div class="chapter-title">The Beginning</div>
          <div class="chapter-divider"></div>
          <p class="body-text drop-cap" style="text-indent:0;">
            In the vast landscape of technology, where ideas take form through elegant lines of code, one developer began a journey that would lead from curiosity to craft. This is the story of that journey -- not measured in commits or deployments, but in the quiet moments of discovery that shape a developer's soul.
          </p>
        </div>
        <span class="page-number left">3</span>
      </div>
    `
  },
  // Page 3 (right) - About text
  {
    type: 'content',
    chapter: 'I',
    html: `
      <div class="running-header">The Beginning</div>
      <div style="flex:1;display:flex;flex-direction:column;justify-content:center;">
        <p class="body-text drop-cap" style="text-indent:0;">
          Anshull Garg is a Software Developer at Walmart, where he builds the systems that power commerce at a scale few ever encounter. His work lives at the intersection of performance and reliability -- where milliseconds matter and millions depend on the outcome.
        </p>
        <p class="body-text">
          With a deep foundation in full-stack development, he approaches each problem not merely as a technical challenge, but as an opportunity to create something meaningful. His philosophy is simple: great software should be invisible. It should simply work -- gracefully, efficiently, and without compromise.
        </p>
        <p class="body-text">
          Beyond the screen, he is a student of design, an advocate for clean architecture, and a believer in the quiet power of well-written code. Every function he writes, every system he designs, carries with it the conviction that software development is, at its best, a creative act.
        </p>
        <div class="ornament" style="margin-top:20px;">&mdash;</div>
      </div>
      <span class="page-number right">4</span>
    `
  },
  // Page 4 (left) - Chapter 2 timeline
  {
    type: 'chapter',
    chapter: 'II',
    html: `
      <div class="page-content" style="padding:0;height:100%;display:flex;flex-direction:column;">
        <div class="running-header" style="padding:30px 35px 0;">The Journey</div>
        <div style="padding:0 35px;flex:1;display:flex;flex-direction:column;justify-content:center;">
          <div class="chapter-number">Chapter II</div>
          <div class="chapter-title" style="font-size:1.6rem;margin-bottom:20px;">The Journey</div>
          <div class="timeline">
            <div class="timeline-item">
              <div class="timeline-year">2024 -- Present</div>
              <div class="timeline-role">Software Developer</div>
              <div class="timeline-company">Walmart Global Tech</div>
              <div class="timeline-desc">Building scalable commerce platforms serving millions of users. Driving innovation in supply chain and customer experience systems.</div>
            </div>
            <div class="timeline-item">
              <div class="timeline-year">2022 -- 2024</div>
              <div class="timeline-role">Software Engineer</div>
              <div class="timeline-company">Previous Chapter</div>
              <div class="timeline-desc">Developed microservices architecture and real-time data pipelines. Led migration of legacy systems to modern cloud infrastructure.</div>
            </div>
            <div class="timeline-item">
              <div class="timeline-year">2020 -- 2022</div>
              <div class="timeline-role">Junior Developer</div>
              <div class="timeline-company">The Apprenticeship</div>
              <div class="timeline-desc">First steps into professional development. Learned the craft of writing production-grade code under mentorship.</div>
            </div>
          </div>
        </div>
        <span class="page-number left" style="padding:0 35px 20px;">5</span>
      </div>
    `
  },
  // Page 5 (right) - Career narrative
  {
    type: 'content',
    chapter: 'II',
    html: `
      <div class="running-header">The Journey</div>
      <div style="flex:1;display:flex;flex-direction:column;justify-content:center;">
        <p class="body-text drop-cap" style="text-indent:0;">
          The path from a curious student to a Walmart engineer was never a straight line. It was a series of late nights debugging impossible errors, early mornings reading documentation, and the slow, patient accumulation of knowledge that transforms a coder into an engineer.
        </p>
        <p class="body-text">
          At Walmart, the scale of impact became tangible. Every optimization served millions. Every architectural decision rippled through systems that touch lives daily. Here, engineering is not abstract -- it is deeply, fundamentally human.
        </p>
        <p class="body-text">
          The journey taught him that the best engineers are not those who write the most clever code, but those who write the most understandable code. Clarity, he learned, is the highest form of sophistication in software.
        </p>
        <div class="book-quote" style="margin-top:15px;">
          Any fool can write code that a computer can understand. Good programmers write code that humans can understand.
          <div style="font-size:0.8rem;color:var(--text-light);margin-top:8px;font-style:normal;">-- Martin Fowler</div>
        </div>
      </div>
      <span class="page-number right">6</span>
    `
  },
  // Page 6 (left) - Chapter 3 code illustration
  {
    type: 'chapter',
    chapter: 'III',
    html: `
      <div class="page-content" style="padding:0;height:100%;display:flex;flex-direction:column;">
        <div class="running-header" style="padding:30px 30px 0;">The Works</div>
        <div style="padding:0 25px;flex:1;display:flex;flex-direction:column;justify-content:center;">
          <div class="chapter-number">Chapter III</div>
          <div class="chapter-title" style="font-size:1.5rem;margin-bottom:15px;">The Works</div>
          <div class="code-illustration">
<span class="code-line-number"> 1</span><span class="code-comment">// Commerce Engine v3.0</span>
<span class="code-line-number"> 2</span><span class="code-comment">// High-performance order system</span>
<span class="code-line-number"> 3</span>
<span class="code-line-number"> 4</span><span class="code-keyword">class</span> <span class="code-func">OrderPipeline</span> {
<span class="code-line-number"> 5</span>  <span class="code-keyword">private</span> cache: <span class="code-func">DistributedCache</span>;
<span class="code-line-number"> 6</span>  <span class="code-keyword">private</span> queue: <span class="code-func">MessageQueue</span>;
<span class="code-line-number"> 7</span>
<span class="code-line-number"> 8</span>  <span class="code-keyword">async</span> <span class="code-func">process</span>(order: <span class="code-var">Order</span>) {
<span class="code-line-number"> 9</span>    <span class="code-keyword">const</span> validated =
<span class="code-line-number">10</span>      <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-func">validate</span>(order);
<span class="code-line-number">11</span>    <span class="code-keyword">const</span> enriched =
<span class="code-line-number">12</span>      <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-func">enrich</span>(validated);
<span class="code-line-number">13</span>
<span class="code-line-number">14</span>    <span class="code-keyword">return</span> <span class="code-keyword">this</span>.queue
<span class="code-line-number">15</span>      .<span class="code-func">publish</span>(<span class="code-string">'orders'</span>, enriched);
<span class="code-line-number">16</span>  }
<span class="code-line-number">17</span>}
          </div>
        </div>
        <span class="page-number left" style="padding:0 30px 20px;">7</span>
      </div>
    `
  },
  // Page 7 (right) - Project 1 description
  {
    type: 'content',
    chapter: 'III',
    html: `
      <div class="running-header">The Works</div>
      <div style="flex:1;display:flex;flex-direction:column;justify-content:center;">
        <h3 style="font-family:'Playfair Display',serif;font-size:1.3rem;color:var(--text);margin-bottom:12px;font-weight:600;">Commerce Platform Engine</h3>
        <p class="body-text drop-cap" style="text-indent:0;">
          At the heart of modern retail lies the order pipeline -- a system that must handle thousands of transactions per second without faltering. This project reimagined how orders flow through the system, replacing a monolithic processor with an event-driven architecture.
        </p>
        <p class="body-text">
          The result was a 40% reduction in processing latency and a system capable of gracefully scaling during peak events like Black Friday, handling order volumes that would have overwhelmed the previous architecture.
        </p>
        <div style="margin:15px 0;padding:12px 15px;border-left:2px solid var(--copper);background:rgba(200,121,65,0.05);">
          <div style="font-family:'Crimson Text',serif;font-size:0.85rem;color:var(--text-light);line-height:1.6;">
            <strong style="color:var(--copper);">Stack:</strong> Java, Kafka, Redis, Kubernetes<br>
            <strong style="color:var(--copper);">Scale:</strong> 50K+ orders/minute at peak<br>
            <strong style="color:var(--copper);">Impact:</strong> 40% latency reduction
          </div>
        </div>
        <div class="ornament">&mdash;</div>
      </div>
      <span class="page-number right">8</span>
    `
  },
  // Page 8 (left) - Chapter 4 code illustration
  {
    type: 'chapter',
    chapter: 'IV',
    html: `
      <div class="page-content" style="padding:0;height:100%;display:flex;flex-direction:column;">
        <div class="running-header" style="padding:30px 30px 0;">The Craft</div>
        <div style="padding:0 25px;flex:1;display:flex;flex-direction:column;justify-content:center;">
          <div class="chapter-number">Chapter IV</div>
          <div class="chapter-title" style="font-size:1.5rem;margin-bottom:15px;">The Craft</div>
          <div class="code-illustration">
<span class="code-line-number"> 1</span><span class="code-comment">// Real-time Inventory Tracker</span>
<span class="code-line-number"> 2</span><span class="code-comment">// Distributed state management</span>
<span class="code-line-number"> 3</span>
<span class="code-line-number"> 4</span><span class="code-keyword">const</span> <span class="code-func">InventorySync</span> = () => {
<span class="code-line-number"> 5</span>  <span class="code-keyword">const</span> [state, dispatch] =
<span class="code-line-number"> 6</span>    <span class="code-func">useReducer</span>(inventoryReducer);
<span class="code-line-number"> 7</span>
<span class="code-line-number"> 8</span>  <span class="code-func">useEffect</span>(() => {
<span class="code-line-number"> 9</span>    <span class="code-keyword">const</span> ws = <span class="code-keyword">new</span> <span class="code-func">WebSocket</span>(
<span class="code-line-number">10</span>      <span class="code-string">'wss://inventory.api'</span>
<span class="code-line-number">11</span>    );
<span class="code-line-number">12</span>    ws.<span class="code-func">onmessage</span> = (msg) =>
<span class="code-line-number">13</span>      dispatch({
<span class="code-line-number">14</span>        type: <span class="code-string">'SYNC'</span>,
<span class="code-line-number">15</span>        payload: <span class="code-func">parse</span>(msg)
<span class="code-line-number">16</span>      });
<span class="code-line-number">17</span>  }, []);
<span class="code-line-number">18</span>};
          </div>
        </div>
        <span class="page-number left" style="padding:0 30px 20px;">9</span>
      </div>
    `
  },
  // Page 9 (right) - Project 2 description
  {
    type: 'content',
    chapter: 'IV',
    html: `
      <div class="running-header">The Craft</div>
      <div style="flex:1;display:flex;flex-direction:column;justify-content:center;">
        <h3 style="font-family:'Playfair Display',serif;font-size:1.3rem;color:var(--text);margin-bottom:12px;font-weight:600;">Real-Time Inventory System</h3>
        <p class="body-text drop-cap" style="text-indent:0;">
          Inventory accuracy is the invisible backbone of retail. When a customer sees "In Stock," that promise must be kept. This system provides real-time inventory visibility across thousands of stores and warehouses, synchronizing state across a distributed network.
        </p>
        <p class="body-text">
          Using WebSocket connections and event sourcing, the system maintains a consistent view of inventory that updates in under 200 milliseconds. It replaced a batch-processing system that ran on 15-minute cycles, transforming inventory management from a periodic snapshot to a living, breathing data stream.
        </p>
        <div style="margin:15px 0;padding:12px 15px;border-left:2px solid var(--copper);background:rgba(200,121,65,0.05);">
          <div style="font-family:'Crimson Text',serif;font-size:0.85rem;color:var(--text-light);line-height:1.6;">
            <strong style="color:var(--copper);">Stack:</strong> React, Node.js, WebSockets, CQRS<br>
            <strong style="color:var(--copper);">Scale:</strong> 4,700+ store locations<br>
            <strong style="color:var(--copper);">Impact:</strong> 99.7% inventory accuracy
          </div>
        </div>
      </div>
      <span class="page-number right">10</span>
    `
  },
  // Page 10 (left) - Chapter 5 skills
  {
    type: 'chapter',
    chapter: 'V',
    html: `
      <div class="page-content" style="padding:0;height:100%;display:flex;flex-direction:column;">
        <div class="running-header" style="padding:30px 35px 0;">The Toolkit</div>
        <div style="padding:0 30px;flex:1;display:flex;flex-direction:column;justify-content:center;">
          <div class="chapter-number">Chapter V</div>
          <div class="chapter-title" style="font-size:1.6rem;margin-bottom:18px;">The Toolkit</div>
          <ul class="skills-list">
            <li class="skill-category">
              <div class="skill-category-title">Languages</div>
              <div class="skill-tags">
                <span class="skill-tag">JavaScript</span>
                <span class="skill-tag">TypeScript</span>
                <span class="skill-tag">Java</span>
                <span class="skill-tag">Python</span>
                <span class="skill-tag">SQL</span>
              </div>
            </li>
            <li class="skill-category">
              <div class="skill-category-title">Frontend</div>
              <div class="skill-tags">
                <span class="skill-tag">React</span>
                <span class="skill-tag">Next.js</span>
                <span class="skill-tag">Tailwind</span>
                <span class="skill-tag">Redux</span>
              </div>
            </li>
            <li class="skill-category">
              <div class="skill-category-title">Backend</div>
              <div class="skill-tags">
                <span class="skill-tag">Node.js</span>
                <span class="skill-tag">Spring Boot</span>
                <span class="skill-tag">GraphQL</span>
                <span class="skill-tag">REST</span>
              </div>
            </li>
            <li class="skill-category">
              <div class="skill-category-title">Infrastructure</div>
              <div class="skill-tags">
                <span class="skill-tag">AWS</span>
                <span class="skill-tag">Docker</span>
                <span class="skill-tag">Kubernetes</span>
                <span class="skill-tag">CI/CD</span>
              </div>
            </li>
            <li class="skill-category">
              <div class="skill-category-title">Data</div>
              <div class="skill-tags">
                <span class="skill-tag">Kafka</span>
                <span class="skill-tag">Redis</span>
                <span class="skill-tag">PostgreSQL</span>
                <span class="skill-tag">MongoDB</span>
              </div>
            </li>
          </ul>
        </div>
        <span class="page-number left" style="padding:0 35px 20px;">11</span>
      </div>
    `
  },
  // Page 11 (right) - Philosophy
  {
    type: 'content',
    chapter: 'V',
    html: `
      <div class="running-header">The Toolkit</div>
      <div style="flex:1;display:flex;flex-direction:column;justify-content:center;">
        <h3 style="font-family:'Playfair Display',serif;font-size:1.3rem;color:var(--text);margin-bottom:15px;font-weight:600;text-align:center;">Philosophy of Craft</h3>
        <div class="chapter-divider" style="margin-bottom:20px;"></div>
        <p class="body-text drop-cap" style="text-indent:0;">
          Tools are only as powerful as the principles that guide their use. Over the years, a personal philosophy has emerged -- a set of convictions about what it means to build software well.
        </p>
        <p class="body-text">
          <strong style="color:var(--copper);">Simplicity first.</strong> The best solution is often the simplest one. Complexity should be a last resort, not a default.
        </p>
        <p class="body-text">
          <strong style="color:var(--copper);">Test with intention.</strong> Tests are not bureaucracy. They are documentation, safety nets, and design tools -- all in one.
        </p>
        <p class="body-text">
          <strong style="color:var(--copper);">Ship incrementally.</strong> Perfect is the enemy of shipped. Small, frequent releases beat large, infrequent deployments every time.
        </p>
        <p class="body-text">
          <strong style="color:var(--copper);">Read more than you write.</strong> The best code is written by those who have read the most code. Study the masters; absorb their patterns.
        </p>
        <div class="ornament" style="margin-top:15px;">&mdash;</div>
      </div>
      <span class="page-number right">12</span>
    `
  },
  // Page 12 (left) - Chapter 6 invitation
  {
    type: 'chapter',
    chapter: 'VI',
    html: `
      <div class="page-content" style="padding:0;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;">
        <div style="padding:0 35px;">
          <div class="chapter-number">Chapter VI</div>
          <div class="chapter-title">The Invitation</div>
          <div class="chapter-divider"></div>
          <p class="body-text" style="text-align:center;text-indent:0;margin-top:15px;">
            If this story resonated with you -- if you see in these pages the outline of someone you would like to work with, collaborate with, or simply have a conversation with -- then this final chapter is yours to write.
          </p>
          <p class="body-text" style="text-align:center;text-indent:0;margin-top:10px;">
            Every great project begins with a conversation. Every meaningful collaboration starts with a single message. The next chapter of this story has not yet been written, and it could begin with you.
          </p>
          <div class="book-quote" style="margin-top:20px;padding:15px;">
            The best way to predict the future is to create it.
            <div style="font-size:0.8rem;color:var(--text-light);margin-top:8px;font-style:normal;">-- Peter Drucker</div>
          </div>
        </div>
        <span class="page-number left" style="position:absolute;bottom:20px;left:35px;">13</span>
      </div>
    `
  },
  // Page 13 (right) - Contact handwritten note
  {
    type: 'content',
    chapter: 'VI',
    html: `
      <div class="running-header">The Invitation</div>
      <div style="flex:1;display:flex;flex-direction:column;justify-content:center;">
        <div class="handwritten-note">
          <div class="handwritten">
            Let's connect --<br><br>
            <a href="mailto:anshull.garg@email.com" class="contact-link" style="font-family:'Caveat',cursive;">anshull.garg@email.com</a><br><br>
            Find me on:<br>
            <a href="https://linkedin.com/in/anshullgarg" class="contact-link" style="font-family:'Caveat',cursive;">LinkedIn /anshullgarg</a><br>
            <a href="https://github.com/anshullgarg" class="contact-link" style="font-family:'Caveat',cursive;">GitHub /anshullgarg</a><br><br>
            Currently based in<br>
            Bentonville, AR<br><br>
            Open to interesting<br>
            conversations and<br>
            collaborations.<br><br>
            <span style="font-size:1.5rem;">-- Anshull</span>
          </div>
        </div>
      </div>
      <span class="page-number right">14</span>
    `
  },
  // Page 14 (left) - About the Author
  {
    type: 'content',
    chapter: '',
    html: `
      <div style="height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:30px;">
        <div style="font-family:'Crimson Text',serif;font-size:0.75rem;text-transform:uppercase;letter-spacing:3px;color:var(--text-light);opacity:0.5;margin-bottom:30px;">About the Author</div>
        <div class="author-portrait">A</div>
        <div style="font-family:'Playfair Display',serif;font-size:1.1rem;color:var(--text);font-weight:600;margin-bottom:12px;">Anshull Garg</div>
        <p class="body-text" style="text-align:center;font-size:0.9rem;line-height:1.6;text-indent:0;">
          Anshull Garg is a software developer who believes that code, at its finest, is indistinguishable from craft. He currently builds commerce systems at Walmart, where engineering meets human impact at extraordinary scale.
        </p>
        <p class="body-text" style="text-align:center;font-size:0.9rem;line-height:1.6;margin-top:10px;text-indent:0;">
          When not writing code, he can be found exploring new technologies, contributing to open source, and contemplating the intersection of design and engineering.
        </p>
        <div style="margin-top:25px;font-family:'Crimson Text',serif;font-size:0.8rem;color:var(--text-light);font-style:italic;">
          "Still writing. Still learning."
        </div>
        <span class="page-number left" style="position:absolute;bottom:20px;left:35px;">15</span>
      </div>
    `
  },
  // Page 15 (right) - Back cover
  {
    type: 'back',
    html: `
      <div class="back-cover-content">
        <div class="book-quote" style="margin-bottom:20px;">
          Software is a great combination between artistry and engineering.
          <div style="font-size:0.8rem;color:var(--text-light);margin-top:8px;font-style:normal;">-- Bill Gates</div>
        </div>
        <div class="barcode" id="barcode"></div>
        <div class="isbn-joke">ISBN 978-0-DEV-2026-AG</div>
        <div style="margin-top:25px;font-family:'Crimson Text',serif;font-size:0.8rem;color:var(--text-light);max-width:280px;line-height:1.6;">
          This portfolio was hand-crafted with HTML, CSS, and JavaScript. No frameworks were harmed in the making of this book.
        </div>
        <div style="margin-top:20px;font-family:'Playfair Display',serif;font-size:0.7rem;color:var(--text-light);letter-spacing:3px;text-transform:uppercase;opacity:0.4;">
          First Edition &middot; 2026
        </div>
      </div>
    `
  }
];

// ============================================
// STATE & LOGIC
// ============================================
let currentSpread = 0; // 0-based index of which 2-page spread we're viewing
let isAnimating = false;
const totalSpreads = Math.ceil(pages.length / 2);

function getSpreadPages(spreadIndex) {
  const leftIdx = spreadIndex * 2;
  const rightIdx = leftIdx + 1;
  return {
    left: pages[leftIdx] || null,
    right: pages[rightIdx] || null,
    leftIdx,
    rightIdx
  };
}

function renderSpread(spreadIndex, direction) {
  const spread = getSpreadPages(spreadIndex);

  const pageLeftContent = document.getElementById('pageLeftContent');
  const pageFlipFrontContent = document.getElementById('pageFlipFrontContent');
  const pageFlipBackContent = document.getElementById('pageFlipBackContent');
  const pageRightNextContent = document.getElementById('pageRightNextContent');
  const pageFlip = document.getElementById('pageFlip');

  // Left page always shows current spread's left page
  pageLeftContent.innerHTML = spread.left ? spread.left.html : '';

  // Right page (flip front) shows current spread's right page
  pageFlipFrontContent.innerHTML = spread.right ? spread.right.html : '';

  // Prepare next spread for flip animation
  const nextSpread = getSpreadPages(spreadIndex + 1);
  const prevSpread = getSpreadPages(spreadIndex - 1);

  // Flip back shows next spread's left page (revealed when flipping forward)
  pageFlipBackContent.innerHTML = nextSpread.left ? nextSpread.left.html : '';

  // Static right page shows next spread's right page
  pageRightNextContent.innerHTML = nextSpread.right ? nextSpread.right.html : '';

  // Reset flip state
  pageFlip.classList.remove('flipping');
  pageFlip.style.display = spread.right ? 'block' : 'none';

  // Update page indicator
  const leftPageNum = spread.leftIdx + 1;
  const rightPageNum = spread.rightIdx + 1;
  document.getElementById('pageIndicator').textContent =
    `Pages ${leftPageNum}-${rightPageNum} of ${pages.length}`;

  // Update bookmark
  updateBookmark(spread);
}

function updateBookmark(spread) {
  const ribbon = document.getElementById('bookmarkRibbon');
  if (spread.left && spread.left.chapter) {
    ribbon.style.opacity = '1';
    ribbon.style.height = '70px';
  } else if (spread.right && spread.right.chapter) {
    ribbon.style.opacity = '1';
    ribbon.style.height = '70px';
  } else {
    ribbon.style.opacity = '0.3';
    ribbon.style.height = '50px';
  }
}

function flipForward() {
  if (isAnimating || currentSpread >= totalSpreads - 1) return;
  isAnimating = true;

  const pageFlip = document.getElementById('pageFlip');

  // Prepare what's underneath
  const nextSpread = getSpreadPages(currentSpread + 1);
  document.getElementById('pageRightNextContent').innerHTML =
    nextSpread.right ? nextSpread.right.html : '';
  document.getElementById('pageFlipBackContent').innerHTML =
    nextSpread.left ? nextSpread.left.html : '';

  pageFlip.classList.add('flipping');

  setTimeout(() => {
    currentSpread++;
    renderSpread(currentSpread);
    isAnimating = false;
  }, 700);
}

function flipBackward() {
  if (isAnimating || currentSpread <= 0) return;
  isAnimating = true;

  currentSpread--;

  // For backward flip, we set the page to flipped state first, then animate back
  const pageFlip = document.getElementById('pageFlip');
  const spread = getSpreadPages(currentSpread);

  // Show current spread
  document.getElementById('pageLeftContent').innerHTML =
    spread.left ? spread.left.html : '';
  document.getElementById('pageFlipFrontContent').innerHTML =
    spread.right ? spread.right.html : '';

  // Prepare next pages
  const nextSpread = getSpreadPages(currentSpread + 1);
  document.getElementById('pageFlipBackContent').innerHTML =
    nextSpread.left ? nextSpread.left.html : '';
  document.getElementById('pageRightNextContent').innerHTML =
    nextSpread.right ? nextSpread.right.html : '';

  pageFlip.style.display = 'block';
  pageFlip.style.transition = 'none';
  pageFlip.classList.add('flipping');

  // Force reflow
  pageFlip.offsetHeight;

  pageFlip.style.transition = 'transform 0.7s cubic-bezier(0.4, 0.0, 0.2, 1)';
  pageFlip.classList.remove('flipping');

  setTimeout(() => {
    renderSpread(currentSpread);
    isAnimating = false;
  }, 700);
}

function goToSpread(targetSpread) {
  if (isAnimating || targetSpread === currentSpread) return;
  if (targetSpread < 0 || targetSpread >= totalSpreads) return;

  currentSpread = targetSpread;
  renderSpread(currentSpread);
}

// ============================================
// OPEN / CLOSE BOOK
// ============================================
function openBook() {
  const scene = document.getElementById('bookScene');
  const bookOpen = document.getElementById('bookOpen');

  scene.classList.add('fade-out');

  setTimeout(() => {
    scene.style.display = 'none';
    bookOpen.classList.add('active');
    currentSpread = 0;
    renderSpread(0);
    generateBarcode();
  }, 500);
}

function closeBook() {
  const scene = document.getElementById('bookScene');
  const bookOpen = document.getElementById('bookOpen');

  bookOpen.classList.remove('active');
  scene.style.display = 'flex';
  scene.classList.remove('fade-out');
}

// ============================================
// BARCODE GENERATOR
// ============================================
function generateBarcode() {
  const container = document.getElementById('barcode');
  if (!container || container.children.length > 0) return;

  const pattern = [3,1,2,1,3,2,1,3,1,2,3,1,2,1,3,1,2,3,1,1,3,2,1,2,3,1,2,1,3,2,1,3];
  pattern.forEach(w => {
    const line = document.createElement('div');
    line.className = 'barcode-line';
    line.style.width = w + 'px';
    line.style.height = (30 + Math.random() * 20) + 'px';
    container.appendChild(line);
  });
}

// ============================================
// KEYBOARD NAVIGATION
// ============================================
document.addEventListener('keydown', (e) => {
  if (e.key === 'ArrowRight' || e.key === ' ') {
    e.preventDefault();
    if (document.getElementById('bookOpen').classList.contains('active')) {
      flipForward();
    } else {
      openBook();
    }
  }
  if (e.key === 'ArrowLeft') {
    e.preventDefault();
    flipBackward();
  }
  if (e.key === 'Escape') {
    closeBook();
  }
});

// Enter key on book cover
document.getElementById('bookClosed').addEventListener('keydown', (e) => {
  if (e.key === 'Enter') openBook();
});

// ============================================
// TOUCH / SWIPE SUPPORT
// ============================================
let touchStartX = 0;
let touchEndX = 0;

document.addEventListener('touchstart', (e) => {
  touchStartX = e.changedTouches[0].screenX;
}, { passive: true });

document.addEventListener('touchend', (e) => {
  touchEndX = e.changedTouches[0].screenX;
  const diff = touchStartX - touchEndX;

  if (Math.abs(diff) > 50) {
    if (diff > 0) {
      flipForward();
    } else {
      flipBackward();
    }
  }
}, { passive: true });
</script>
</body>
</html>
