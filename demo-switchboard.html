<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SWITCHBOARD OPERATOR | Anshull Garg - Software Developer @ Walmart</title>
<meta name="description" content="Anshull Garg - Software Developer at Walmart. An Art Deco telephone switchboard portfolio experience.">
<meta name="theme-color" content="#1A1A1A">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Cinzel:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
/* ============================================================
   CSS CUSTOM PROPERTIES
   ============================================================ */
:root {
  --black: #1A1A1A;
  --gold: #C9A84C;
  --gold-light: #E0C872;
  --gold-dark: #9A7A30;
  --teal: #2D4F4F;
  --teal-light: #3D6B6B;
  --ivory: #E8D5C4;
  --ivory-dim: #C4B09A;
  --oxblood: #8B3A3A;
  --oxblood-light: #A84E4E;
  --cable-1: #C9A84C;
  --cable-2: #8B3A3A;
  --cable-3: #2D4F4F;
  --cable-4: #B07040;
  --cable-5: #6B4E8B;
  --font-deco: 'Cinzel Decorative', serif;
  --font-heading: 'Cinzel', serif;
  --font-body: 'Inter', sans-serif;
}

/* ============================================================
   RESET & BASE
   ============================================================ */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-body);
  background: var(--black);
  color: var(--ivory);
  min-height: 100vh;
  overflow-x: hidden;
  position: relative;
}

/* Subtle noise overlay */
body::after {
  content: '';
  position: fixed;
  inset: 0;
  opacity: 0.04;
  pointer-events: none;
  z-index: 9999;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
}

/* ============================================================
   ART DECO DECORATIVE BORDERS
   ============================================================ */
.deco-border-top, .deco-border-bottom {
  width: 100%;
  height: 40px;
  position: relative;
  overflow: hidden;
}

.deco-border-top::before, .deco-border-bottom::before {
  content: '';
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 80%;
  max-width: 900px;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  top: 50%;
}

.deco-border-top::after, .deco-border-bottom::after {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) rotate(45deg);
  width: 10px;
  height: 10px;
  border: 2px solid var(--gold);
  background: var(--black);
}

/* ============================================================
   SUNBURST DECORATION
   ============================================================ */
.sunburst {
  position: absolute;
  pointer-events: none;
  opacity: 0.06;
}

.sunburst svg {
  width: 100%;
  height: 100%;
}

/* ============================================================
   HEADER
   ============================================================ */
.header {
  text-align: center;
  padding: 40px 20px 10px;
  position: relative;
  z-index: 1;
}

.header-emblem {
  width: 60px;
  height: 60px;
  margin: 0 auto 16px;
  position: relative;
}

.header-emblem svg {
  width: 100%;
  height: 100%;
}

.header h1 {
  font-family: var(--font-deco);
  font-size: clamp(18px, 4vw, 32px);
  font-weight: 900;
  color: var(--gold);
  letter-spacing: 6px;
  text-transform: uppercase;
  margin-bottom: 6px;
  text-shadow: 0 0 30px rgba(201, 168, 76, 0.3);
}

.header .subtitle {
  font-family: var(--font-heading);
  font-size: clamp(10px, 2vw, 14px);
  color: var(--ivory-dim);
  letter-spacing: 4px;
  text-transform: uppercase;
}

.header .role {
  font-family: var(--font-body);
  font-size: 12px;
  color: var(--gold-dark);
  margin-top: 4px;
  letter-spacing: 2px;
}

/* ============================================================
   OPERATOR HEADSET DECORATION
   ============================================================ */
.headset-deco {
  position: absolute;
  top: 20px;
  right: 30px;
  width: 80px;
  height: 80px;
  opacity: 0.15;
  pointer-events: none;
}

.headset-deco-left {
  position: absolute;
  top: 20px;
  left: 30px;
  width: 80px;
  height: 80px;
  opacity: 0.15;
  pointer-events: none;
  transform: scaleX(-1);
}

/* ============================================================
   INSTRUCTIONS
   ============================================================ */
.instructions {
  text-align: center;
  padding: 10px 20px 20px;
  position: relative;
  z-index: 1;
}

.instructions p {
  font-family: var(--font-heading);
  font-size: clamp(11px, 1.8vw, 14px);
  color: var(--ivory-dim);
  letter-spacing: 1px;
  line-height: 1.6;
}

.instructions .blink-hint {
  color: var(--gold);
  animation: pulse-gold 2s ease-in-out infinite;
}

@keyframes pulse-gold {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

/* ============================================================
   SPLIT-FLAP DISPLAY
   ============================================================ */
.split-flap-container {
  width: 90%;
  max-width: 800px;
  margin: 0 auto 30px;
  padding: 20px;
  position: relative;
  z-index: 1;
}

.split-flap-housing {
  background: linear-gradient(180deg, #222 0%, #1A1A1A 50%, #222 100%);
  border: 2px solid var(--gold-dark);
  border-radius: 8px;
  padding: 20px 16px;
  position: relative;
  box-shadow:
    inset 0 2px 8px rgba(0,0,0,0.6),
    0 4px 20px rgba(0,0,0,0.4),
    0 0 1px var(--gold-dark);
}

.split-flap-housing::before {
  content: '';
  position: absolute;
  top: -1px;
  left: 20px;
  right: 20px;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
}

.split-flap-label {
  font-family: var(--font-heading);
  font-size: 10px;
  color: var(--gold-dark);
  letter-spacing: 3px;
  text-transform: uppercase;
  text-align: center;
  margin-bottom: 12px;
}

.split-flap-row {
  display: flex;
  justify-content: center;
  gap: 3px;
  flex-wrap: wrap;
  min-height: 44px;
}

.flap-char {
  width: 28px;
  height: 40px;
  background: #111;
  border: 1px solid #333;
  border-radius: 3px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-heading);
  font-size: 20px;
  font-weight: 600;
  color: var(--ivory);
  position: relative;
  overflow: hidden;
  box-shadow: inset 0 1px 3px rgba(0,0,0,0.5);
}

.flap-char::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  top: 49%;
  height: 1px;
  background: rgba(0,0,0,0.4);
}

.flap-char.space {
  background: transparent;
  border-color: transparent;
  box-shadow: none;
}

.flap-char.space::after {
  display: none;
}

.flap-char.flipping {
  animation: flap-flip 0.15s ease-in-out;
}

@keyframes flap-flip {
  0% { transform: rotateX(0); }
  50% { transform: rotateX(90deg); opacity: 0.5; }
  100% { transform: rotateX(0); opacity: 1; }
}

/* ============================================================
   SWITCHBOARD PANEL
   ============================================================ */
.switchboard {
  width: 94%;
  max-width: 900px;
  margin: 0 auto 30px;
  position: relative;
  z-index: 2;
}

.panel {
  background: linear-gradient(180deg, #2A2420 0%, #1E1A16 40%, #221E18 100%);
  border: 3px solid var(--gold-dark);
  border-radius: 12px;
  padding: 30px 20px;
  position: relative;
  box-shadow:
    inset 0 2px 10px rgba(0,0,0,0.5),
    0 8px 40px rgba(0,0,0,0.6),
    0 0 0 1px rgba(201, 168, 76, 0.1);
}

/* Deco corner accents */
.panel::before {
  content: '';
  position: absolute;
  top: 8px;
  left: 8px;
  right: 8px;
  bottom: 8px;
  border: 1px solid rgba(201, 168, 76, 0.15);
  border-radius: 8px;
  pointer-events: none;
}

.panel-title {
  font-family: var(--font-deco);
  font-size: clamp(12px, 2.5vw, 18px);
  color: var(--gold);
  text-align: center;
  letter-spacing: 4px;
  text-transform: uppercase;
  margin-bottom: 6px;
}

.panel-subtitle {
  font-family: var(--font-body);
  font-size: 11px;
  color: var(--ivory-dim);
  text-align: center;
  letter-spacing: 2px;
  margin-bottom: 24px;
  opacity: 0.7;
}

/* SVG Cable Layer */
.cable-layer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 3;
}

/* Jack Grid */
.jack-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 24px 16px;
  max-width: 560px;
  margin: 0 auto;
  position: relative;
  z-index: 4;
}

@media (max-width: 480px) {
  .jack-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 28px 20px;
  }
}

/* Individual Jack */
.jack {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  position: relative;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
}

.jack-socket {
  width: 56px;
  height: 56px;
  position: relative;
  transition: transform 0.2s ease;
}

.jack:hover .jack-socket {
  transform: scale(1.1);
}

.jack.active .jack-socket {
  transform: scale(1.05);
}

.jack-socket svg {
  width: 100%;
  height: 100%;
}

.jack-label {
  font-family: var(--font-heading);
  font-size: 10px;
  color: var(--ivory-dim);
  letter-spacing: 2px;
  text-transform: uppercase;
  text-align: center;
  transition: color 0.3s ease;
  line-height: 1.3;
}

.jack:hover .jack-label {
  color: var(--gold);
}

.jack.active .jack-label {
  color: var(--gold-light);
  text-shadow: 0 0 10px rgba(201, 168, 76, 0.4);
}

/* Ring Indicator */
.ring-indicator {
  position: absolute;
  top: -4px;
  right: 6px;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--oxblood);
  box-shadow: 0 0 6px var(--oxblood);
  opacity: 0;
  transition: opacity 0.3s;
}

.ring-indicator.ringing {
  opacity: 1;
  animation: ring-blink 0.6s ease-in-out infinite;
}

@keyframes ring-blink {
  0%, 100% { opacity: 1; box-shadow: 0 0 6px var(--oxblood); }
  50% { opacity: 0.3; box-shadow: 0 0 2px var(--oxblood); }
}

/* Brass handle details */
.brass-handle {
  width: 80%;
  max-width: 200px;
  height: 8px;
  margin: 20px auto 0;
  background: linear-gradient(180deg, var(--gold-light) 0%, var(--gold) 40%, var(--gold-dark) 100%);
  border-radius: 4px;
  box-shadow:
    0 2px 4px rgba(0,0,0,0.4),
    inset 0 1px 0 rgba(255,255,255,0.2);
}

/* ============================================================
   CONNECTION STATUS
   ============================================================ */
.connection-status {
  width: 94%;
  max-width: 900px;
  margin: 0 auto 20px;
  padding: 0 10px;
  position: relative;
  z-index: 1;
}

.status-bar {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  flex-wrap: wrap;
}

.active-connection {
  display: flex;
  align-items: center;
  gap: 6px;
  background: rgba(201, 168, 76, 0.08);
  border: 1px solid rgba(201, 168, 76, 0.2);
  border-radius: 20px;
  padding: 5px 14px;
  font-family: var(--font-heading);
  font-size: 11px;
  color: var(--gold);
  letter-spacing: 1px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.active-connection:hover {
  background: rgba(139, 58, 58, 0.15);
  border-color: var(--oxblood);
  color: var(--oxblood-light);
}

.active-connection .conn-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--gold);
  box-shadow: 0 0 6px rgba(201, 168, 76, 0.5);
}

.active-connection:hover .conn-dot {
  background: var(--oxblood);
}

.no-connections {
  font-family: var(--font-heading);
  font-size: 11px;
  color: var(--ivory-dim);
  letter-spacing: 2px;
  opacity: 0.5;
}

/* ============================================================
   CONTENT DISPLAY
   ============================================================ */
.content-display {
  width: 94%;
  max-width: 900px;
  margin: 0 auto 40px;
  position: relative;
  z-index: 1;
  min-height: 200px;
}

.content-card {
  background: linear-gradient(180deg, rgba(45, 79, 79, 0.1) 0%, rgba(26, 26, 26, 0.9) 100%);
  border: 1px solid rgba(201, 168, 76, 0.2);
  border-radius: 8px;
  padding: 28px 24px;
  margin-bottom: 16px;
  position: relative;
  overflow: hidden;
  animation: card-appear 0.5s ease-out;
}

.content-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
}

@keyframes card-appear {
  from { opacity: 0; transform: translateY(16px); }
  to { opacity: 1; transform: translateY(0); }
}

.content-card h3 {
  font-family: var(--font-deco);
  font-size: clamp(14px, 2.5vw, 20px);
  color: var(--gold);
  letter-spacing: 3px;
  margin-bottom: 12px;
}

.content-card h4 {
  font-family: var(--font-heading);
  font-size: 14px;
  color: var(--gold-light);
  letter-spacing: 1px;
  margin: 16px 0 8px;
}

.content-card p {
  font-size: 14px;
  line-height: 1.7;
  color: var(--ivory-dim);
  margin-bottom: 10px;
}

.content-card ul {
  list-style: none;
  padding: 0;
}

.content-card ul li {
  font-size: 13px;
  color: var(--ivory-dim);
  padding: 4px 0 4px 18px;
  position: relative;
  line-height: 1.5;
}

.content-card ul li::before {
  content: '';
  position: absolute;
  left: 0;
  top: 11px;
  width: 8px;
  height: 8px;
  border: 1px solid var(--gold-dark);
  transform: rotate(45deg);
}

.tag-row {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 10px;
}

.tag {
  font-family: var(--font-heading);
  font-size: 10px;
  letter-spacing: 1px;
  padding: 3px 10px;
  border: 1px solid rgba(201, 168, 76, 0.3);
  border-radius: 12px;
  color: var(--gold);
}

.content-empty {
  text-align: center;
  padding: 60px 20px;
}

.content-empty p {
  font-family: var(--font-heading);
  font-size: 14px;
  color: var(--ivory-dim);
  letter-spacing: 2px;
  opacity: 0.4;
}

/* Deco geometric separator */
.deco-sep {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  margin: 20px 0;
}

.deco-sep .line {
  flex: 1;
  max-width: 80px;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold-dark));
}

.deco-sep .line:last-child {
  background: linear-gradient(90deg, var(--gold-dark), transparent);
}

.deco-sep .diamond {
  width: 8px;
  height: 8px;
  border: 1px solid var(--gold-dark);
  transform: rotate(45deg);
}

/* ============================================================
   FOOTER
   ============================================================ */
.footer {
  text-align: center;
  padding: 30px 20px 40px;
  position: relative;
  z-index: 1;
}

.footer p {
  font-family: var(--font-heading);
  font-size: 11px;
  color: var(--ivory-dim);
  letter-spacing: 2px;
  opacity: 0.4;
}

.footer a {
  color: var(--gold);
  text-decoration: none;
}

/* ============================================================
   SELECTION HIGHLIGHT / PENDING CABLE
   ============================================================ */
.jack.selected .jack-socket {
  transform: scale(1.15);
  filter: drop-shadow(0 0 8px rgba(201, 168, 76, 0.5));
}

.jack.selected .jack-label {
  color: var(--gold-light);
}

/* Pending cable follows cursor */
.pending-cable {
  pointer-events: none;
  z-index: 5;
}

/* ============================================================
   SCREW DETAILS
   ============================================================ */
.screw {
  position: absolute;
  width: 14px;
  height: 14px;
}

.screw svg {
  width: 100%;
  height: 100%;
}

.screw-tl { top: 14px; left: 14px; }
.screw-tr { top: 14px; right: 14px; }
.screw-bl { bottom: 14px; left: 14px; }
.screw-br { bottom: 14px; right: 14px; }

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media (max-width: 600px) {
  .header h1 {
    letter-spacing: 3px;
  }
  .headset-deco, .headset-deco-left {
    width: 50px;
    height: 50px;
    top: 10px;
  }
  .headset-deco { right: 10px; }
  .headset-deco-left { left: 10px; }
  .flap-char {
    width: 22px;
    height: 32px;
    font-size: 16px;
  }
  .panel {
    padding: 20px 14px;
  }
  .jack-socket {
    width: 48px;
    height: 48px;
  }
}

/* ============================================================
   INTRO OVERLAY
   ============================================================ */
.intro-overlay {
  position: fixed;
  inset: 0;
  background: var(--black);
  z-index: 10000;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  transition: opacity 0.8s ease, visibility 0.8s ease;
}

.intro-overlay.hidden {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.intro-overlay h2 {
  font-family: var(--font-deco);
  font-size: clamp(20px, 5vw, 40px);
  color: var(--gold);
  letter-spacing: 6px;
  text-transform: uppercase;
  margin-bottom: 16px;
  text-align: center;
  animation: intro-fade-in 1s ease-out;
}

.intro-overlay p {
  font-family: var(--font-heading);
  font-size: 14px;
  color: var(--ivory-dim);
  letter-spacing: 3px;
  margin-bottom: 30px;
  animation: intro-fade-in 1s ease-out 0.3s both;
}

.intro-btn {
  font-family: var(--font-heading);
  font-size: 13px;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--gold);
  background: transparent;
  border: 2px solid var(--gold);
  padding: 12px 36px;
  cursor: pointer;
  transition: all 0.3s ease;
  animation: intro-fade-in 1s ease-out 0.6s both;
}

.intro-btn:hover {
  background: var(--gold);
  color: var(--black);
}

@keyframes intro-fade-in {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Sunburst behind intro */
.intro-sunburst {
  position: absolute;
  width: 400px;
  height: 400px;
  opacity: 0.06;
  pointer-events: none;
}
</style>
</head>
<body>

<!-- ============================================================
     INTRO OVERLAY
     ============================================================ -->
<div class="intro-overlay" id="introOverlay">
  <svg class="intro-sunburst" viewBox="0 0 400 400" fill="none">
    <g opacity="0.6">
      <line x1="200" y1="200" x2="200" y2="0" stroke="#C9A84C" stroke-width="1"/>
      <line x1="200" y1="200" x2="300" y2="27" stroke="#C9A84C" stroke-width="1"/>
      <line x1="200" y1="200" x2="373" y2="100" stroke="#C9A84C" stroke-width="1"/>
      <line x1="200" y1="200" x2="400" y2="200" stroke="#C9A84C" stroke-width="1"/>
      <line x1="200" y1="200" x2="373" y2="300" stroke="#C9A84C" stroke-width="1"/>
      <line x1="200" y1="200" x2="300" y2="373" stroke="#C9A84C" stroke-width="1"/>
      <line x1="200" y1="200" x2="200" y2="400" stroke="#C9A84C" stroke-width="1"/>
      <line x1="200" y1="200" x2="100" y2="373" stroke="#C9A84C" stroke-width="1"/>
      <line x1="200" y1="200" x2="27" y2="300" stroke="#C9A84C" stroke-width="1"/>
      <line x1="200" y1="200" x2="0" y2="200" stroke="#C9A84C" stroke-width="1"/>
      <line x1="200" y1="200" x2="27" y2="100" stroke="#C9A84C" stroke-width="1"/>
      <line x1="200" y1="200" x2="100" y2="27" stroke="#C9A84C" stroke-width="1"/>
      <circle cx="200" cy="200" r="60" stroke="#C9A84C" stroke-width="0.5" fill="none"/>
      <circle cx="200" cy="200" r="120" stroke="#C9A84C" stroke-width="0.5" fill="none"/>
      <circle cx="200" cy="200" r="180" stroke="#C9A84C" stroke-width="0.5" fill="none"/>
    </g>
  </svg>
  <h2>Switchboard</h2>
  <p>Anshull Garg - Software Developer</p>
  <button class="intro-btn" id="introBtn">Connect the Line</button>
</div>

<!-- ============================================================
     HEADSET DECORATIONS
     ============================================================ -->
<div class="headset-deco">
  <svg viewBox="0 0 80 80" fill="none">
    <path d="M20 55 C20 30, 60 30, 60 55" stroke="#C9A84C" stroke-width="2" fill="none" opacity="0.6"/>
    <circle cx="18" cy="58" r="8" stroke="#C9A84C" stroke-width="1.5" fill="none" opacity="0.4"/>
    <circle cx="62" cy="58" r="8" stroke="#C9A84C" stroke-width="1.5" fill="none" opacity="0.4"/>
    <rect x="56" y="62" width="12" height="16" rx="3" stroke="#C9A84C" stroke-width="1" fill="none" opacity="0.3"/>
  </svg>
</div>
<div class="headset-deco-left">
  <svg viewBox="0 0 80 80" fill="none">
    <path d="M20 55 C20 30, 60 30, 60 55" stroke="#C9A84C" stroke-width="2" fill="none" opacity="0.6"/>
    <circle cx="18" cy="58" r="8" stroke="#C9A84C" stroke-width="1.5" fill="none" opacity="0.4"/>
    <circle cx="62" cy="58" r="8" stroke="#C9A84C" stroke-width="1.5" fill="none" opacity="0.4"/>
    <rect x="56" y="62" width="12" height="16" rx="3" stroke="#C9A84C" stroke-width="1" fill="none" opacity="0.3"/>
  </svg>
</div>

<!-- ============================================================
     HEADER
     ============================================================ -->
<header class="header">
  <div class="header-emblem">
    <svg viewBox="0 0 60 60" fill="none">
      <!-- Art Deco emblem -->
      <polygon points="30,2 58,30 30,58 2,30" stroke="#C9A84C" stroke-width="1.5" fill="none"/>
      <polygon points="30,10 50,30 30,50 10,30" stroke="#C9A84C" stroke-width="1" fill="none" opacity="0.5"/>
      <circle cx="30" cy="30" r="8" stroke="#C9A84C" stroke-width="1.5" fill="none"/>
      <circle cx="30" cy="30" r="3" fill="#C9A84C" opacity="0.6"/>
      <line x1="30" y1="2" x2="30" y2="10" stroke="#C9A84C" stroke-width="1"/>
      <line x1="58" y1="30" x2="50" y2="30" stroke="#C9A84C" stroke-width="1"/>
      <line x1="30" y1="58" x2="30" y2="50" stroke="#C9A84C" stroke-width="1"/>
      <line x1="2" y1="30" x2="10" y2="30" stroke="#C9A84C" stroke-width="1"/>
    </svg>
  </div>
  <h1>Switchboard</h1>
  <div class="subtitle">Anshull Garg</div>
  <div class="role">Software Developer at Walmart</div>
</header>

<div class="deco-border-top"></div>

<!-- ============================================================
     INSTRUCTIONS
     ============================================================ -->
<div class="instructions">
  <p>
    Click a jack to pick up a cable, then click another to <span class="blink-hint">connect the line</span>.
    <br>Each connection reveals content. Click an active connection to disconnect.
  </p>
</div>

<!-- ============================================================
     SPLIT-FLAP DISPLAY
     ============================================================ -->
<div class="split-flap-container">
  <div class="split-flap-housing">
    <div class="split-flap-label">Incoming Transmission</div>
    <div class="split-flap-row" id="splitFlap"></div>
  </div>
</div>

<!-- ============================================================
     SWITCHBOARD PANEL
     ============================================================ -->
<div class="switchboard" id="switchboard">
  <div class="panel" id="panel">
    <!-- Screws -->
    <div class="screw screw-tl">
      <svg viewBox="0 0 14 14" fill="none">
        <circle cx="7" cy="7" r="6" fill="#333" stroke="#555" stroke-width="0.5"/>
        <line x1="4" y1="7" x2="10" y2="7" stroke="#666" stroke-width="1"/>
        <line x1="7" y1="4" x2="7" y2="10" stroke="#666" stroke-width="1"/>
      </svg>
    </div>
    <div class="screw screw-tr">
      <svg viewBox="0 0 14 14" fill="none">
        <circle cx="7" cy="7" r="6" fill="#333" stroke="#555" stroke-width="0.5"/>
        <line x1="4" y1="7" x2="10" y2="7" stroke="#666" stroke-width="1"/>
        <line x1="7" y1="4" x2="7" y2="10" stroke="#666" stroke-width="1"/>
      </svg>
    </div>
    <div class="screw screw-bl">
      <svg viewBox="0 0 14 14" fill="none">
        <circle cx="7" cy="7" r="6" fill="#333" stroke="#555" stroke-width="0.5"/>
        <line x1="4" y1="7" x2="10" y2="7" stroke="#666" stroke-width="1"/>
        <line x1="7" y1="4" x2="7" y2="10" stroke="#666" stroke-width="1"/>
      </svg>
    </div>
    <div class="screw screw-br">
      <svg viewBox="0 0 14 14" fill="none">
        <circle cx="7" cy="7" r="6" fill="#333" stroke="#555" stroke-width="0.5"/>
        <line x1="4" y1="7" x2="10" y2="7" stroke="#666" stroke-width="1"/>
        <line x1="7" y1="4" x2="7" y2="10" stroke="#666" stroke-width="1"/>
      </svg>
    </div>

    <div class="panel-title">Patch Bay</div>
    <div class="panel-subtitle">Select Two Jacks to Connect</div>

    <!-- Cable SVG Layer -->
    <svg class="cable-layer" id="cableLayer" xmlns="http://www.w3.org/2000/svg"></svg>

    <!-- Jack Grid -->
    <div class="jack-grid" id="jackGrid"></div>

    <div class="brass-handle"></div>
  </div>
</div>

<div class="deco-border-bottom"></div>

<!-- ============================================================
     CONNECTION STATUS
     ============================================================ -->
<div class="connection-status" id="connectionStatus">
  <div class="status-bar" id="statusBar">
    <span class="no-connections">No Active Connections</span>
  </div>
</div>

<!-- ============================================================
     CONTENT DISPLAY
     ============================================================ -->
<div class="content-display" id="contentDisplay">
  <div class="content-empty">
    <div class="deco-sep">
      <span class="line"></span>
      <span class="diamond"></span>
      <span class="line"></span>
    </div>
    <p>Connect jacks above to reveal portfolio content</p>
    <div class="deco-sep">
      <span class="line"></span>
      <span class="diamond"></span>
      <span class="line"></span>
    </div>
  </div>
</div>

<!-- ============================================================
     FOOTER
     ============================================================ -->
<div class="deco-border-bottom"></div>
<footer class="footer">
  <p>Anshull Garg &mdash; Software Developer at Walmart</p>
</footer>

<!-- ============================================================
     SUNBURST DECORATIONS
     ============================================================ -->
<div class="sunburst" style="width:300px;height:300px;top:100px;left:-100px;">
  <svg viewBox="0 0 300 300" fill="none">
    <g>
      <line x1="150" y1="150" x2="150" y2="0" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="225" y2="20" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="280" y2="75" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="300" y2="150" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="280" y2="225" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="225" y2="280" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="150" y2="300" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="75" y2="280" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="20" y2="225" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="0" y2="150" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="20" y2="75" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="75" y2="20" stroke="#C9A84C" stroke-width="0.5"/>
      <circle cx="150" cy="150" r="40" stroke="#C9A84C" stroke-width="0.3" fill="none"/>
      <circle cx="150" cy="150" r="80" stroke="#C9A84C" stroke-width="0.3" fill="none"/>
      <circle cx="150" cy="150" r="120" stroke="#C9A84C" stroke-width="0.3" fill="none"/>
    </g>
  </svg>
</div>
<div class="sunburst" style="width:250px;height:250px;bottom:200px;right:-80px;">
  <svg viewBox="0 0 300 300" fill="none">
    <g>
      <line x1="150" y1="150" x2="150" y2="0" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="280" y2="75" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="300" y2="150" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="280" y2="225" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="150" y2="300" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="20" y2="225" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="0" y2="150" stroke="#C9A84C" stroke-width="0.5"/>
      <line x1="150" y1="150" x2="20" y2="75" stroke="#C9A84C" stroke-width="0.5"/>
      <circle cx="150" cy="150" r="50" stroke="#C9A84C" stroke-width="0.3" fill="none"/>
      <circle cx="150" cy="150" r="100" stroke="#C9A84C" stroke-width="0.3" fill="none"/>
    </g>
  </svg>
</div>


<script>
/* ============================================================
   DATA & CONFIG
   ============================================================ */
const JACKS = [
  { id: 'react',      label: 'React' },
  { id: 'node',       label: 'Node.js' },
  { id: 'aws',        label: 'AWS' },
  { id: 'typescript', label: 'TypeScript' },
  { id: 'projects',   label: 'Projects' },
  { id: 'about',      label: 'About' },
  { id: 'skills',     label: 'Skills' },
  { id: 'contact',    label: 'Contact' },
];

const CABLE_COLORS = ['#C9A84C', '#8B3A3A', '#2D6B6B', '#B07040', '#7B5EA7'];

// Content keyed by sorted connection pair
const CONTENT_MAP = {
  'about+contact': {
    title: 'Get in Touch',
    flap: 'HELLO OPERATOR',
    html: `<h3>Get in Touch</h3>
      <p>Anshull Garg is a Software Developer at Walmart, building scalable solutions that serve millions of customers. Passionate about clean architecture, developer experience, and shipping products that matter.</p>
      <h4>Connect</h4>
      <ul>
        <li>LinkedIn: linkedin.com/in/anshullgarg</li>
        <li>GitHub: github.com/anshullgarg</li>
        <li>Email: anshull.garg@outlook.com</li>
      </ul>`
  },
  'about+skills': {
    title: 'Who I Am',
    flap: 'ANSHULL GARG',
    html: `<h3>About Anshull Garg</h3>
      <p>Software Developer at Walmart with deep expertise across the modern web stack. I specialize in building performant, accessible, and maintainable applications at enterprise scale.</p>
      <p>My approach combines strong engineering fundamentals with a keen eye for user experience. I believe great software is invisible -- it just works, elegantly.</p>
      <h4>Core Strengths</h4>
      <ul>
        <li>Full-stack development with React and Node.js ecosystems</li>
        <li>Cloud architecture and serverless patterns on AWS</li>
        <li>Performance optimization and monitoring at scale</li>
        <li>Mentoring teams and driving engineering best practices</li>
      </ul>`
  },
  'react+node': {
    title: 'Full-Stack',
    flap: 'FULL STACK DEV',
    html: `<h3>Full-Stack Development</h3>
      <p>Building end-to-end solutions with React on the frontend and Node.js powering the backend. This combination enables rapid prototyping, shared TypeScript types, and unified tooling across the stack.</p>
      <h4>Stack Highlights</h4>
      <ul>
        <li>Server-side rendering with Next.js for optimal performance</li>
        <li>Express and Fastify APIs with middleware patterns</li>
        <li>GraphQL layer bridging frontend and backend data needs</li>
        <li>Monorepo architecture with shared packages</li>
      </ul>
      <div class="tag-row">
        <span class="tag">Next.js</span>
        <span class="tag">Express</span>
        <span class="tag">GraphQL</span>
        <span class="tag">REST</span>
      </div>`
  },
  'react+typescript': {
    title: 'Type-Safe UI',
    flap: 'TYPED REACT',
    html: `<h3>Type-Safe React Development</h3>
      <p>Leveraging TypeScript's powerful type system to build robust React applications with confidence. Strict typing catches bugs at compile time and serves as living documentation.</p>
      <h4>Patterns & Practices</h4>
      <ul>
        <li>Strongly-typed component props with discriminated unions</li>
        <li>Generic hook patterns for reusable state logic</li>
        <li>Type-safe Redux slices with createSlice and RTK Query</li>
        <li>Zod schema validation for runtime type checking</li>
        <li>Strict tsconfig with no-any enforcement</li>
      </ul>
      <div class="tag-row">
        <span class="tag">TypeScript</span>
        <span class="tag">React</span>
        <span class="tag">Zod</span>
        <span class="tag">RTK Query</span>
      </div>`
  },
  'react+projects': {
    title: 'React Projects',
    flap: 'REACT PROJECTS',
    html: `<h3>React Projects</h3>
      <h4>Walmart Storefront Components</h4>
      <p>Built reusable component library powering product pages across Walmart.com. Focused on accessibility, performance budgets, and design system consistency.</p>
      <h4>Real-Time Dashboard</h4>
      <p>Interactive analytics dashboard with WebSocket-driven live updates, complex charting with D3, and optimistic UI patterns for instant feedback.</p>
      <h4>Design System</h4>
      <p>Authored and maintained a shared component library with Storybook documentation, visual regression testing, and automated accessibility audits.</p>
      <div class="tag-row">
        <span class="tag">React 18</span>
        <span class="tag">Hooks</span>
        <span class="tag">Storybook</span>
        <span class="tag">D3</span>
      </div>`
  },
  'node+aws': {
    title: 'Cloud Backend',
    flap: 'CLOUD BACKEND',
    html: `<h3>Cloud-Native Backend</h3>
      <p>Designing and deploying serverless and containerized Node.js services on AWS. Focus on event-driven architectures, auto-scaling, and cost optimization.</p>
      <h4>Architecture Patterns</h4>
      <ul>
        <li>Lambda functions with API Gateway for serverless APIs</li>
        <li>SQS/SNS event-driven microservices</li>
        <li>DynamoDB single-table design for low-latency reads</li>
        <li>CloudFormation and CDK infrastructure-as-code</li>
        <li>ECS Fargate for containerized workloads</li>
      </ul>
      <div class="tag-row">
        <span class="tag">Lambda</span>
        <span class="tag">DynamoDB</span>
        <span class="tag">SQS</span>
        <span class="tag">CDK</span>
      </div>`
  },
  'node+projects': {
    title: 'Backend Projects',
    flap: 'NODE PROJECTS',
    html: `<h3>Node.js Projects</h3>
      <h4>API Gateway Service</h4>
      <p>High-throughput API gateway handling 50K+ requests per second with rate limiting, circuit breakers, and request tracing. Built with Fastify and deployed on Kubernetes.</p>
      <h4>Data Pipeline</h4>
      <p>ETL pipeline processing millions of product records daily. Stream-based architecture with backpressure handling and dead-letter queue recovery.</p>
      <h4>CLI Tooling</h4>
      <p>Internal developer CLI for scaffolding projects, managing deployments, and running automated checks. Published as an npm package.</p>
      <div class="tag-row">
        <span class="tag">Fastify</span>
        <span class="tag">Streams</span>
        <span class="tag">K8s</span>
        <span class="tag">npm</span>
      </div>`
  },
  'aws+projects': {
    title: 'Cloud Projects',
    flap: 'AWS PROJECTS',
    html: `<h3>AWS Projects</h3>
      <h4>Multi-Region Deployment</h4>
      <p>Architected active-active multi-region setup for critical services, achieving 99.99% uptime with automated failover and health monitoring.</p>
      <h4>Cost Optimization Initiative</h4>
      <p>Led effort to reduce AWS spend by 40% through right-sizing, reserved instances, spot fleet adoption, and eliminating idle resources.</p>
      <h4>Observability Platform</h4>
      <p>Built centralized logging and monitoring with CloudWatch, X-Ray distributed tracing, and custom dashboards for real-time operational visibility.</p>
      <div class="tag-row">
        <span class="tag">Multi-Region</span>
        <span class="tag">CloudWatch</span>
        <span class="tag">X-Ray</span>
        <span class="tag">CDK</span>
      </div>`
  },
  'skills+react': {
    title: 'React Skills',
    flap: 'REACT MASTERY',
    html: `<h3>React Expertise</h3>
      <ul>
        <li>React 18 with Concurrent Features and Suspense</li>
        <li>Advanced hooks: useTransition, useDeferredValue, useSyncExternalStore</li>
        <li>State management: Redux Toolkit, Zustand, React Query</li>
        <li>Server Components and streaming SSR with Next.js</li>
        <li>Performance: React.memo, useMemo, code splitting, lazy loading</li>
        <li>Testing: React Testing Library, Cypress, Playwright</li>
        <li>Animation: Framer Motion, CSS transitions, GSAP</li>
        <li>Accessibility: WCAG 2.1 AA compliance, screen reader testing</li>
      </ul>`
  },
  'skills+node': {
    title: 'Node.js Skills',
    flap: 'NODE MASTERY',
    html: `<h3>Node.js Expertise</h3>
      <ul>
        <li>Express, Fastify, NestJS frameworks</li>
        <li>Stream processing and worker threads</li>
        <li>GraphQL with Apollo Server and type-graphql</li>
        <li>Database: PostgreSQL, MongoDB, Redis, DynamoDB</li>
        <li>Message queues: RabbitMQ, Kafka, SQS</li>
        <li>Authentication: JWT, OAuth 2.0, SAML</li>
        <li>Testing: Jest, Supertest, k6 load testing</li>
        <li>Monitoring: OpenTelemetry, Prometheus, Grafana</li>
      </ul>`
  },
  'skills+aws': {
    title: 'AWS Skills',
    flap: 'AWS MASTERY',
    html: `<h3>AWS Expertise</h3>
      <ul>
        <li>Compute: Lambda, ECS Fargate, EC2, Step Functions</li>
        <li>Storage: S3, DynamoDB, RDS, ElastiCache</li>
        <li>Networking: VPC, CloudFront, Route 53, ALB</li>
        <li>Messaging: SQS, SNS, EventBridge, Kinesis</li>
        <li>DevOps: CodePipeline, CDK, CloudFormation</li>
        <li>Security: IAM, KMS, Secrets Manager, WAF</li>
        <li>Monitoring: CloudWatch, X-Ray, CloudTrail</li>
      </ul>`
  },
  'skills+typescript': {
    title: 'TS Skills',
    flap: 'TS MASTERY',
    html: `<h3>TypeScript Expertise</h3>
      <ul>
        <li>Advanced generics and conditional types</li>
        <li>Template literal types and mapped types</li>
        <li>Discriminated unions for state machines</li>
        <li>Module augmentation and declaration merging</li>
        <li>Strict configuration and custom ESLint rules</li>
        <li>Type-safe API contracts with tRPC</li>
        <li>Runtime validation with Zod and io-ts</li>
        <li>Monorepo type sharing across packages</li>
      </ul>`
  },
  'typescript+node': {
    title: 'TS Backend',
    flap: 'TYPED BACKEND',
    html: `<h3>TypeScript Backend</h3>
      <p>End-to-end type safety from database to API response. TypeScript on the server eliminates an entire class of runtime errors and makes refactoring fearless.</p>
      <h4>Approach</h4>
      <ul>
        <li>Prisma ORM with generated TypeScript types</li>
        <li>tRPC for end-to-end type-safe API calls</li>
        <li>NestJS with decorators and dependency injection</li>
        <li>Shared validation schemas between client and server</li>
      </ul>
      <div class="tag-row">
        <span class="tag">Prisma</span>
        <span class="tag">tRPC</span>
        <span class="tag">NestJS</span>
        <span class="tag">Zod</span>
      </div>`
  },
  'typescript+aws': {
    title: 'TS + AWS',
    flap: 'TS INFRA',
    html: `<h3>TypeScript Infrastructure</h3>
      <p>Using AWS CDK with TypeScript to define cloud infrastructure as strongly-typed code. Every resource, permission, and configuration is type-checked.</p>
      <h4>Benefits</h4>
      <ul>
        <li>CDK constructs with TypeScript for reusable patterns</li>
        <li>Type-safe Lambda handlers with shared types</li>
        <li>Automated testing of infrastructure stacks</li>
        <li>Custom constructs published as internal packages</li>
      </ul>
      <div class="tag-row">
        <span class="tag">AWS CDK</span>
        <span class="tag">CloudFormation</span>
        <span class="tag">TypeScript</span>
      </div>`
  },
  'typescript+projects': {
    title: 'TS Projects',
    flap: 'TS PROJECTS',
    html: `<h3>TypeScript Projects</h3>
      <h4>Type-Safe Design System</h4>
      <p>Component library with exhaustive TypeScript types, polymorphic components, and compile-time prop validation. Zero runtime overhead from types.</p>
      <h4>SDK Generator</h4>
      <p>Built a tool that generates TypeScript SDKs from OpenAPI specs, complete with typed request/response objects, error handling, and retry logic.</p>
      <div class="tag-row">
        <span class="tag">OpenAPI</span>
        <span class="tag">Codegen</span>
        <span class="tag">Polymorphic</span>
      </div>`
  },
  'react+aws': {
    title: 'React + Cloud',
    flap: 'REACT CLOUD',
    html: `<h3>React on AWS</h3>
      <p>Deploying and optimizing React applications on AWS infrastructure for global reach and blazing performance.</p>
      <h4>Infrastructure</h4>
      <ul>
        <li>CloudFront CDN with S3 origin for static assets</li>
        <li>Lambda@Edge for server-side rendering at the edge</li>
        <li>Amplify for rapid prototyping and CI/CD</li>
        <li>Cognito for authentication and user management</li>
        <li>AppSync for real-time GraphQL subscriptions</li>
      </ul>
      <div class="tag-row">
        <span class="tag">CloudFront</span>
        <span class="tag">Amplify</span>
        <span class="tag">Cognito</span>
        <span class="tag">AppSync</span>
      </div>`
  },
  'about+react': {
    title: 'My React Story',
    flap: 'REACT JOURNEY',
    html: `<h3>My React Journey</h3>
      <p>React has been central to my work at Walmart, where I build customer-facing interfaces that handle massive traffic spikes during events like Black Friday. I focus on creating components that are not just functional, but delightful to use and maintain.</p>
      <p>I champion accessibility-first development and believe every interface should work for everyone, regardless of ability or device.</p>`
  },
  'about+node': {
    title: 'My Node Story',
    flap: 'NODE JOURNEY',
    html: `<h3>My Node.js Journey</h3>
      <p>Node.js powers the backend services I build at Walmart scale. From high-throughput APIs to real-time data processing, I leverage the event-driven architecture to build systems that handle millions of requests efficiently.</p>
      <p>I focus on building resilient services with proper error handling, circuit breakers, and graceful degradation patterns.</p>`
  },
  'about+aws': {
    title: 'My Cloud Story',
    flap: 'CLOUD JOURNEY',
    html: `<h3>My AWS Journey</h3>
      <p>Cloud infrastructure at Walmart scale requires thoughtful architecture decisions. I design systems for reliability, cost-efficiency, and operational excellence, leveraging AWS services to build platforms that serve millions of customers daily.</p>`
  },
  'about+typescript': {
    title: 'My TS Story',
    flap: 'TS JOURNEY',
    html: `<h3>My TypeScript Journey</h3>
      <p>TypeScript transformed how I write software. The confidence that comes from a strong type system -- catching errors before they reach production, enabling fearless refactoring, and serving as always-up-to-date documentation -- is invaluable at enterprise scale.</p>`
  },
  'about+projects': {
    title: 'My Work',
    flap: 'PORTFOLIO',
    html: `<h3>Portfolio Overview</h3>
      <p>At Walmart, I work on projects that impact millions of customers. From building responsive storefronts to designing scalable backend architectures, every project is an opportunity to deliver exceptional user experiences backed by solid engineering.</p>
      <h4>Highlights</h4>
      <ul>
        <li>Led frontend modernization from legacy jQuery to React</li>
        <li>Architected serverless APIs reducing infrastructure costs by 40%</li>
        <li>Built internal developer tools used by 200+ engineers</li>
        <li>Mentored junior developers through code reviews and pairing</li>
      </ul>`
  },
  'skills+contact': {
    title: 'Hire Me',
    flap: 'LETS CONNECT',
    html: `<h3>Let's Work Together</h3>
      <p>With deep expertise across the modern web stack, I bring both technical depth and product thinking to every project.</p>
      <h4>What I Bring</h4>
      <ul>
        <li>Full-stack JavaScript/TypeScript mastery</li>
        <li>Cloud architecture and DevOps experience</li>
        <li>Enterprise-scale application development</li>
        <li>Strong communication and mentorship skills</li>
      </ul>
      <h4>Reach Out</h4>
      <ul>
        <li>Email: anshull.garg@outlook.com</li>
        <li>LinkedIn: linkedin.com/in/anshullgarg</li>
      </ul>`
  },
  'skills+projects': {
    title: 'Tech Stack',
    flap: 'TECH STACK',
    html: `<h3>Complete Tech Stack</h3>
      <h4>Frontend</h4>
      <ul>
        <li>React, Next.js, TypeScript, Tailwind CSS</li>
        <li>Redux Toolkit, React Query, Zustand</li>
        <li>Storybook, Chromatic, Playwright</li>
      </ul>
      <h4>Backend</h4>
      <ul>
        <li>Node.js, Express, Fastify, NestJS</li>
        <li>PostgreSQL, MongoDB, Redis, DynamoDB</li>
        <li>GraphQL, REST, gRPC, WebSockets</li>
      </ul>
      <h4>Cloud & DevOps</h4>
      <ul>
        <li>AWS (Lambda, ECS, S3, CloudFront, CDK)</li>
        <li>Docker, Kubernetes, GitHub Actions</li>
        <li>Terraform, CloudFormation, Datadog</li>
      </ul>`
  },
  'contact+react': {
    title: 'React Help',
    flap: 'REACT CONTACT',
    html: `<h3>React Consulting</h3>
      <p>Need help with React architecture, performance optimization, or migrating to modern React patterns? Let's talk.</p>
      <ul>
        <li>Component architecture reviews</li>
        <li>Performance audits and optimization</li>
        <li>Migration from class components to hooks</li>
        <li>Email: anshull.garg@outlook.com</li>
      </ul>`
  },
  'contact+node': {
    title: 'Node Help',
    flap: 'NODE CONTACT',
    html: `<h3>Backend Consulting</h3>
      <p>Need help designing scalable Node.js services or API architecture? I can help with system design, performance tuning, and best practices.</p>
      <ul>
        <li>API design and architecture</li>
        <li>Database optimization</li>
        <li>Microservice patterns</li>
        <li>Email: anshull.garg@outlook.com</li>
      </ul>`
  },
  'contact+aws': {
    title: 'Cloud Help',
    flap: 'AWS CONTACT',
    html: `<h3>Cloud Architecture Consulting</h3>
      <p>Looking to optimize your AWS infrastructure, reduce costs, or migrate to serverless? Let's connect and discuss your cloud strategy.</p>
      <ul>
        <li>Architecture reviews</li>
        <li>Cost optimization</li>
        <li>Serverless migration</li>
        <li>Email: anshull.garg@outlook.com</li>
      </ul>`
  },
  'contact+typescript': {
    title: 'TS Help',
    flap: 'TS CONTACT',
    html: `<h3>TypeScript Consulting</h3>
      <p>Need help adopting TypeScript, setting up strict configurations, or designing type-safe architectures? I can help your team level up.</p>
      <ul>
        <li>TypeScript adoption strategy</li>
        <li>Type system design</li>
        <li>Migration from JavaScript</li>
        <li>Email: anshull.garg@outlook.com</li>
      </ul>`
  },
  'contact+projects': {
    title: 'Collaborate',
    flap: 'COLLABORATE',
    html: `<h3>Let's Collaborate</h3>
      <p>Interested in working together on a project? I'm always open to interesting collaborations, open-source contributions, and technical discussions.</p>
      <ul>
        <li>Open-source contributions welcome</li>
        <li>Technical writing and speaking</li>
        <li>Code reviews and mentorship</li>
        <li>GitHub: github.com/anshullgarg</li>
        <li>Email: anshull.garg@outlook.com</li>
      </ul>`
  },
  'node+typescript': {
    title: 'TS Backend',
    flap: 'TS NODE',
    html: `<h3>TypeScript + Node.js</h3>
      <p>Building production-grade backend services with end-to-end type safety. TypeScript on Node.js eliminates entire categories of runtime errors.</p>
      <ul>
        <li>Strict TypeScript configuration for maximum safety</li>
        <li>Prisma ORM for type-safe database access</li>
        <li>tRPC for seamless client-server type sharing</li>
        <li>Custom error types with exhaustive handling</li>
        <li>Branded types for domain primitives</li>
      </ul>
      <div class="tag-row">
        <span class="tag">Prisma</span>
        <span class="tag">tRPC</span>
        <span class="tag">Branded Types</span>
      </div>`
  },
  'projects+aws': {
    title: 'Cloud Projects',
    flap: 'AWS PROJECTS',
    html: `<h3>Cloud Infrastructure Projects</h3>
      <h4>Global CDN Architecture</h4>
      <p>Designed multi-region content delivery system serving static and dynamic content with sub-100ms latency worldwide.</p>
      <h4>Serverless Data Lake</h4>
      <p>Built an analytics pipeline processing terabytes of customer interaction data using Lambda, Kinesis, and Athena.</p>
      <div class="tag-row">
        <span class="tag">CloudFront</span>
        <span class="tag">Kinesis</span>
        <span class="tag">Athena</span>
      </div>`
  },
};

// Default fallback content for any unmatched connection
const DEFAULT_CONTENT = {
  flap: 'CONNECTED',
  html: `<h3>Connection Established</h3>
    <p>Anshull Garg -- Software Developer at Walmart. Building scalable web applications with modern JavaScript, cloud infrastructure, and a passion for clean code.</p>
    <p>Try connecting different jacks to explore specific topics!</p>`
};


/* ============================================================
   STATE
   ============================================================ */
let selectedJack = null;       // Currently selected (first click)
let connections = [];          // Array of { from, to, color, id }
let connectionCounter = 0;
let jackElements = {};         // DOM refs by jack id
let pendingLine = null;        // SVG element for cable being dragged

/* ============================================================
   INIT
   ============================================================ */
document.addEventListener('DOMContentLoaded', () => {
  buildJacks();
  initSplitFlap('PATCH THROUGH');
  setupIntro();
  startRingAnimation();
});

/* ============================================================
   INTRO
   ============================================================ */
function setupIntro() {
  const overlay = document.getElementById('introOverlay');
  const btn = document.getElementById('introBtn');
  btn.addEventListener('click', () => {
    overlay.classList.add('hidden');
  });
}

/* ============================================================
   BUILD JACKS
   ============================================================ */
function buildJacks() {
  const grid = document.getElementById('jackGrid');
  JACKS.forEach(jack => {
    const el = document.createElement('div');
    el.className = 'jack';
    el.dataset.id = jack.id;
    el.innerHTML = `
      <div class="ring-indicator" id="ring-${jack.id}"></div>
      <div class="jack-socket">
        <svg viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
          <!-- Outer brass ring -->
          <circle cx="28" cy="28" r="26" stroke="url(#brassGrad-${jack.id})" stroke-width="3" fill="none"/>
          <!-- Inner ring -->
          <circle cx="28" cy="28" r="20" stroke="#555" stroke-width="1" fill="#111"/>
          <!-- Jack hole -->
          <circle cx="28" cy="28" r="10" fill="#0A0A0A" stroke="#333" stroke-width="1"/>
          <!-- Center contact -->
          <circle cx="28" cy="28" r="4" fill="#444" stroke="#555" stroke-width="0.5"/>
          <!-- Brass highlight -->
          <circle cx="28" cy="16" r="1.5" fill="rgba(201,168,76,0.3)"/>
          <!-- Deco tick marks -->
          <line x1="28" y1="2" x2="28" y2="6" stroke="#C9A84C" stroke-width="0.8" opacity="0.5"/>
          <line x1="54" y1="28" x2="50" y2="28" stroke="#C9A84C" stroke-width="0.8" opacity="0.5"/>
          <line x1="28" y1="54" x2="28" y2="50" stroke="#C9A84C" stroke-width="0.8" opacity="0.5"/>
          <line x1="2" y1="28" x2="6" y2="28" stroke="#C9A84C" stroke-width="0.8" opacity="0.5"/>
          <defs>
            <linearGradient id="brassGrad-${jack.id}" x1="0" y1="0" x2="56" y2="56">
              <stop offset="0%" stop-color="#E0C872"/>
              <stop offset="50%" stop-color="#C9A84C"/>
              <stop offset="100%" stop-color="#9A7A30"/>
            </linearGradient>
          </defs>
        </svg>
      </div>
      <div class="jack-label">${jack.label}</div>
    `;
    el.addEventListener('click', () => handleJackClick(jack.id));
    grid.appendChild(el);
    jackElements[jack.id] = el;
  });
}

/* ============================================================
   JACK CLICK HANDLER
   ============================================================ */
function handleJackClick(jackId) {
  // If clicking an already-connected jack, check if we should disconnect
  // (handled separately via connection status bar)

  if (selectedJack === null) {
    // First jack selected
    selectedJack = jackId;
    jackElements[jackId].classList.add('selected');
    updateSplitFlap('SELECT SECOND');
    // Create pending cable from this jack center
    createPendingCable(jackId);
  } else if (selectedJack === jackId) {
    // Deselect
    selectedJack = null;
    jackElements[jackId].classList.remove('selected');
    removePendingCable();
    updateSplitFlap('CANCELLED');
  } else {
    // Second jack selected - make connection
    const from = selectedJack;
    const to = jackId;
    jackElements[from].classList.remove('selected');
    removePendingCable();

    // Check if this connection already exists
    const key = getConnectionKey(from, to);
    const existing = connections.find(c => getConnectionKey(c.from, c.to) === key);

    if (existing) {
      // Disconnect
      removeConnection(existing.id);
      selectedJack = null;
      return;
    }

    // Create new connection
    const color = CABLE_COLORS[connectionCounter % CABLE_COLORS.length];
    connectionCounter++;
    const conn = { from, to, color, id: 'conn-' + connectionCounter };
    connections.push(conn);

    jackElements[from].classList.add('active');
    jackElements[to].classList.add('active');

    drawCable(conn);
    updateStatusBar();
    updateContentDisplay();

    // Split-flap for this connection
    const content = getContentForConnection(from, to);
    updateSplitFlap(content.flap || 'CONNECTED');

    selectedJack = null;

    // Stop ringing on connected jacks
    const ringFrom = document.getElementById('ring-' + from);
    const ringTo = document.getElementById('ring-' + to);
    if (ringFrom) ringFrom.classList.remove('ringing');
    if (ringTo) ringTo.classList.remove('ringing');
  }
}

/* ============================================================
   CONNECTION KEY
   ============================================================ */
function getConnectionKey(a, b) {
  return [a, b].sort().join('+');
}

/* ============================================================
   GET CONTENT
   ============================================================ */
function getContentForConnection(from, to) {
  const key = getConnectionKey(from, to);
  return CONTENT_MAP[key] || DEFAULT_CONTENT;
}

/* ============================================================
   JACK CENTER POSITION (relative to panel)
   ============================================================ */
function getJackCenter(jackId) {
  const panel = document.getElementById('panel');
  const jack = jackElements[jackId];
  const socket = jack.querySelector('.jack-socket');
  const panelRect = panel.getBoundingClientRect();
  const socketRect = socket.getBoundingClientRect();
  return {
    x: socketRect.left + socketRect.width / 2 - panelRect.left,
    y: socketRect.top + socketRect.height / 2 - panelRect.top
  };
}

/* ============================================================
   DRAW CABLE (catenary curve)
   ============================================================ */
function drawCable(conn) {
  const svg = document.getElementById('cableLayer');
  const p1 = getJackCenter(conn.from);
  const p2 = getJackCenter(conn.to);

  // Catenary-like curve: sag downward
  const midX = (p1.x + p2.x) / 2;
  const midY = Math.max(p1.y, p2.y) + 30 + Math.abs(p1.x - p2.x) * 0.15;

  const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
  const d = `M ${p1.x} ${p1.y} Q ${midX} ${midY} ${p2.x} ${p2.y}`;
  path.setAttribute('d', d);
  path.setAttribute('stroke', conn.color);
  path.setAttribute('stroke-width', '4');
  path.setAttribute('fill', 'none');
  path.setAttribute('stroke-linecap', 'round');
  path.setAttribute('opacity', '0.85');
  path.setAttribute('id', conn.id);

  // Cable plug circles at endpoints
  const plug1 = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
  plug1.setAttribute('cx', p1.x);
  plug1.setAttribute('cy', p1.y);
  plug1.setAttribute('r', '6');
  plug1.setAttribute('fill', conn.color);
  plug1.setAttribute('stroke', '#000');
  plug1.setAttribute('stroke-width', '1');
  plug1.setAttribute('class', conn.id + '-plug');

  const plug2 = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
  plug2.setAttribute('cx', p2.x);
  plug2.setAttribute('cy', p2.y);
  plug2.setAttribute('r', '6');
  plug2.setAttribute('fill', conn.color);
  plug2.setAttribute('stroke', '#000');
  plug2.setAttribute('stroke-width', '1');
  plug2.setAttribute('class', conn.id + '-plug');

  // Animate the cable drawing
  const length = path.getTotalLength ? 300 : 300;
  path.style.strokeDasharray = length;
  path.style.strokeDashoffset = length;
  path.style.transition = 'stroke-dashoffset 0.6s ease-out';

  svg.appendChild(path);
  svg.appendChild(plug1);
  svg.appendChild(plug2);

  // Trigger animation
  requestAnimationFrame(() => {
    const totalLength = path.getTotalLength();
    path.style.strokeDasharray = totalLength;
    path.style.strokeDashoffset = totalLength;
    requestAnimationFrame(() => {
      path.style.strokeDashoffset = '0';
    });
  });
}

/* ============================================================
   REMOVE CONNECTION
   ============================================================ */
function removeConnection(connId) {
  const conn = connections.find(c => c.id === connId);
  if (!conn) return;

  // Remove SVG elements
  const svg = document.getElementById('cableLayer');
  const path = document.getElementById(connId);
  if (path) {
    path.style.opacity = '0';
    path.style.transition = 'opacity 0.3s ease';
    setTimeout(() => path.remove(), 300);
  }
  // Remove plugs
  const plugs = svg.querySelectorAll('.' + connId + '-plug');
  plugs.forEach(p => {
    p.style.opacity = '0';
    p.style.transition = 'opacity 0.3s ease';
    setTimeout(() => p.remove(), 300);
  });

  // Remove from connections array
  connections = connections.filter(c => c.id !== connId);

  // Update jack active states
  updateJackActiveStates();
  updateStatusBar();
  updateContentDisplay();
  updateSplitFlap('DISCONNECTED');
}

/* ============================================================
   UPDATE JACK ACTIVE STATES
   ============================================================ */
function updateJackActiveStates() {
  const activeIds = new Set();
  connections.forEach(c => {
    activeIds.add(c.from);
    activeIds.add(c.to);
  });
  JACKS.forEach(j => {
    if (activeIds.has(j.id)) {
      jackElements[j.id].classList.add('active');
    } else {
      jackElements[j.id].classList.remove('active');
    }
  });
}

/* ============================================================
   PENDING CABLE (follows mouse)
   ============================================================ */
function createPendingCable(fromId) {
  const svg = document.getElementById('cableLayer');
  const p1 = getJackCenter(fromId);

  pendingLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
  pendingLine.setAttribute('x1', p1.x);
  pendingLine.setAttribute('y1', p1.y);
  pendingLine.setAttribute('x2', p1.x);
  pendingLine.setAttribute('y2', p1.y);
  pendingLine.setAttribute('stroke', '#C9A84C');
  pendingLine.setAttribute('stroke-width', '2');
  pendingLine.setAttribute('stroke-dasharray', '6 4');
  pendingLine.setAttribute('opacity', '0.5');
  pendingLine.classList.add('pending-cable');
  svg.appendChild(pendingLine);

  // Track mouse within the panel
  const panel = document.getElementById('panel');
  panel._pendingHandler = (e) => {
    const rect = panel.getBoundingClientRect();
    const mx = e.clientX - rect.left;
    const my = e.clientY - rect.top;
    if (pendingLine) {
      pendingLine.setAttribute('x2', mx);
      pendingLine.setAttribute('y2', my);
    }
  };
  panel.addEventListener('mousemove', panel._pendingHandler);

  // Also track touch
  panel._pendingTouchHandler = (e) => {
    const rect = panel.getBoundingClientRect();
    const touch = e.touches[0];
    const mx = touch.clientX - rect.left;
    const my = touch.clientY - rect.top;
    if (pendingLine) {
      pendingLine.setAttribute('x2', mx);
      pendingLine.setAttribute('y2', my);
    }
  };
  panel.addEventListener('touchmove', panel._pendingTouchHandler);
}

function removePendingCable() {
  if (pendingLine) {
    pendingLine.remove();
    pendingLine = null;
  }
  const panel = document.getElementById('panel');
  if (panel._pendingHandler) {
    panel.removeEventListener('mousemove', panel._pendingHandler);
    panel._pendingHandler = null;
  }
  if (panel._pendingTouchHandler) {
    panel.removeEventListener('touchmove', panel._pendingTouchHandler);
    panel._pendingTouchHandler = null;
  }
}

/* ============================================================
   STATUS BAR
   ============================================================ */
function updateStatusBar() {
  const bar = document.getElementById('statusBar');
  if (connections.length === 0) {
    bar.innerHTML = '<span class="no-connections">No Active Connections</span>';
    return;
  }

  bar.innerHTML = connections.map(conn => {
    const fromLabel = JACKS.find(j => j.id === conn.from).label;
    const toLabel = JACKS.find(j => j.id === conn.to).label;
    return `<div class="active-connection" onclick="removeConnection('${conn.id}')" title="Click to disconnect">
      <span class="conn-dot" style="background:${conn.color};box-shadow:0 0 6px ${conn.color}"></span>
      ${fromLabel} &harr; ${toLabel}
    </div>`;
  }).join('');
}

/* ============================================================
   CONTENT DISPLAY
   ============================================================ */
function updateContentDisplay() {
  const display = document.getElementById('contentDisplay');

  if (connections.length === 0) {
    display.innerHTML = `<div class="content-empty">
      <div class="deco-sep">
        <span class="line"></span>
        <span class="diamond"></span>
        <span class="line"></span>
      </div>
      <p>Connect jacks above to reveal portfolio content</p>
      <div class="deco-sep">
        <span class="line"></span>
        <span class="diamond"></span>
        <span class="line"></span>
      </div>
    </div>`;
    return;
  }

  let html = '';
  connections.forEach(conn => {
    const content = getContentForConnection(conn.from, conn.to);
    html += `<div class="content-card" style="border-left: 3px solid ${conn.color}">
      ${content.html}
    </div>`;
  });
  display.innerHTML = html;
}

/* ============================================================
   SPLIT-FLAP DISPLAY
   ============================================================ */
const FLAP_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789.-+@/';
let currentFlapText = '';

function initSplitFlap(text) {
  currentFlapText = text.toUpperCase().padEnd(20, ' ').substring(0, 20);
  renderFlap(currentFlapText, false);
}

function renderFlap(text, animate) {
  const container = document.getElementById('splitFlap');
  container.innerHTML = '';

  for (let i = 0; i < text.length; i++) {
    const ch = text[i];
    const div = document.createElement('div');
    div.className = 'flap-char' + (ch === ' ' ? ' space' : '');
    div.textContent = ch === ' ' ? '' : ch;

    if (animate) {
      div.style.animationDelay = (i * 0.04) + 's';
      div.classList.add('flipping');
      div.addEventListener('animationend', () => div.classList.remove('flipping'), { once: true });
    }

    container.appendChild(div);
  }
}

function updateSplitFlap(text) {
  const newText = text.toUpperCase().padEnd(20, ' ').substring(0, 20);
  const container = document.getElementById('splitFlap');

  // Sequentially flip each character
  for (let i = 0; i < newText.length; i++) {
    const oldChar = currentFlapText[i] || ' ';
    const newChar = newText[i];

    if (oldChar !== newChar) {
      const charEl = container.children[i];
      if (!charEl) continue;

      // Stagger the flip animations
      setTimeout(() => {
        // Cycle through random chars before settling
        let cycles = 3 + Math.floor(Math.random() * 4);
        let cycle = 0;
        const interval = setInterval(() => {
          if (cycle >= cycles) {
            clearInterval(interval);
            charEl.textContent = newChar === ' ' ? '' : newChar;
            charEl.className = 'flap-char' + (newChar === ' ' ? ' space' : '');
            charEl.classList.add('flipping');
            charEl.addEventListener('animationend', () => charEl.classList.remove('flipping'), { once: true });
            return;
          }
          const randChar = FLAP_CHARS[Math.floor(Math.random() * FLAP_CHARS.length)];
          charEl.textContent = randChar;
          charEl.className = 'flap-char flipping';
          cycle++;
        }, 50);
      }, i * 30);
    }
  }

  currentFlapText = newText;
}

/* ============================================================
   RING INDICATOR ANIMATION
   ============================================================ */
function startRingAnimation() {
  // Randomly make jacks "ring" to draw attention
  setInterval(() => {
    if (connections.length >= 4) return; // Stop ringing when many connections made

    const unconnected = JACKS.filter(j => {
      return !connections.some(c => c.from === j.id || c.to === j.id);
    });

    if (unconnected.length === 0) return;

    const randomJack = unconnected[Math.floor(Math.random() * unconnected.length)];
    const ring = document.getElementById('ring-' + randomJack.id);
    if (ring && !ring.classList.contains('ringing')) {
      ring.classList.add('ringing');
      setTimeout(() => {
        ring.classList.remove('ringing');
      }, 3000);
    }
  }, 4000);
}

/* ============================================================
   RESIZE HANDLER - Redraw cables
   ============================================================ */
let resizeTimeout;
window.addEventListener('resize', () => {
  clearTimeout(resizeTimeout);
  resizeTimeout = setTimeout(() => {
    const svg = document.getElementById('cableLayer');
    svg.innerHTML = '';
    connections.forEach(conn => drawCable(conn));
  }, 200);
});
</script>
</body>
</html>
