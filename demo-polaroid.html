<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anshull Garg | Polaroid Portfolio</title>
<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --cork: #B8844C;
  --cork-dark: #9A6E3A;
  --wood: #2A1F14;
  --polaroid-white: #FEFDF8;
  --polaroid-aged: #F5F0E1;
  --accent: #C87941;
  --pin-red: #CC3333;
  --pin-green: #44884C;
  --pin-blue: #3366AA;
  --pin-yellow: #DDAA22;
  --shadow: rgba(30, 15, 5, 0.4);
  --caption-ink: #3A2A1A;
}

html { overflow: hidden; height: 100%; }

body {
  font-family: 'Inter', sans-serif;
  height: 100%;
  overflow: hidden;
  background: var(--cork);
  cursor: default;
  user-select: none;
  -webkit-user-select: none;
}

/* Cork board background */
#corkboard {
  position: fixed;
  inset: 0;
  background:
    repeating-conic-gradient(#B07840 0% 25%, transparent 0% 50%) 0 0 / 4px 4px,
    linear-gradient(135deg, #C4956A 0%, #B8844C 30%, #A87A42 60%, #C09060 100%);
  overflow: hidden;
}

/* Cork noise texture overlay */
#corkboard::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.12'/%3E%3C/svg%3E");
  background-size: 256px 256px;
  pointer-events: none;
  z-index: 0;
}

/* Cork board edge / frame */
#corkboard::after {
  content: '';
  position: absolute;
  inset: 0;
  box-shadow:
    inset 0 0 80px rgba(60, 30, 10, 0.4),
    inset 0 0 20px rgba(60, 30, 10, 0.2);
  border: 12px solid #5C3A1E;
  border-image: linear-gradient(
    135deg,
    #6B4423 0%, #8B6333 20%, #5C3A1E 40%,
    #7A5530 60%, #6B4423 80%, #5C3A1E 100%
  ) 12;
  pointer-events: none;
  z-index: 1000;
}

/* Top bar */
#topbar {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2000;
  display: flex;
  gap: 12px;
  align-items: center;
}

#topbar button {
  font-family: 'Caveat', cursive;
  font-size: 18px;
  font-weight: 600;
  padding: 8px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 3px 8px rgba(0,0,0,0.3);
}

#btn-arrange {
  background: var(--polaroid-white);
  color: var(--caption-ink);
}
#btn-arrange:hover { background: #FFF; transform: translateY(-2px); box-shadow: 0 5px 12px rgba(0,0,0,0.35); }

#btn-scatter {
  background: var(--accent);
  color: #FFF;
}
#btn-scatter:hover { background: #D88A4E; transform: translateY(-2px); box-shadow: 0 5px 12px rgba(0,0,0,0.35); }

#topbar .title-tag {
  font-family: 'Caveat', cursive;
  font-size: 22px;
  color: var(--polaroid-white);
  text-shadow: 1px 2px 4px rgba(0,0,0,0.5);
  margin-right: 8px;
  letter-spacing: 0.5px;
}

/* Hint text */
#hint {
  position: fixed;
  bottom: 28px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2000;
  font-family: 'Caveat', cursive;
  font-size: 20px;
  color: rgba(255,245,230,0.7);
  text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
  pointer-events: none;
  animation: hintPulse 3s ease-in-out infinite;
}

@keyframes hintPulse {
  0%, 100% { opacity: 0.7; }
  50% { opacity: 1; }
}

/* ---- POLAROID ---- */
.polaroid {
  position: absolute;
  width: 260px;
  padding: 14px 14px 50px 14px;
  background: linear-gradient(
    165deg,
    #FEFDF8 0%, #FAF6EC 40%, #F5F0E1 100%
  );
  border-radius: 2px;
  cursor: grab;
  transition: box-shadow 0.3s ease, transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  box-shadow:
    0 4px 12px var(--shadow),
    0 1px 3px rgba(0,0,0,0.2),
    1px 1px 0 rgba(200,180,150,0.3);
  z-index: 1;
  will-change: transform;
  transform-origin: center 20px;
}

.polaroid::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 2px;
  background: linear-gradient(
    135deg,
    rgba(255,255,255,0.15) 0%,
    transparent 50%,
    rgba(0,0,0,0.03) 100%
  );
  pointer-events: none;
}

.polaroid.dragging {
  cursor: grabbing;
  box-shadow:
    0 20px 40px rgba(20,10,0,0.5),
    0 8px 16px rgba(20,10,0,0.3);
  transition: box-shadow 0.15s ease;
  z-index: 9999 !important;
}

.polaroid.dragging .pushpin {
  opacity: 0.3;
  transform: translateX(-50%) scale(0.8);
}

/* Photo area */
.photo-area {
  width: 100%;
  aspect-ratio: 1 / 0.85;
  border-radius: 1px;
  overflow: hidden;
  position: relative;
  background: #E8E2D6;
  box-shadow: inset 0 1px 4px rgba(0,0,0,0.1);
}

.photo-content {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 16px;
  position: relative;
  z-index: 1;
}

/* Development overlay - white that fades away */
.dev-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    145deg,
    #F0ECE0 0%, #E8E2D6 30%, #DDD7C8 70%, #E8E2D6 100%
  );
  z-index: 2;
  opacity: 1;
  transition: opacity 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  pointer-events: none;
}

.dev-overlay.developing {
  opacity: 0;
}

/* Shimmer on undeveloped photos */
.dev-overlay::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    110deg,
    transparent 30%,
    rgba(255,255,255,0.4) 50%,
    transparent 70%
  );
  animation: shimmer 3s ease-in-out infinite;
}

.dev-overlay.developing::after { display: none; }

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* Caption */
.caption {
  position: absolute;
  bottom: 10px;
  left: 14px;
  right: 14px;
  text-align: center;
  font-family: 'Caveat', cursive;
  font-size: 20px;
  font-weight: 600;
  color: var(--caption-ink);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Pushpin */
.pushpin {
  position: absolute;
  top: -8px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
  width: 28px;
  height: 28px;
  transition: opacity 0.3s ease, transform 0.3s ease;
  filter: drop-shadow(1px 3px 3px rgba(0,0,0,0.4));
}

/* ---- PHOTO CONTENT STYLES ---- */
.photo-content h3 {
  font-family: 'Caveat', cursive;
  font-size: 22px;
  font-weight: 700;
  color: #2A1F14;
  margin-bottom: 6px;
  text-align: center;
}

.photo-content p, .photo-content li {
  font-family: 'Inter', sans-serif;
  font-size: 11px;
  color: #4A3A2A;
  line-height: 1.5;
  text-align: center;
}

.photo-content ul {
  list-style: none;
  padding: 0;
}

.photo-content .tag {
  display: inline-block;
  font-family: 'Inter', sans-serif;
  font-size: 9px;
  font-weight: 500;
  background: rgba(200,121,65,0.15);
  color: #8B5A2B;
  padding: 2px 8px;
  border-radius: 10px;
  margin: 2px;
}

/* Photo #1 - About / Intro */
.photo-intro {
  background: linear-gradient(135deg, #FFF8F0 0%, #FFE8D0 100%);
}
.photo-intro .avatar {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), #E8A060);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Caveat', cursive;
  font-size: 28px;
  font-weight: 700;
  color: #FFF;
  margin-bottom: 8px;
  box-shadow: 0 2px 8px rgba(200,121,65,0.4);
}
.photo-intro .name {
  font-family: 'Caveat', cursive;
  font-size: 26px;
  font-weight: 700;
  color: #2A1F14;
  margin-bottom: 2px;
}
.photo-intro .role {
  font-size: 11px;
  color: var(--accent);
  font-weight: 500;
}

/* Photo #2 - Walmart */
.photo-walmart {
  background: linear-gradient(135deg, #E8F0FF 0%, #D0E0FF 100%);
}
.photo-walmart .logo {
  font-size: 32px;
  margin-bottom: 6px;
}
.photo-walmart .company {
  font-family: 'Caveat', cursive;
  font-size: 20px;
  font-weight: 700;
  color: #0071CE;
}

/* Photo #3 - Project Alpha */
.photo-project-a {
  background: linear-gradient(135deg, #F0FFF0 0%, #D0F0D0 100%);
}
.photo-project-a .icon { font-size: 28px; margin-bottom: 6px; }

/* Photo #4 - Project Beta */
.photo-project-b {
  background: linear-gradient(135deg, #FFF0F5 0%, #FFD0E0 100%);
}
.photo-project-b .icon { font-size: 28px; margin-bottom: 6px; }

/* Photo #5 - Skills */
.photo-skills {
  background: linear-gradient(135deg, #1A1128 0%, #2A1F3A 100%);
}
.photo-skills h3 { color: #E0D0FF; }
.photo-skills .tag {
  background: rgba(180,140,255,0.2);
  color: #C8A8FF;
  border: 1px solid rgba(180,140,255,0.15);
}

/* Photo #6 - Tech Stack */
.photo-stack {
  background: linear-gradient(180deg, #1E1E2E 0%, #2D2D44 100%);
  justify-content: flex-start !important;
  padding-top: 12px !important;
}
.stack-layer {
  width: 85%;
  padding: 5px 0;
  margin: 2px 0;
  border-radius: 4px;
  text-align: center;
  font-family: 'Inter', sans-serif;
  font-size: 10px;
  font-weight: 500;
  color: #FFF;
  letter-spacing: 0.3px;
}

/* Photo #7 - Timeline */
.photo-timeline {
  background: linear-gradient(135deg, #FFFDF0 0%, #FFF8E0 100%);
  align-items: flex-start !important;
  padding: 12px !important;
}
.timeline-item {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  margin-bottom: 6px;
  width: 100%;
}
.timeline-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--accent);
  margin-top: 4px;
  flex-shrink: 0;
}
.timeline-text {
  font-size: 10px;
  color: #4A3A2A;
  line-height: 1.4;
  text-align: left;
}
.timeline-text strong {
  font-size: 11px;
  color: #2A1F14;
  display: block;
}

/* Photo #8 - Contact */
.photo-contact {
  background: linear-gradient(135deg, #FFF0E8 0%, #FFE0CC 100%);
}
.photo-contact .contact-item {
  display: flex;
  align-items: center;
  gap: 6px;
  margin: 4px 0;
  font-size: 11px;
  color: #4A3A2A;
}
.photo-contact .contact-icon {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
}

/* Photo #9 - Fun Facts */
.photo-fun {
  background: linear-gradient(135deg, #FFFFF0 0%, #FFFFE0 100%);
}
.photo-fun .fun-item {
  font-size: 11px;
  margin: 3px 0;
  color: #4A3A2A;
}

/* Photo #10 - Future */
.photo-future {
  background: linear-gradient(135deg, #F0F8FF 0%, #E0F0FF 100%);
}
.photo-future .status {
  display: inline-block;
  padding: 4px 14px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
  margin-top: 8px;
}
.photo-future .available {
  background: #D4EDDA;
  color: #155724;
  animation: statusPulse 2s ease-in-out infinite;
}

@keyframes statusPulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(40,167,69,0.4); }
  50% { box-shadow: 0 0 0 8px rgba(40,167,69,0); }
}

/* Arrange transition */
.polaroid.arranging {
  transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
}

/* Bring-to-front animation */
.polaroid.popped {
  animation: popUp 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes popUp {
  0% { transform: scale(1) rotate(var(--rot)); }
  50% { transform: scale(1.05) rotate(0deg); }
  100% { transform: scale(1) rotate(var(--rot)); }
}

/* Shake detection visual */
.polaroid.shaking .dev-overlay {
  transition: opacity 0.6s ease !important;
}

/* Tape strips (decorative, on some polaroids) */
.tape {
  position: absolute;
  width: 60px;
  height: 22px;
  background: rgba(255, 245, 200, 0.5);
  z-index: 11;
  transform: rotate(-3deg);
  border: 1px solid rgba(200, 180, 120, 0.2);
}
.tape-tl { top: -6px; left: -10px; transform: rotate(-15deg); }
.tape-tr { top: -6px; right: -10px; transform: rotate(12deg); }

/* Small screen notice */
@media (max-width: 768px) {
  .polaroid { width: 200px; padding: 10px 10px 40px 10px; }
  .caption { font-size: 16px; bottom: 8px; left: 10px; right: 10px; }
  .photo-content h3 { font-size: 18px; }
  .photo-content p, .photo-content li { font-size: 10px; }
  #topbar .title-tag { display: none; }
  #corkboard::after { border-width: 6px; }
}
</style>
</head>
<body>

<div id="corkboard"></div>

<div id="topbar">
  <span class="title-tag">Anshull's Photo Board</span>
  <button id="btn-arrange" onclick="arrangeGrid()">Pin All Neatly</button>
  <button id="btn-scatter" onclick="scatterPhotos()">Scatter!</button>
</div>

<div id="hint">Hover to develop photos -- Drag to rearrange -- Shake to speed up!</div>

<script>
// ---- DATA ----
const polaroids = [
  {
    id: 'intro',
    caption: "That's me!",
    pin: '#CC3333',
    content: `
      <div class="photo-content photo-intro">
        <div class="avatar">AG</div>
        <div class="name">Anshull Garg</div>
        <div class="role">Software Developer</div>
        <p style="margin-top:6px;font-size:10px;color:#6A5A4A">Building things that matter,<br>one commit at a time.</p>
      </div>`
  },
  {
    id: 'walmart',
    caption: "The Office",
    pin: '#0071CE',
    content: `
      <div class="photo-content photo-walmart">
        <div class="logo"><svg width="40" height="40" viewBox="0 0 40 40"><circle cx="20" cy="20" r="18" fill="#0071CE"/><g fill="#FFC220" transform="translate(20,20)"><ellipse rx="3" ry="8" transform="rotate(0)"/><ellipse rx="3" ry="8" transform="rotate(60)"/><ellipse rx="3" ry="8" transform="rotate(120)"/></g></svg></div>
        <div class="company">Walmart</div>
        <p style="font-size:11px;margin-top:4px">Software Developer</p>
        <p style="font-size:10px;color:#6A7A9A;margin-top:4px">Building scalable systems<br>that serve millions daily</p>
      </div>`
  },
  {
    id: 'project-a',
    caption: "Project Alpha",
    pin: '#44884C',
    content: `
      <div class="photo-content photo-project-a">
        <div class="icon"><svg width="32" height="32" viewBox="0 0 32 32"><rect x="2" y="6" width="28" height="20" rx="3" fill="#2D8B4E" opacity="0.8"/><rect x="5" y="9" width="12" height="2" rx="1" fill="#FFF" opacity="0.7"/><rect x="5" y="13" width="18" height="2" rx="1" fill="#FFF" opacity="0.5"/><rect x="5" y="17" width="8" height="2" rx="1" fill="#FFF" opacity="0.4"/><circle cx="24" cy="18" r="4" fill="#5ECC77"/></svg></div>
        <h3>E-Commerce Platform</h3>
        <p>High-performance product catalog and checkout flow handling 10K+ RPM</p>
        <div style="margin-top:6px">
          <span class="tag">React</span>
          <span class="tag">Node.js</span>
          <span class="tag">Redis</span>
        </div>
      </div>`
  },
  {
    id: 'project-b',
    caption: "Project Beta",
    pin: '#CC3333',
    content: `
      <div class="photo-content photo-project-b">
        <div class="icon"><svg width="32" height="32" viewBox="0 0 32 32"><rect x="4" y="4" width="24" height="24" rx="4" fill="#D64080" opacity="0.8"/><path d="M10 20 L14 12 L18 18 L22 10" stroke="#FFF" stroke-width="2" fill="none" stroke-linecap="round"/><circle cx="14" cy="12" r="2" fill="#FFD0E0"/><circle cx="22" cy="10" r="2" fill="#FFD0E0"/></svg></div>
        <h3>Analytics Dashboard</h3>
        <p>Real-time data visualization for supply chain metrics and KPIs</p>
        <div style="margin-top:6px">
          <span class="tag">TypeScript</span>
          <span class="tag">D3.js</span>
          <span class="tag">GraphQL</span>
        </div>
      </div>`
  },
  {
    id: 'skills',
    caption: "Late Night Coding",
    pin: '#9944CC',
    content: `
      <div class="photo-content photo-skills">
        <h3 style="margin-bottom:8px">Skills</h3>
        <div style="display:flex;flex-wrap:wrap;justify-content:center;gap:3px">
          <span class="tag">JavaScript</span>
          <span class="tag">TypeScript</span>
          <span class="tag">React</span>
          <span class="tag">Node.js</span>
          <span class="tag">Python</span>
          <span class="tag">Java</span>
          <span class="tag">SQL</span>
          <span class="tag">AWS</span>
          <span class="tag">Docker</span>
          <span class="tag">Git</span>
          <span class="tag">REST</span>
          <span class="tag">GraphQL</span>
        </div>
      </div>`
  },
  {
    id: 'stack',
    caption: "The Stack",
    pin: '#3366AA',
    content: `
      <div class="photo-content photo-stack">
        <h3 style="color:#A0A0CC;font-size:14px;margin-bottom:8px;font-family:'Inter',sans-serif;font-weight:500">TECH STACK</h3>
        <div class="stack-layer" style="background:linear-gradient(90deg,#61DAFB,#4FA8D4);width:90%">React / Next.js</div>
        <div class="stack-layer" style="background:linear-gradient(90deg,#68A063,#3C873A);width:85%">Node.js / Express</div>
        <div class="stack-layer" style="background:linear-gradient(90deg,#3178C6,#265A9E);width:80%">TypeScript</div>
        <div class="stack-layer" style="background:linear-gradient(90deg,#336791,#264D73);width:75%">PostgreSQL / Redis</div>
        <div class="stack-layer" style="background:linear-gradient(90deg,#FF9900,#CC7A00);width:70%">AWS / Cloud</div>
        <div class="stack-layer" style="background:linear-gradient(90deg,#2496ED,#1A6FB5);width:65%">Docker / CI-CD</div>
      </div>`
  },
  {
    id: 'timeline',
    caption: "Career Path",
    pin: '#DDAA22',
    content: `
      <div class="photo-content photo-timeline">
        <h3 style="margin-bottom:8px;width:100%;text-align:center">Journey</h3>
        <div class="timeline-item">
          <div class="timeline-dot"></div>
          <div class="timeline-text"><strong>CS Degree</strong>Foundations in algorithms, data structures, systems</div>
        </div>
        <div class="timeline-item">
          <div class="timeline-dot" style="background:#0071CE"></div>
          <div class="timeline-text"><strong>Walmart</strong>Software Developer -- building at scale</div>
        </div>
        <div class="timeline-item">
          <div class="timeline-dot" style="background:#44884C"></div>
          <div class="timeline-text"><strong>Open Source</strong>Contributing to developer tooling</div>
        </div>
        <div class="timeline-item">
          <div class="timeline-dot" style="background:#9944CC"></div>
          <div class="timeline-text"><strong>Growing</strong>Always learning, always building</div>
        </div>
      </div>`
  },
  {
    id: 'contact',
    caption: "Get In Touch",
    pin: '#CC3333',
    content: `
      <div class="photo-content photo-contact">
        <h3 style="margin-bottom:8px">Let's Connect</h3>
        <div class="contact-item">
          <span class="contact-icon"><svg width="16" height="16" viewBox="0 0 16 16" fill="#C87941"><path d="M2 4l6 4 6-4v8H2V4zm0-1h12l-6 4L2 3z"/></svg></span>
          <span style="font-size:11px">anshull.garg@email.com</span>
        </div>
        <div class="contact-item">
          <span class="contact-icon"><svg width="16" height="16" viewBox="0 0 16 16" fill="#C87941"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0016 8c0-4.42-3.58-8-8-8z"/></svg></span>
          <span style="font-size:11px">github.com/anshullgarg</span>
        </div>
        <div class="contact-item">
          <span class="contact-icon"><svg width="16" height="16" viewBox="0 0 16 16" fill="#C87941"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193V6.169H6.249c.032.667 0 7.225 0 7.225h2.401z"/></svg></span>
          <span style="font-size:11px">linkedin.com/in/anshullgarg</span>
        </div>
      </div>`
  },
  {
    id: 'fun',
    caption: "Fun Times",
    pin: '#44884C',
    content: `
      <div class="photo-content photo-fun">
        <h3 style="margin-bottom:8px">Fun Facts</h3>
        <div class="fun-item"><svg width="12" height="12" viewBox="0 0 12 12" style="vertical-align:middle;margin-right:4px"><circle cx="6" cy="6" r="5" fill="#FFD700"/><text x="6" y="9" font-size="8" text-anchor="middle" fill="#333">*</text></svg> Coffee-driven development</div>
        <div class="fun-item"><svg width="12" height="12" viewBox="0 0 12 12" style="vertical-align:middle;margin-right:4px"><circle cx="6" cy="6" r="5" fill="#FF6B6B"/><text x="6" y="9" font-size="8" text-anchor="middle" fill="#FFF">!</text></svg> Debugging at 2 AM enthusiast</div>
        <div class="fun-item"><svg width="12" height="12" viewBox="0 0 12 12" style="vertical-align:middle;margin-right:4px"><circle cx="6" cy="6" r="5" fill="#4ECDC4"/><text x="6" y="9" font-size="8" text-anchor="middle" fill="#FFF">~</text></svg> Open source contributor</div>
        <div class="fun-item"><svg width="12" height="12" viewBox="0 0 12 12" style="vertical-align:middle;margin-right:4px"><circle cx="6" cy="6" r="5" fill="#A78BFA"/><text x="6" y="9" font-size="8" text-anchor="middle" fill="#FFF">#</text></svg> Mechanical keyboards fan</div>
      </div>`
  },
  {
    id: 'future',
    caption: "The Future",
    pin: '#3366AA',
    content: `
      <div class="photo-content photo-future">
        <h3>What's Next</h3>
        <p style="margin-top:4px">Exploring distributed systems,<br>cloud architecture, and<br>building developer tools</p>
        <div class="status available">Open to Opportunities</div>
      </div>`
  }
];

// ---- PUSHPIN SVG GENERATOR ----
function pushpinSVG(color) {
  const shine = lightenColor(color, 40);
  const shadow = darkenColor(color, 40);
  return `<svg class="pushpin" viewBox="0 0 40 50" xmlns="http://www.w3.org/2000/svg">
    <!-- Pin shadow on paper -->
    <ellipse cx="22" cy="20" rx="9" ry="4" fill="rgba(0,0,0,0.15)" transform="rotate(10,22,20)"/>
    <!-- Pin needle (below surface, subtle) -->
    <line x1="20" y1="24" x2="20" y2="44" stroke="#888" stroke-width="1.2" opacity="0.2"/>
    <!-- Pin head base (3D effect) -->
    <circle cx="20" cy="16" r="10" fill="${shadow}"/>
    <!-- Pin head main -->
    <circle cx="20" cy="14" r="9" fill="${color}"/>
    <!-- Pin head highlight -->
    <circle cx="17" cy="11" r="4" fill="${shine}" opacity="0.5"/>
    <!-- Pin head specular -->
    <circle cx="16" cy="10" r="1.5" fill="#FFF" opacity="0.7"/>
  </svg>`;
}

function lightenColor(hex, amt) {
  let r = parseInt(hex.slice(1,3), 16);
  let g = parseInt(hex.slice(3,5), 16);
  let b = parseInt(hex.slice(5,7), 16);
  r = Math.min(255, r + amt);
  g = Math.min(255, g + amt);
  b = Math.min(255, b + amt);
  return `rgb(${r},${g},${b})`;
}

function darkenColor(hex, amt) {
  let r = parseInt(hex.slice(1,3), 16);
  let g = parseInt(hex.slice(3,5), 16);
  let b = parseInt(hex.slice(5,7), 16);
  r = Math.max(0, r - amt);
  g = Math.max(0, g - amt);
  b = Math.max(0, b - amt);
  return `rgb(${r},${g},${b})`;
}

// ---- STATE ----
let zCounter = 10;
let isArranged = false;
const photoStates = {};
const photoElements = [];

// ---- INIT ----
function init() {
  const board = document.getElementById('corkboard');
  const vw = window.innerWidth;
  const vh = window.innerHeight;

  polaroids.forEach((data, i) => {
    const rot = (Math.random() * 13 - 5).toFixed(1);
    const x = 60 + Math.random() * (vw - 340);
    const y = 60 + Math.random() * (vh - 420);

    const el = document.createElement('div');
    el.className = 'polaroid';
    el.dataset.index = i;
    el.style.left = x + 'px';
    el.style.top = y + 'px';
    el.style.setProperty('--rot', rot + 'deg');
    el.style.transform = `rotate(${rot}deg)`;
    el.style.zIndex = i + 1;

    el.innerHTML = `
      ${pushpinSVG(data.pin)}
      <div class="photo-area">
        <div class="dev-overlay" data-index="${i}"></div>
        ${data.content}
      </div>
      <div class="caption">${data.caption}</div>
    `;

    board.appendChild(el);
    photoElements.push(el);

    photoStates[i] = {
      developed: false,
      developing: false,
      hoverStart: 0,
      el: el,
      rot: parseFloat(rot),
      origX: x,
      origY: y
    };

    // --- Hover to develop ---
    let hoverTimer = null;
    el.addEventListener('mouseenter', () => {
      if (photoStates[i].developed) return;
      photoStates[i].hoverStart = Date.now();
      hoverTimer = setTimeout(() => {
        developPhoto(i);
      }, 2000);
    });
    el.addEventListener('mouseleave', () => {
      clearTimeout(hoverTimer);
    });

    // --- Click to bring to front ---
    el.addEventListener('mousedown', (e) => {
      bringToFront(i);
    });

    // --- Drag ---
    setupDrag(el, i);

    // --- Shake detection ---
    setupShakeDetect(el, i);
  });

  // Stagger entrance animation
  photoElements.forEach((el, i) => {
    el.style.opacity = '0';
    el.style.transform += ' scale(0.7)';
    setTimeout(() => {
      el.style.transition = 'opacity 0.6s ease, transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)';
      el.style.opacity = '1';
      const rot = photoStates[i].rot;
      el.style.transform = `rotate(${rot}deg) scale(1)`;
      setTimeout(() => {
        el.style.transition = 'box-shadow 0.3s ease, transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)';
      }, 700);
    }, 100 + i * 120);
  });
}

// ---- DEVELOP PHOTO ----
function developPhoto(index) {
  if (photoStates[index].developed) return;
  photoStates[index].developed = true;
  photoStates[index].developing = true;
  const overlay = photoStates[index].el.querySelector('.dev-overlay');
  overlay.classList.add('developing');
}

// ---- BRING TO FRONT ----
function bringToFront(index) {
  zCounter++;
  const el = photoStates[index].el;
  el.style.zIndex = zCounter;
  el.classList.remove('popped');
  void el.offsetWidth;
  el.classList.add('popped');
}

// ---- DRAG ----
function setupDrag(el, index) {
  let isDragging = false;
  let startX, startY, origLeft, origTop;

  const onDown = (e) => {
    if (e.target.closest('a')) return;
    isDragging = true;
    isArranged = false;
    el.classList.add('dragging');
    bringToFront(index);

    const clientX = e.touches ? e.touches[0].clientX : e.clientX;
    const clientY = e.touches ? e.touches[0].clientY : e.clientY;
    startX = clientX;
    startY = clientY;
    origLeft = el.offsetLeft;
    origTop = el.offsetTop;

    e.preventDefault();
  };

  const onMove = (e) => {
    if (!isDragging) return;
    const clientX = e.touches ? e.touches[0].clientX : e.clientX;
    const clientY = e.touches ? e.touches[0].clientY : e.clientY;
    const dx = clientX - startX;
    const dy = clientY - startY;
    el.style.left = (origLeft + dx) + 'px';
    el.style.top = (origTop + dy) + 'px';
    e.preventDefault();
  };

  const onUp = () => {
    if (!isDragging) return;
    isDragging = false;
    el.classList.remove('dragging');
  };

  el.addEventListener('mousedown', onDown);
  el.addEventListener('touchstart', onDown, { passive: false });
  document.addEventListener('mousemove', onMove);
  document.addEventListener('touchmove', onMove, { passive: false });
  document.addEventListener('mouseup', onUp);
  document.addEventListener('touchend', onUp);
}

// ---- SHAKE DETECTION ----
function setupShakeDetect(el, index) {
  let positions = [];
  let shakeDetected = false;

  el.addEventListener('mousemove', (e) => {
    if (photoStates[index].developed || shakeDetected) return;
    if (!el.classList.contains('dragging')) return;

    positions.push({ x: e.clientX, y: e.clientY, t: Date.now() });

    // Keep last 500ms
    const now = Date.now();
    positions = positions.filter(p => now - p.t < 500);

    if (positions.length < 6) return;

    // Check direction reversals
    let reversals = 0;
    for (let i = 2; i < positions.length; i++) {
      const dx1 = positions[i-1].x - positions[i-2].x;
      const dx2 = positions[i].x - positions[i-1].x;
      if ((dx1 > 0 && dx2 < 0) || (dx1 < 0 && dx2 > 0)) {
        reversals++;
      }
    }

    if (reversals >= 4) {
      shakeDetected = true;
      el.classList.add('shaking');
      developPhoto(index);
      setTimeout(() => {
        el.classList.remove('shaking');
        shakeDetected = false;
      }, 1000);
    }
  });
}

// ---- ARRANGE GRID ----
function arrangeGrid() {
  isArranged = true;
  const vw = window.innerWidth;
  const vh = window.innerHeight;

  const pw = vw < 768 ? 210 : 270;
  const ph = vw < 768 ? 280 : 340;
  const gap = 16;

  const cols = Math.max(2, Math.floor((vw - 80) / (pw + gap)));
  const rows = Math.ceil(polaroids.length / cols);

  const totalW = cols * pw + (cols - 1) * gap;
  const totalH = rows * ph + (rows - 1) * gap;
  const offsetX = (vw - totalW) / 2;
  const offsetY = (vh - totalH) / 2;

  photoElements.forEach((el, i) => {
    el.classList.add('arranging');
    const col = i % cols;
    const row = Math.floor(i / cols);
    const x = offsetX + col * (pw + gap);
    const y = offsetY + row * (ph + gap);

    el.style.left = x + 'px';
    el.style.top = y + 'px';
    el.style.setProperty('--rot', '0deg');
    el.style.transform = 'rotate(0deg)';
    el.style.zIndex = i + 1;

    // Develop all photos when arranging
    developPhoto(i);

    setTimeout(() => {
      el.classList.remove('arranging');
    }, 900);
  });

  zCounter = polaroids.length + 1;
}

// ---- SCATTER ----
function scatterPhotos() {
  isArranged = false;
  const vw = window.innerWidth;
  const vh = window.innerHeight;

  photoElements.forEach((el, i) => {
    el.classList.add('arranging');
    const rot = (Math.random() * 13 - 5).toFixed(1);
    const x = 60 + Math.random() * (vw - 340);
    const y = 60 + Math.random() * (vh - 420);

    el.style.left = x + 'px';
    el.style.top = y + 'px';
    el.style.setProperty('--rot', rot + 'deg');
    el.style.transform = `rotate(${rot}deg)`;
    el.style.zIndex = Math.floor(Math.random() * 10) + 1;

    photoStates[i].rot = parseFloat(rot);

    setTimeout(() => {
      el.classList.remove('arranging');
    }, 900);
  });
}

// ---- RESIZE HANDLER ----
let resizeTimeout;
window.addEventListener('resize', () => {
  clearTimeout(resizeTimeout);
  resizeTimeout = setTimeout(() => {
    if (isArranged) arrangeGrid();
  }, 300);
});

// ---- LAUNCH ----
document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>
