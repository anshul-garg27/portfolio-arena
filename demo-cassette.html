<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anshull Garg - Portfolio Mixtape</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --bg: #111111;
  --cassette-dark: #2A2A2A;
  --cassette-light: #3A3A3A;
  --tape-brown: #2C1810;
  --chrome: #C0C0C0;
  --side-a: #FF6B00;
  --side-b: #00BFFF;
  --label-cream: #FFF8E7;
  --text: #E0E0E0;
  --text-dim: #888888;
}

html { scroll-behavior: smooth; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'Inter', sans-serif;
  min-height: 100vh;
  overflow-x: hidden;
  position: relative;
}

/* Scanline overlay */
body::after {
  content: '';
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0,0,0,0.03) 2px,
    rgba(0,0,0,0.03) 4px
  );
  pointer-events: none;
  z-index: 9999;
}

/* Background noise texture */
.noise {
  position: fixed;
  inset: 0;
  opacity: 0.035;
  pointer-events: none;
  z-index: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
}

/* Header */
.header {
  text-align: center;
  padding: 40px 20px 10px;
  position: relative;
  z-index: 1;
}

.header h1 {
  font-family: 'Press Start 2P', monospace;
  font-size: clamp(10px, 2.5vw, 16px);
  color: var(--chrome);
  letter-spacing: 4px;
  text-transform: uppercase;
  margin-bottom: 8px;
  text-shadow: 0 0 20px rgba(192,192,192,0.3);
}

.header .subtitle {
  font-size: 12px;
  color: var(--text-dim);
  letter-spacing: 6px;
  text-transform: uppercase;
}

/* Main container */
.main {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  position: relative;
  z-index: 1;
}

/* ========== CASSETTE TAPE ========== */
.cassette-wrapper {
  perspective: 1200px;
  margin: 20px 0;
}

.cassette-flipper {
  position: relative;
  width: clamp(340px, 70vw, 560px);
  height: clamp(220px, 44vw, 360px);
  transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  transform-style: preserve-3d;
}

.cassette-flipper.flipped {
  transform: rotateY(180deg);
}

.cassette-side {
  position: absolute;
  inset: 0;
  backface-visibility: hidden;
  border-radius: 12px;
}

.cassette-side.side-b {
  transform: rotateY(180deg);
}

/* Cassette shell */
.cassette {
  width: 100%;
  height: 100%;
  background: linear-gradient(165deg, var(--cassette-light) 0%, var(--cassette-dark) 40%, #222 100%);
  border-radius: 12px;
  position: relative;
  box-shadow:
    0 2px 0 #444 inset,
    0 -2px 0 #1a1a1a inset,
    2px 0 0 #333 inset,
    -2px 0 0 #333 inset,
    0 15px 40px rgba(0,0,0,0.6),
    0 5px 15px rgba(0,0,0,0.4);
  overflow: hidden;
}

/* Shell texture lines */
.cassette::before {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    90deg,
    transparent,
    transparent 3px,
    rgba(255,255,255,0.008) 3px,
    rgba(255,255,255,0.008) 4px
  );
  border-radius: 12px;
  pointer-events: none;
}

/* Screws */
.screw {
  position: absolute;
  width: 14px;
  height: 14px;
  background: radial-gradient(circle at 40% 40%, #555, #333, #222);
  border-radius: 50%;
  box-shadow: 0 1px 2px rgba(0,0,0,0.5), inset 0 1px 1px rgba(255,255,255,0.1);
  z-index: 10;
}

.screw::after {
  content: '+';
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  color: #666;
  font-weight: bold;
}

.screw-tl { top: 10px; left: 12px; }
.screw-tr { top: 10px; right: 12px; }
.screw-bl { bottom: 10px; left: 12px; }
.screw-br { bottom: 10px; right: 12px; }
.screw-bm { bottom: 10px; left: 50%; transform: translateX(-50%); }

/* The label area */
.cassette-label {
  position: absolute;
  top: 8%;
  left: 8%;
  right: 8%;
  height: 44%;
  border-radius: 6px;
  overflow: hidden;
  z-index: 5;
}

.label-bg {
  position: absolute;
  inset: 0;
}

.side-a .label-bg {
  background: linear-gradient(135deg, #FFF8E7 0%, #FFE4B5 30%, #FFDAB0 60%, #FFE8CC 100%);
}

.side-b .label-bg {
  background: linear-gradient(135deg, #E8F4FD 0%, #B8E0F7 30%, #C5E8F7 60%, #D8EFFC 100%);
}

/* Label stripes */
.label-stripes {
  position: absolute;
  inset: 0;
  overflow: hidden;
}

.side-a .label-stripes::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 6px;
  background: repeating-linear-gradient(90deg, var(--side-a), var(--side-a) 4px, #FF8C33 4px, #FF8C33 8px);
}

.side-a .label-stripes::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 6px;
  background: repeating-linear-gradient(90deg, var(--side-a), var(--side-a) 4px, #FF8C33 4px, #FF8C33 8px);
}

.side-b .label-stripes::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 6px;
  background: repeating-linear-gradient(90deg, var(--side-b), var(--side-b) 4px, #33CCFF 4px, #33CCFF 8px);
}

.side-b .label-stripes::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 6px;
  background: repeating-linear-gradient(90deg, var(--side-b), var(--side-b) 4px, #33CCFF 4px, #33CCFF 8px);
}

.label-content {
  position: relative;
  z-index: 2;
  padding: 14px 16px 10px;
  height: 100%;
  display: flex;
  flex-direction: column;
}

.label-title {
  font-family: 'Press Start 2P', monospace;
  font-size: clamp(6px, 1.6vw, 11px);
  text-align: center;
  margin-bottom: 4px;
  line-height: 1.5;
}

.side-a .label-title { color: #7A3300; }
.side-b .label-title { color: #005F8A; }

.label-artist {
  font-family: 'Press Start 2P', monospace;
  font-size: clamp(4px, 1vw, 7px);
  text-align: center;
  margin-bottom: 6px;
  letter-spacing: 2px;
}

.side-a .label-artist { color: #994400; }
.side-b .label-artist { color: #007AA8; }

.label-side-indicator {
  font-family: 'Press Start 2P', monospace;
  font-size: clamp(5px, 1.2vw, 8px);
  text-align: center;
  padding: 2px 8px;
  border-radius: 3px;
  display: inline-block;
  margin: 0 auto 6px;
}

.side-a .label-side-indicator {
  background: var(--side-a);
  color: #fff;
}

.side-b .label-side-indicator {
  background: var(--side-b);
  color: #fff;
}

.label-tracks {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1px 12px;
  font-size: clamp(5px, 1vw, 8px);
  line-height: 1.6;
}

.side-a .label-tracks { color: #664400; }
.side-b .label-tracks { color: #006688; }

.label-tracks span {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Write lines on label */
.label-lines {
  position: absolute;
  bottom: 12px;
  left: 16px;
  right: 16px;
  z-index: 1;
}

.label-lines div {
  height: 1px;
  margin-bottom: 7px;
}

.side-a .label-lines div { background: rgba(150, 100, 50, 0.2); }
.side-b .label-lines div { background: rgba(0, 120, 180, 0.15); }

/* Tape window */
.tape-window {
  position: absolute;
  bottom: 18%;
  left: 50%;
  transform: translateX(-50%);
  width: 62%;
  height: 26%;
  background: #111;
  border-radius: 40px 40px 8px 8px;
  border: 2px solid #444;
  box-shadow: inset 0 2px 8px rgba(0,0,0,0.8);
  overflow: hidden;
  z-index: 5;
}

/* Clear plastic overlay */
.tape-window::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(170deg, rgba(255,255,255,0.06) 0%, transparent 40%, rgba(255,255,255,0.02) 100%);
  border-radius: inherit;
  z-index: 5;
}

/* Tape between reels */
.tape-film {
  position: absolute;
  top: 50%;
  left: 18%;
  right: 18%;
  height: 2px;
  background: var(--tape-brown);
  transform: translateY(-50%);
  z-index: 1;
}

.tape-film-top {
  position: absolute;
  top: 30%;
  left: 18%;
  right: 18%;
  height: 1px;
  background: rgba(44, 24, 16, 0.5);
  z-index: 1;
}

.tape-film-bottom {
  position: absolute;
  bottom: 30%;
  left: 18%;
  right: 18%;
  height: 1px;
  background: rgba(44, 24, 16, 0.5);
  z-index: 1;
}

/* Tape reels */
.reel {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 3;
}

.reel-left {
  left: 12%;
}

.reel-right {
  right: 12%;
}

.reel-outer {
  width: clamp(50px, 12vw, 80px);
  height: clamp(50px, 12vw, 80px);
  border-radius: 50%;
  background: var(--tape-brown);
  position: relative;
  box-shadow: 0 0 10px rgba(0,0,0,0.5);
}

/* Tape spool on reel */
.reel-outer::before {
  content: '';
  position: absolute;
  inset: 15%;
  border-radius: 50%;
  background: radial-gradient(circle, #1a0e08 0%, #2C1810 60%, #3a2218 100%);
  border: 1px solid rgba(255,255,255,0.05);
}

.reel-hub {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 28%;
  height: 28%;
  border-radius: 50%;
  background: radial-gradient(circle at 40% 40%, #555, #333);
  border: 1px solid #666;
  z-index: 2;
}

/* Hub spokes */
.reel-hub::after {
  content: '';
  position: absolute;
  inset: 20%;
  background:
    linear-gradient(0deg, transparent 40%, #222 40%, #222 60%, transparent 60%),
    linear-gradient(90deg, transparent 40%, #222 40%, #222 60%, transparent 60%),
    linear-gradient(45deg, transparent 40%, #222 40%, #222 60%, transparent 60%),
    linear-gradient(-45deg, transparent 40%, #222 40%, #222 60%, transparent 60%);
  border-radius: 50%;
}

/* Tape amount indicators - variable sizing */
.reel-left .reel-outer {
  box-shadow: 0 0 0 clamp(5px, 1.5vw, 12px) rgba(44, 24, 16, 0.7), 0 0 10px rgba(0,0,0,0.5);
}

.reel-right .reel-outer {
  box-shadow: 0 0 0 clamp(2px, 0.5vw, 4px) rgba(44, 24, 16, 0.7), 0 0 10px rgba(0,0,0,0.5);
}

/* Spinning animation */
@keyframes spin {
  from { transform: translate(-50%, -50%) rotate(0deg); }
  to { transform: translate(-50%, -50%) rotate(360deg); }
}

@keyframes spin-reel {
  from { transform: translateY(-50%) rotate(0deg); }
  to { transform: translateY(-50%) rotate(360deg); }
}

.playing .reel {
  animation: spin-reel 2s linear infinite;
}

.playing .reel-hub {
  animation: spin 2s linear infinite;
}

/* Tape guide posts */
.tape-guide {
  position: absolute;
  bottom: 12%;
  width: 6px;
  height: 6px;
  background: radial-gradient(circle at 40% 40%, #666, #444);
  border-radius: 50%;
  z-index: 6;
  box-shadow: 0 1px 2px rgba(0,0,0,0.5);
}

.tape-guide-l { left: 22%; }
.tape-guide-r { right: 22%; }
.tape-guide-cl { left: 36%; }
.tape-guide-cr { right: 36%; }

/* Bottom edge detail */
.cassette-bottom-edge {
  position: absolute;
  bottom: 4%;
  left: 15%;
  right: 15%;
  height: 6%;
  background: linear-gradient(180deg, #222, #1a1a1a);
  border-radius: 0 0 4px 4px;
  z-index: 4;
}

.cassette-bottom-edge::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 20%;
  right: 20%;
  height: 1px;
  background: #333;
}

/* Head gap */
.head-gap {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 40%;
  height: 10%;
  background: linear-gradient(180deg, #1a1a1a, #111);
  border-radius: 0 0 6px 6px;
  z-index: 6;
  border-top: 1px solid #333;
}

.head-gap::before {
  content: '';
  position: absolute;
  top: 2px;
  left: 50%;
  transform: translateX(-50%);
  width: 30%;
  height: 3px;
  background: #444;
  border-radius: 2px;
}

/* ========== PLAYER CHROME ========== */
.player {
  width: clamp(340px, 70vw, 560px);
  margin-top: 24px;
}

/* Now playing display */
.now-playing {
  background: #0a0a0a;
  border: 1px solid #333;
  border-radius: 6px;
  padding: 12px 16px;
  margin-bottom: 16px;
  position: relative;
  overflow: hidden;
}

.now-playing::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.02), transparent);
  animation: lcd-scan 3s linear infinite;
}

@keyframes lcd-scan {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.np-label {
  font-family: 'Press Start 2P', monospace;
  font-size: 7px;
  color: var(--text-dim);
  letter-spacing: 2px;
  margin-bottom: 6px;
}

.np-track {
  font-family: 'Press Start 2P', monospace;
  font-size: clamp(7px, 1.4vw, 10px);
  margin-bottom: 10px;
  white-space: nowrap;
  overflow: hidden;
}

.np-track.side-a-active { color: var(--side-a); }
.np-track.side-b-active { color: var(--side-b); }

.np-marquee {
  display: inline-block;
  animation: marquee 12s linear infinite;
}

@keyframes marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* Progress bar */
.progress-container {
  display: flex;
  align-items: center;
  gap: 8px;
}

.progress-bar {
  flex: 1;
  height: 4px;
  background: #222;
  border-radius: 2px;
  overflow: hidden;
  cursor: pointer;
  position: relative;
}

.progress-fill {
  height: 100%;
  border-radius: 2px;
  width: 0%;
  transition: width 0.3s linear;
}

.side-a-active .progress-fill,
.progress-fill.side-a-active { background: var(--side-a); }

.side-b-active .progress-fill,
.progress-fill.side-b-active { background: var(--side-b); }

.progress-time {
  font-family: 'Press Start 2P', monospace;
  font-size: 7px;
  color: var(--text-dim);
  min-width: 36px;
  text-align: right;
}

/* Transport controls */
.controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 12px;
  background: linear-gradient(180deg, #2a2a2a, #222, #1a1a1a);
  border-radius: 8px;
  border: 1px solid #3a3a3a;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.05);
}

.ctrl-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 38px;
  background: linear-gradient(180deg, #d0d0d0, #a0a0a0, #888);
  border: none;
  border-radius: 4px;
  cursor: pointer;
  color: #222;
  font-size: 14px;
  font-weight: 900;
  box-shadow:
    0 2px 4px rgba(0,0,0,0.4),
    inset 0 1px 0 rgba(255,255,255,0.6),
    inset 0 -1px 0 rgba(0,0,0,0.2);
  transition: all 0.1s;
  user-select: none;
  position: relative;
}

.ctrl-btn:hover {
  background: linear-gradient(180deg, #e0e0e0, #b0b0b0, #999);
}

.ctrl-btn:active {
  background: linear-gradient(180deg, #888, #999, #aaa);
  box-shadow:
    0 1px 2px rgba(0,0,0,0.4),
    inset 0 2px 4px rgba(0,0,0,0.3);
  transform: translateY(1px);
}

.ctrl-btn.active {
  background: linear-gradient(180deg, #888, #999, #aaa);
  box-shadow:
    0 1px 2px rgba(0,0,0,0.4),
    inset 0 2px 4px rgba(0,0,0,0.3);
}

.ctrl-btn.play-btn {
  width: 56px;
}

.ctrl-btn.flip-btn {
  width: 64px;
  background: linear-gradient(180deg, #444, #333, #2a2a2a);
  color: var(--chrome);
  font-size: 11px;
  font-family: 'Press Start 2P', monospace;
  box-shadow:
    0 2px 4px rgba(0,0,0,0.4),
    inset 0 1px 0 rgba(255,255,255,0.1),
    inset 0 -1px 0 rgba(0,0,0,0.3);
}

.ctrl-btn.flip-btn:hover {
  background: linear-gradient(180deg, #555, #444, #333);
}

.ctrl-label {
  position: absolute;
  bottom: -14px;
  left: 50%;
  transform: translateX(-50%);
  font-family: 'Press Start 2P', monospace;
  font-size: 5px;
  color: var(--text-dim);
  white-space: nowrap;
  letter-spacing: 1px;
}

/* Indicator LED */
.led {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #330000;
  border: 1px solid #444;
  margin: 0 8px;
  transition: all 0.3s;
}

.led.on {
  background: #ff3333;
  box-shadow: 0 0 8px #ff3333, 0 0 16px rgba(255, 50, 50, 0.4);
}

/* ========== TRACK LIST / CONTENT ========== */
.content-area {
  width: clamp(340px, 70vw, 560px);
  margin-top: 30px;
  padding-bottom: 80px;
}

.track-list {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin-bottom: 24px;
}

.track-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 14px;
  background: rgba(255,255,255,0.02);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s;
  border: 1px solid transparent;
}

.track-item:hover {
  background: rgba(255,255,255,0.05);
}

.track-item.active {
  border-color: rgba(255,255,255,0.1);
}

.track-item.active.side-a-track {
  background: rgba(255, 107, 0, 0.08);
  border-color: rgba(255, 107, 0, 0.2);
}

.track-item.active.side-b-track {
  background: rgba(0, 191, 255, 0.08);
  border-color: rgba(0, 191, 255, 0.2);
}

.track-num {
  font-family: 'Press Start 2P', monospace;
  font-size: 9px;
  width: 24px;
  text-align: center;
  flex-shrink: 0;
}

.side-a-track .track-num { color: var(--side-a); }
.side-b-track .track-num { color: var(--side-b); }

.track-info {
  flex: 1;
  min-width: 0;
}

.track-name {
  font-size: 13px;
  font-weight: 600;
  margin-bottom: 2px;
}

.track-duration-label {
  font-size: 11px;
  color: var(--text-dim);
}

.track-eq {
  display: flex;
  align-items: flex-end;
  gap: 2px;
  height: 16px;
  opacity: 0;
  transition: opacity 0.3s;
}

.track-item.active .track-eq {
  opacity: 1;
}

.eq-bar {
  width: 3px;
  background: var(--side-a);
  border-radius: 1px;
  animation: eq 0.8s ease-in-out infinite alternate;
}

.side-b-track .eq-bar { background: var(--side-b); }

.eq-bar:nth-child(1) { height: 6px; animation-delay: 0s; }
.eq-bar:nth-child(2) { height: 12px; animation-delay: 0.2s; }
.eq-bar:nth-child(3) { height: 8px; animation-delay: 0.4s; }
.eq-bar:nth-child(4) { height: 14px; animation-delay: 0.1s; }

@keyframes eq {
  0% { transform: scaleY(0.3); }
  100% { transform: scaleY(1); }
}

/* Content panel */
.content-panel {
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 10px;
  padding: 28px;
  min-height: 200px;
  transition: all 0.4s;
  position: relative;
  overflow: hidden;
}

.content-panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  border-radius: 10px 10px 0 0;
}

.content-panel.side-a-panel::before { background: var(--side-a); }
.content-panel.side-b-panel::before { background: var(--side-b); }

.content-panel h3 {
  font-family: 'Press Start 2P', monospace;
  font-size: clamp(10px, 1.8vw, 14px);
  margin-bottom: 16px;
  line-height: 1.6;
}

.content-panel.side-a-panel h3 { color: var(--side-a); }
.content-panel.side-b-panel h3 { color: var(--side-b); }

.content-panel p {
  font-size: 14px;
  line-height: 1.8;
  color: var(--text);
  margin-bottom: 12px;
}

.content-panel .tag {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 500;
  margin: 3px 3px 3px 0;
}

.side-a-panel .tag {
  background: rgba(255, 107, 0, 0.12);
  color: var(--side-a);
  border: 1px solid rgba(255, 107, 0, 0.2);
}

.side-b-panel .tag {
  background: rgba(0, 191, 255, 0.12);
  color: var(--side-b);
  border: 1px solid rgba(0, 191, 255, 0.2);
}

.content-panel ul {
  list-style: none;
  padding: 0;
}

.content-panel ul li {
  padding: 6px 0;
  font-size: 14px;
  line-height: 1.6;
  border-bottom: 1px solid rgba(255,255,255,0.04);
  display: flex;
  align-items: flex-start;
  gap: 8px;
}

.content-panel ul li::before {
  content: '';
  display: inline-block;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  margin-top: 7px;
  flex-shrink: 0;
}

.side-a-panel ul li::before { background: var(--side-a); }
.side-b-panel ul li::before { background: var(--side-b); }

.experience-item {
  margin-bottom: 16px;
  padding-bottom: 16px;
  border-bottom: 1px solid rgba(255,255,255,0.05);
}

.experience-item:last-child {
  border-bottom: none;
  margin-bottom: 0;
  padding-bottom: 0;
}

.experience-role {
  font-weight: 600;
  font-size: 15px;
  margin-bottom: 2px;
}

.experience-company {
  font-size: 13px;
  margin-bottom: 6px;
}

.side-a-panel .experience-company { color: var(--side-a); }
.side-b-panel .experience-company { color: var(--side-b); }

.experience-desc {
  font-size: 13px;
  color: var(--text-dim);
  line-height: 1.7;
}

/* Contact links */
.contact-links {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.contact-link {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: rgba(0, 191, 255, 0.05);
  border: 1px solid rgba(0, 191, 255, 0.15);
  border-radius: 8px;
  text-decoration: none;
  color: var(--text);
  transition: all 0.2s;
}

.contact-link:hover {
  background: rgba(0, 191, 255, 0.1);
  border-color: rgba(0, 191, 255, 0.3);
  transform: translateX(4px);
}

.contact-icon {
  font-size: 18px;
  width: 24px;
  text-align: center;
}

.contact-text {
  font-size: 13px;
}

.contact-label {
  font-size: 10px;
  color: var(--text-dim);
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* Quote */
.quote {
  font-style: italic;
  padding: 16px 20px;
  border-left: 3px solid;
  margin: 12px 0;
  font-size: 14px;
  line-height: 1.7;
}

.side-a-panel .quote { border-color: var(--side-a); color: rgba(255,255,255,0.7); }
.side-b-panel .quote { border-color: var(--side-b); color: rgba(255,255,255,0.7); }

/* VU Meter */
.vu-meters {
  display: flex;
  gap: 16px;
  justify-content: center;
  margin: 16px 0 8px;
}

.vu-meter {
  display: flex;
  align-items: flex-end;
  gap: 2px;
  height: 20px;
}

.vu-meter .bar {
  width: 4px;
  border-radius: 1px;
  transition: height 0.15s;
}

.vu-meter .bar.green { background: #33cc33; }
.vu-meter .bar.yellow { background: #cccc33; }
.vu-meter .bar.red { background: #cc3333; }

.vu-label {
  font-family: 'Press Start 2P', monospace;
  font-size: 6px;
  color: var(--text-dim);
  text-align: center;
}

/* Footer */
.footer {
  text-align: center;
  padding: 40px 20px;
  font-size: 11px;
  color: var(--text-dim);
  position: relative;
  z-index: 1;
}

.footer span {
  font-family: 'Press Start 2P', monospace;
  font-size: 8px;
}

/* Fade-in animation */
.fade-in {
  animation: fadeIn 0.5s ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Responsive */
@media (max-width: 480px) {
  .controls { gap: 4px; padding: 10px 8px; }
  .ctrl-btn { width: 40px; height: 34px; font-size: 12px; }
  .ctrl-btn.play-btn { width: 48px; }
  .ctrl-btn.flip-btn { width: 52px; font-size: 9px; }
  .content-panel { padding: 20px 16px; }
  .ctrl-label { display: none; }
}
</style>
</head>
<body>

<div class="noise"></div>

<!-- Header -->
<header class="header">
  <h1>Portfolio Mixtape</h1>
  <p class="subtitle">Press Play</p>
</header>

<main class="main">

  <!-- ===== CASSETTE TAPE ===== -->
  <div class="cassette-wrapper">
    <div class="cassette-flipper" id="cassetteFlip">

      <!-- SIDE A -->
      <div class="cassette-side side-a">
        <div class="cassette" id="cassetteSideA">
          <div class="screw screw-tl"></div>
          <div class="screw screw-tr"></div>
          <div class="screw screw-bl"></div>
          <div class="screw screw-br"></div>
          <div class="screw screw-bm"></div>

          <div class="cassette-label">
            <div class="label-bg"></div>
            <div class="label-stripes"></div>
            <div class="label-lines">
              <div></div><div></div><div></div>
            </div>
            <div class="label-content">
              <div class="label-title">ANSHULL GARG</div>
              <div class="label-artist">PORTFOLIO MIXTAPE</div>
              <div class="label-side-indicator">SIDE A - THE PROFESSIONAL</div>
              <div class="label-tracks">
                <span>1. About / Bio</span>
                <span>3. Key Projects</span>
                <span>2. Experience</span>
                <span>4. Tech Skills</span>
              </div>
            </div>
          </div>

          <div class="tape-window">
            <div class="tape-film"></div>
            <div class="tape-film-top"></div>
            <div class="tape-film-bottom"></div>
            <div class="reel reel-left">
              <div class="reel-outer">
                <div class="reel-hub"></div>
              </div>
            </div>
            <div class="reel reel-right">
              <div class="reel-outer">
                <div class="reel-hub"></div>
              </div>
            </div>
          </div>

          <div class="tape-guide tape-guide-l"></div>
          <div class="tape-guide tape-guide-r"></div>
          <div class="tape-guide tape-guide-cl"></div>
          <div class="tape-guide tape-guide-cr"></div>

          <div class="cassette-bottom-edge"></div>
          <div class="head-gap"></div>
        </div>
      </div>

      <!-- SIDE B -->
      <div class="cassette-side side-b">
        <div class="cassette" id="cassetteSideB">
          <div class="screw screw-tl"></div>
          <div class="screw screw-tr"></div>
          <div class="screw screw-bl"></div>
          <div class="screw screw-br"></div>
          <div class="screw screw-bm"></div>

          <div class="cassette-label">
            <div class="label-bg"></div>
            <div class="label-stripes"></div>
            <div class="label-lines">
              <div></div><div></div><div></div>
            </div>
            <div class="label-content">
              <div class="label-title">ANSHULL GARG</div>
              <div class="label-artist">PORTFOLIO MIXTAPE</div>
              <div class="label-side-indicator">SIDE B - THE CREATIVE</div>
              <div class="label-tracks">
                <span>5. Philosophy</span>
                <span>7. Blog / Thoughts</span>
                <span>6. Fun Facts</span>
                <span>8. Contact</span>
              </div>
            </div>
          </div>

          <div class="tape-window">
            <div class="tape-film"></div>
            <div class="tape-film-top"></div>
            <div class="tape-film-bottom"></div>
            <div class="reel reel-left">
              <div class="reel-outer">
                <div class="reel-hub"></div>
              </div>
            </div>
            <div class="reel reel-right">
              <div class="reel-outer">
                <div class="reel-hub"></div>
              </div>
            </div>
          </div>

          <div class="tape-guide tape-guide-l"></div>
          <div class="tape-guide tape-guide-r"></div>
          <div class="tape-guide tape-guide-cl"></div>
          <div class="tape-guide tape-guide-cr"></div>

          <div class="cassette-bottom-edge"></div>
          <div class="head-gap"></div>
        </div>
      </div>

    </div>
  </div>

  <!-- ===== VU METERS ===== -->
  <div class="vu-meters" id="vuMeters">
    <div>
      <div class="vu-meter" id="vuL">
        <div class="bar green" style="height:4px"></div>
        <div class="bar green" style="height:4px"></div>
        <div class="bar green" style="height:4px"></div>
        <div class="bar green" style="height:4px"></div>
        <div class="bar green" style="height:4px"></div>
        <div class="bar yellow" style="height:4px"></div>
        <div class="bar yellow" style="height:4px"></div>
        <div class="bar red" style="height:4px"></div>
      </div>
      <div class="vu-label">L</div>
    </div>
    <div>
      <div class="vu-meter" id="vuR">
        <div class="bar green" style="height:4px"></div>
        <div class="bar green" style="height:4px"></div>
        <div class="bar green" style="height:4px"></div>
        <div class="bar green" style="height:4px"></div>
        <div class="bar green" style="height:4px"></div>
        <div class="bar yellow" style="height:4px"></div>
        <div class="bar yellow" style="height:4px"></div>
        <div class="bar red" style="height:4px"></div>
      </div>
      <div class="vu-label">R</div>
    </div>
  </div>

  <!-- ===== PLAYER CONTROLS ===== -->
  <div class="player">
    <div class="now-playing">
      <div class="np-label">NOW PLAYING</div>
      <div class="np-track side-a-active" id="npTrack">
        <span class="np-marquee" id="npMarquee">Track 1 - About / Bio&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Track 1 - About / Bio&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
      </div>
      <div class="progress-container">
        <div class="progress-bar" id="progressBar">
          <div class="progress-fill side-a-active" id="progressFill"></div>
        </div>
        <div class="progress-time" id="progressTime">0:00</div>
      </div>
    </div>

    <div class="controls">
      <button class="ctrl-btn" id="btnRewind" title="Rewind" onclick="rewind()">
        <span>&#9664;&#9664;</span>
        <span class="ctrl-label">REW</span>
      </button>
      <button class="ctrl-btn" id="btnPrev" title="Previous Track" onclick="prevTrack()">
        <span>&#9664;|</span>
        <span class="ctrl-label">PREV</span>
      </button>
      <button class="ctrl-btn play-btn" id="btnPlay" title="Play/Pause" onclick="togglePlay()">
        <span id="playIcon">&#9654;</span>
        <span class="ctrl-label">PLAY</span>
      </button>
      <button class="ctrl-btn" id="btnStop" title="Stop" onclick="stop()">
        <span>&#9632;</span>
        <span class="ctrl-label">STOP</span>
      </button>
      <button class="ctrl-btn" id="btnNext" title="Next Track" onclick="nextTrack()">
        <span>|&#9654;</span>
        <span class="ctrl-label">NEXT</span>
      </button>
      <button class="ctrl-btn" id="btnFF" title="Fast Forward" onclick="fastForward()">
        <span>&#9654;&#9654;</span>
        <span class="ctrl-label">FF</span>
      </button>
      <div class="led" id="led"></div>
      <button class="ctrl-btn flip-btn" id="btnFlip" title="Flip Tape" onclick="flipTape()">
        FLIP
        <span class="ctrl-label">A/B</span>
      </button>
    </div>
  </div>

  <!-- ===== CONTENT ===== -->
  <div class="content-area" id="contentArea">
    <div class="track-list" id="trackList"></div>
    <div class="content-panel" id="contentPanel"></div>
  </div>

</main>

<footer class="footer">
  <span>PORTFOLIO MIXTAPE &copy; 2025 ANSHULL GARG</span>
  <br><br>
  Recorded in Bentonville, AR | Mastered with passion | All tracks original
</footer>

<script>
// ===== DATA =====
const tracks = {
  a: [
    {
      num: 1,
      name: 'About / Bio',
      duration: '3:45',
      durationSec: 225,
      content: `
        <h3>Track 1: About / Bio</h3>
        <p>I am <strong>Anshull Garg</strong>, a Software Developer at <strong>Walmart Global Tech</strong>, building systems that serve millions of customers daily. I thrive at the intersection of scalable architecture, clean code, and user-centric design.</p>
        <p>With a deep passion for solving real-world problems through technology, I bring a blend of analytical rigor and creative thinking to every project. Whether it is optimizing backend performance or crafting intuitive frontend experiences, I approach software development as both an engineering discipline and a craft.</p>
        <div class="quote">"Great software is not just about writing code. It is about understanding the problem deeply enough that the solution feels inevitable."</div>
      `
    },
    {
      num: 2,
      name: 'Experience',
      duration: '4:12',
      durationSec: 252,
      content: `
        <h3>Track 2: Experience</h3>
        <div class="experience-item">
          <div class="experience-role">Software Developer</div>
          <div class="experience-company">Walmart Global Tech | Current</div>
          <div class="experience-desc">Building and maintaining large-scale distributed systems that power Walmart's e-commerce and in-store technology platforms. Working across the full stack to deliver features that impact millions of customers and associates worldwide. Focused on performance optimization, system reliability, and developer experience.</div>
        </div>
        <div class="experience-item">
          <div class="experience-role">Software Engineering</div>
          <div class="experience-company">Previous Roles & Projects</div>
          <div class="experience-desc">Developed production-grade applications across multiple domains including retail technology, data pipelines, and consumer-facing web platforms. Built microservices architectures, RESTful APIs, and responsive frontends. Contributed to open-source projects and mentored junior developers.</div>
        </div>
      `
    },
    {
      num: 3,
      name: 'Key Projects',
      duration: '5:30',
      durationSec: 330,
      content: `
        <h3>Track 3: Key Projects</h3>
        <ul>
          <li><strong>Scalable Inventory Platform</strong> - Designed and built a high-throughput inventory management system handling millions of SKU updates per day with sub-second latency.</li>
          <li><strong>Real-Time Analytics Dashboard</strong> - Created a live monitoring dashboard for operational metrics, reducing incident response time by 40% through proactive alerting.</li>
          <li><strong>CI/CD Pipeline Modernization</strong> - Led the migration from legacy deployment processes to a modern CI/CD pipeline, cutting deployment time from hours to minutes.</li>
          <li><strong>API Gateway Optimization</strong> - Re-architected API gateway layer to handle 3x traffic spikes during peak events without degradation.</li>
          <li><strong>Developer Tooling Suite</strong> - Built internal CLI tools and automation scripts that improved team productivity by streamlining repetitive workflows.</li>
        </ul>
      `
    },
    {
      num: 4,
      name: 'Technical Skills',
      duration: '3:15',
      durationSec: 195,
      content: `
        <h3>Track 4: Technical Skills</h3>
        <p><strong>Languages</strong></p>
        <div style="margin-bottom:12px">
          <span class="tag">JavaScript</span>
          <span class="tag">TypeScript</span>
          <span class="tag">Python</span>
          <span class="tag">Java</span>
          <span class="tag">SQL</span>
          <span class="tag">Go</span>
        </div>
        <p><strong>Frontend</strong></p>
        <div style="margin-bottom:12px">
          <span class="tag">React</span>
          <span class="tag">Next.js</span>
          <span class="tag">Tailwind CSS</span>
          <span class="tag">HTML/CSS</span>
          <span class="tag">Redux</span>
        </div>
        <p><strong>Backend & Infrastructure</strong></p>
        <div style="margin-bottom:12px">
          <span class="tag">Node.js</span>
          <span class="tag">Spring Boot</span>
          <span class="tag">REST APIs</span>
          <span class="tag">GraphQL</span>
          <span class="tag">Kafka</span>
          <span class="tag">Docker</span>
          <span class="tag">Kubernetes</span>
          <span class="tag">AWS</span>
          <span class="tag">GCP</span>
        </div>
        <p><strong>Data & Databases</strong></p>
        <div style="margin-bottom:12px">
          <span class="tag">PostgreSQL</span>
          <span class="tag">MongoDB</span>
          <span class="tag">Redis</span>
          <span class="tag">Elasticsearch</span>
        </div>
        <p><strong>Practices</strong></p>
        <div>
          <span class="tag">CI/CD</span>
          <span class="tag">Microservices</span>
          <span class="tag">TDD</span>
          <span class="tag">Agile</span>
          <span class="tag">System Design</span>
        </div>
      `
    }
  ],
  b: [
    {
      num: 5,
      name: 'Philosophy & Values',
      duration: '3:00',
      durationSec: 180,
      content: `
        <h3>Track 5: Philosophy & Values</h3>
        <div class="quote">"Build things that matter. Write code that lasts. Ship with confidence."</div>
        <p><strong>Simplicity over cleverness.</strong> The best code is the code that does not need to exist. Before adding complexity, I always ask: is there a simpler way?</p>
        <p><strong>Ownership mindset.</strong> I treat every system I touch as if it were my own product. That means caring about reliability, performance, and the experience of everyone who depends on it.</p>
        <p><strong>Continuous learning.</strong> Technology moves fast. I stay sharp by reading, building side projects, and engaging with the developer community. Stagnation is the enemy of great engineering.</p>
        <p><strong>Empathy in engineering.</strong> Whether it is a user navigating an interface or a teammate reading my code, I design for the human on the other end.</p>
      `
    },
    {
      num: 6,
      name: 'Fun Facts & Interests',
      duration: '2:45',
      durationSec: 165,
      content: `
        <h3>Track 6: Fun Facts & Interests</h3>
        <ul>
          <li>Huge fan of retro tech aesthetics - cassette tapes, CRT monitors, pixel art (obviously).</li>
          <li>Coffee-driven development: pour-over in the morning, espresso for the afternoon push.</li>
          <li>Enjoy experimenting with creative coding, generative art, and interactive web experiences.</li>
          <li>Avid reader across genres: from technical books to science fiction and philosophy.</li>
          <li>Firm believer that the best debugging tool is a good walk outside.</li>
          <li>Always have a side project cooking - it is how I learn best.</li>
          <li>Love exploring the intersection of design and engineering. Great products need both.</li>
        </ul>
      `
    },
    {
      num: 7,
      name: 'Blog / Thoughts',
      duration: '4:00',
      durationSec: 240,
      content: `
        <h3>Track 7: Blog / Thoughts</h3>
        <div class="experience-item">
          <div class="experience-role">On Building at Scale</div>
          <div class="experience-desc">"Working at Walmart has fundamentally changed how I think about software. When your code runs during Black Friday and serves millions of concurrent users, you develop a deep respect for the fundamentals: caching strategies, graceful degradation, and the importance of thorough load testing."</div>
        </div>
        <div class="experience-item">
          <div class="experience-role">On Developer Experience</div>
          <div class="experience-desc">"The tools we build for ourselves matter. A great developer experience - fast builds, clear error messages, reliable CI - compounds over time. Every minute saved in the development loop is a minute invested in building better products."</div>
        </div>
        <div class="experience-item">
          <div class="experience-role">On the Craft</div>
          <div class="experience-desc">"Software development is a craft that rewards curiosity. The best engineers I have worked with are not just skilled coders - they are curious people who ask great questions, read broadly, and never stop learning."</div>
        </div>
      `
    },
    {
      num: 8,
      name: 'Contact',
      duration: '1:30',
      durationSec: 90,
      content: `
        <h3>Track 8: Contact</h3>
        <p>Let us connect. Whether you want to talk about technology, potential collaborations, or just share a great playlist - I am always open to a conversation.</p>
        <div class="contact-links" style="margin-top:16px">
          <a href="mailto:anshullgarg@gmail.com" class="contact-link">
            <span class="contact-icon">@</span>
            <div>
              <div class="contact-label">Email</div>
              <div class="contact-text">anshullgarg@gmail.com</div>
            </div>
          </a>
          <a href="https://linkedin.com/in/anshullgarg" class="contact-link" target="_blank">
            <span class="contact-icon">in</span>
            <div>
              <div class="contact-label">LinkedIn</div>
              <div class="contact-text">linkedin.com/in/anshullgarg</div>
            </div>
          </a>
          <a href="https://github.com/anshullgarg" class="contact-link" target="_blank">
            <span class="contact-icon">&lt;/&gt;</span>
            <div>
              <div class="contact-label">GitHub</div>
              <div class="contact-text">github.com/anshullgarg</div>
            </div>
          </a>
        </div>
        <div class="quote" style="margin-top:20px">"The best projects start with a conversation. Drop me a line."</div>
      `
    }
  ]
};

// ===== STATE =====
let currentSide = 'a';
let currentTrackIndex = 0;
let isPlaying = false;
let progress = 0;
let playInterval = null;
let vuInterval = null;

// ===== DOM REFS =====
const cassetteFlip = document.getElementById('cassetteFlip');
const cassetteSideA = document.getElementById('cassetteSideA');
const cassetteSideB = document.getElementById('cassetteSideB');
const npTrack = document.getElementById('npTrack');
const npMarquee = document.getElementById('npMarquee');
const progressFill = document.getElementById('progressFill');
const progressTime = document.getElementById('progressTime');
const playIcon = document.getElementById('playIcon');
const led = document.getElementById('led');
const trackList = document.getElementById('trackList');
const contentPanel = document.getElementById('contentPanel');
const progressBar = document.getElementById('progressBar');
const vuL = document.getElementById('vuL');
const vuR = document.getElementById('vuR');

// ===== FUNCTIONS =====
function getCurrentTracks() {
  return tracks[currentSide];
}

function getCurrentTrack() {
  return getCurrentTracks()[currentTrackIndex];
}

function formatTime(sec) {
  const m = Math.floor(sec / 60);
  const s = Math.floor(sec % 60);
  return m + ':' + (s < 10 ? '0' : '') + s;
}

function renderTrackList() {
  const list = getCurrentTracks();
  const sideClass = currentSide === 'a' ? 'side-a-track' : 'side-b-track';
  trackList.innerHTML = list.map((t, i) => `
    <div class="track-item ${sideClass} ${i === currentTrackIndex ? 'active' : ''}"
         onclick="selectTrack(${i})" role="button" tabindex="0"
         aria-label="Track ${t.num}: ${t.name}">
      <div class="track-num">${String(t.num).padStart(2, '0')}</div>
      <div class="track-info">
        <div class="track-name">${t.name}</div>
        <div class="track-duration-label">${t.duration}</div>
      </div>
      <div class="track-eq">
        <div class="eq-bar"></div>
        <div class="eq-bar"></div>
        <div class="eq-bar"></div>
        <div class="eq-bar"></div>
      </div>
    </div>
  `).join('');
}

function renderContent() {
  const track = getCurrentTrack();
  const panelClass = currentSide === 'a' ? 'side-a-panel' : 'side-b-panel';
  contentPanel.className = 'content-panel ' + panelClass + ' fade-in';
  contentPanel.innerHTML = track.content;
}

function updateNowPlaying() {
  const track = getCurrentTrack();
  const sideClass = currentSide === 'a' ? 'side-a-active' : 'side-b-active';
  npTrack.className = 'np-track ' + sideClass;
  const text = 'Track ' + track.num + ' - ' + track.name;
  npMarquee.innerHTML = text + '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' + text + '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';
  progressFill.className = 'progress-fill ' + sideClass;
}

function updateProgress() {
  const track = getCurrentTrack();
  const pct = (progress / track.durationSec) * 100;
  progressFill.style.width = Math.min(pct, 100) + '%';
  progressTime.textContent = formatTime(progress);
}

function setCassetteSpinning(spinning) {
  const activeCassette = currentSide === 'a' ? cassetteSideA : cassetteSideB;
  const inactiveCassette = currentSide === 'a' ? cassetteSideB : cassetteSideA;
  if (spinning) {
    activeCassette.classList.add('playing');
  } else {
    activeCassette.classList.remove('playing');
  }
  inactiveCassette.classList.remove('playing');
}

function animateVU() {
  if (!isPlaying) return;
  const barsL = vuL.children;
  const barsR = vuR.children;
  for (let i = 0; i < barsL.length; i++) {
    const hL = Math.random() * 16 + 4;
    const hR = Math.random() * 16 + 4;
    barsL[i].style.height = hL + 'px';
    barsR[i].style.height = hR + 'px';
  }
}

function resetVU() {
  const barsL = vuL.children;
  const barsR = vuR.children;
  for (let i = 0; i < barsL.length; i++) {
    barsL[i].style.height = '4px';
    barsR[i].style.height = '4px';
  }
}

function startPlaying() {
  isPlaying = true;
  playIcon.innerHTML = '&#9646;&#9646;';
  document.getElementById('btnPlay').querySelector('.ctrl-label').textContent = 'PAUSE';
  led.classList.add('on');
  setCassetteSpinning(true);

  clearInterval(playInterval);
  playInterval = setInterval(() => {
    progress += 0.5;
    const track = getCurrentTrack();
    if (progress >= track.durationSec) {
      // Auto-advance
      if (currentTrackIndex < getCurrentTracks().length - 1) {
        currentTrackIndex++;
        progress = 0;
        renderTrackList();
        renderContent();
        updateNowPlaying();
      } else {
        stop();
      }
    }
    updateProgress();
  }, 500);

  clearInterval(vuInterval);
  vuInterval = setInterval(animateVU, 120);
}

function stopPlaying() {
  isPlaying = false;
  playIcon.innerHTML = '&#9654;';
  document.getElementById('btnPlay').querySelector('.ctrl-label').textContent = 'PLAY';
  led.classList.remove('on');
  setCassetteSpinning(false);
  clearInterval(playInterval);
  clearInterval(vuInterval);
  resetVU();
}

function togglePlay() {
  if (isPlaying) {
    stopPlaying();
  } else {
    startPlaying();
  }
}

function stop() {
  stopPlaying();
  progress = 0;
  updateProgress();
}

function rewind() {
  progress = 0;
  currentTrackIndex = 0;
  updateProgress();
  renderTrackList();
  renderContent();
  updateNowPlaying();
  if (isPlaying) {
    // Keep playing from start
  }
}

function fastForward() {
  currentTrackIndex = getCurrentTracks().length - 1;
  progress = 0;
  renderTrackList();
  renderContent();
  updateNowPlaying();
  updateProgress();
}

function prevTrack() {
  if (progress > 5) {
    progress = 0;
    updateProgress();
    return;
  }
  if (currentTrackIndex > 0) {
    currentTrackIndex--;
    progress = 0;
    renderTrackList();
    renderContent();
    updateNowPlaying();
    updateProgress();
  }
}

function nextTrack() {
  if (currentTrackIndex < getCurrentTracks().length - 1) {
    currentTrackIndex++;
    progress = 0;
    renderTrackList();
    renderContent();
    updateNowPlaying();
    updateProgress();
  }
}

function selectTrack(index) {
  currentTrackIndex = index;
  progress = 0;
  renderTrackList();
  renderContent();
  updateNowPlaying();
  updateProgress();
  if (!isPlaying) {
    startPlaying();
  }
}

function flipTape() {
  const wasPlaying = isPlaying;
  if (isPlaying) stopPlaying();

  cassetteFlip.classList.toggle('flipped');
  currentSide = currentSide === 'a' ? 'b' : 'a';
  currentTrackIndex = 0;
  progress = 0;

  // Delay content update to sync with flip animation
  setTimeout(() => {
    renderTrackList();
    renderContent();
    updateNowPlaying();
    updateProgress();

    if (wasPlaying) {
      startPlaying();
    }
  }, 400);
}

// Progress bar click
progressBar.addEventListener('click', (e) => {
  const rect = progressBar.getBoundingClientRect();
  const pct = (e.clientX - rect.left) / rect.width;
  const track = getCurrentTrack();
  progress = pct * track.durationSec;
  updateProgress();
});

// Keyboard support
document.addEventListener('keydown', (e) => {
  switch(e.key) {
    case ' ':
      e.preventDefault();
      togglePlay();
      break;
    case 'ArrowRight':
      nextTrack();
      break;
    case 'ArrowLeft':
      prevTrack();
      break;
    case 'f':
    case 'F':
      flipTape();
      break;
  }
});

// ===== INIT =====
renderTrackList();
renderContent();
updateNowPlaying();
updateProgress();

// Auto-start after a brief moment
setTimeout(() => {
  startPlaying();
}, 800);
</script>

</body>
</html>
