<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anshull Garg | Deep Sea Portfolio</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
/* ==============================
   RESET & BASE
   ============================== */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --deep-top: #0A1628;
  --deep-bottom: #050510;
  --bio-teal: #00CED1;
  --bio-blue: #0066CC;
  --bio-purple: #7B2FBE;
  --text-light: #E0F0FF;
  --text-dim: #8BA4C0;
  --glow-teal: 0 0 20px rgba(0,206,209,0.5), 0 0 60px rgba(0,206,209,0.2);
  --glow-blue: 0 0 20px rgba(0,102,204,0.5), 0 0 60px rgba(0,102,204,0.2);
  --glow-purple: 0 0 20px rgba(123,47,190,0.5), 0 0 60px rgba(123,47,190,0.2);
}

html {
  scroll-behavior: smooth;
  scrollbar-width: thin;
  scrollbar-color: rgba(0,206,209,0.3) transparent;
}

body {
  font-family: 'Inter', sans-serif;
  background: var(--deep-bottom);
  color: var(--text-light);
  overflow-x: hidden;
  cursor: none;
  min-height: 100vh;
}

h1, h2, h3, h4 { font-family: 'Space Grotesk', sans-serif; }

a { color: var(--bio-teal); text-decoration: none; transition: all 0.3s; }
a:hover { text-shadow: var(--glow-teal); }

/* ==============================
   CUSTOM CURSOR
   ============================== */
.cursor-main {
  position: fixed;
  width: 20px;
  height: 20px;
  border: 2px solid rgba(0,206,209,0.6);
  border-radius: 50%;
  pointer-events: none;
  z-index: 10000;
  transition: transform 0.1s ease-out;
  mix-blend-mode: screen;
}

.cursor-dot {
  position: fixed;
  width: 6px;
  height: 6px;
  background: var(--bio-teal);
  border-radius: 50%;
  pointer-events: none;
  z-index: 10001;
  box-shadow: 0 0 10px var(--bio-teal);
}

.cursor-bubble {
  position: fixed;
  border-radius: 50%;
  pointer-events: none;
  z-index: 9999;
  background: radial-gradient(circle at 30% 30%, rgba(0,206,209,0.3), rgba(0,206,209,0.05));
  border: 1px solid rgba(0,206,209,0.15);
  animation: cursorBubbleRise 2s ease-out forwards;
}

@keyframes cursorBubbleRise {
  0% { opacity: 0.8; transform: translateY(0) scale(1); }
  100% { opacity: 0; transform: translateY(-80px) scale(0.3); }
}

/* ==============================
   OCEAN BACKGROUND
   ============================== */
.ocean-bg {
  position: fixed;
  inset: 0;
  z-index: -10;
  background: linear-gradient(180deg,
    #0A1628 0%,
    #0C1A30 15%,
    #081430 30%,
    #06102A 50%,
    #050B1E 70%,
    #040814 85%,
    #030510 100%
  );
}

/* ==============================
   WATER CAUSTICS (light rays from above)
   ============================== */
.caustics {
  position: fixed;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  z-index: -8;
  opacity: 0.12;
  pointer-events: none;
  background:
    radial-gradient(ellipse 600px 1200px at 20% 10%, rgba(0,206,209,0.4), transparent),
    radial-gradient(ellipse 400px 1000px at 50% 5%, rgba(0,102,204,0.3), transparent),
    radial-gradient(ellipse 500px 1100px at 80% 8%, rgba(0,206,209,0.25), transparent);
  animation: causticsDrift 12s ease-in-out infinite alternate;
}

.caustics-2 {
  position: fixed;
  top: -30%;
  left: -30%;
  width: 160%;
  height: 160%;
  z-index: -7;
  opacity: 0.08;
  pointer-events: none;
  background:
    radial-gradient(ellipse 300px 800px at 35% 15%, rgba(123,47,190,0.3), transparent),
    radial-gradient(ellipse 350px 900px at 65% 10%, rgba(0,206,209,0.2), transparent);
  animation: causticsDrift2 18s ease-in-out infinite alternate;
}

@keyframes causticsDrift {
  0% { transform: translate(0, 0) rotate(0deg); }
  100% { transform: translate(40px, 20px) rotate(3deg); }
}

@keyframes causticsDrift2 {
  0% { transform: translate(0, 0) rotate(0deg); }
  100% { transform: translate(-30px, 15px) rotate(-2deg); }
}

/* Light rays */
.light-rays {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 60vh;
  z-index: -6;
  pointer-events: none;
  overflow: hidden;
}

.light-ray {
  position: absolute;
  top: -20%;
  width: 3px;
  height: 120%;
  background: linear-gradient(180deg,
    rgba(0,206,209,0.15) 0%,
    rgba(0,206,209,0.05) 40%,
    transparent 100%
  );
  filter: blur(8px);
  animation: rayShimmer 8s ease-in-out infinite;
}

.light-ray:nth-child(1) { left: 10%; width: 4px; animation-delay: 0s; animation-duration: 7s; }
.light-ray:nth-child(2) { left: 25%; width: 6px; animation-delay: 1s; animation-duration: 9s; }
.light-ray:nth-child(3) { left: 38%; width: 3px; animation-delay: 2.5s; animation-duration: 8s; }
.light-ray:nth-child(4) { left: 52%; width: 5px; animation-delay: 0.5s; animation-duration: 10s; }
.light-ray:nth-child(5) { left: 65%; width: 4px; animation-delay: 3s; animation-duration: 7.5s; }
.light-ray:nth-child(6) { left: 78%; width: 7px; animation-delay: 1.5s; animation-duration: 9.5s; }
.light-ray:nth-child(7) { left: 90%; width: 3px; animation-delay: 4s; animation-duration: 8.5s; }

@keyframes rayShimmer {
  0%, 100% { opacity: 0.3; transform: scaleX(1) translateX(0); }
  25% { opacity: 0.7; transform: scaleX(1.5) translateX(5px); }
  50% { opacity: 0.4; transform: scaleX(0.8) translateX(-3px); }
  75% { opacity: 0.8; transform: scaleX(1.3) translateX(8px); }
}

/* ==============================
   BUBBLES
   ============================== */
.bubbles-container {
  position: fixed;
  inset: 0;
  z-index: -5;
  pointer-events: none;
  overflow: hidden;
}

.bubble {
  position: absolute;
  bottom: -20%;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%,
    rgba(0,206,209,0.15),
    rgba(0,206,209,0.03)
  );
  border: 1px solid rgba(0,206,209,0.1);
  animation: bubbleRise linear infinite;
}

@keyframes bubbleRise {
  0% {
    transform: translateX(0) translateY(0);
    opacity: 0;
  }
  10% { opacity: 1; }
  90% { opacity: 0.6; }
  100% {
    transform: translateX(var(--wobble)) translateY(-120vh);
    opacity: 0;
  }
}

/* ==============================
   DEPTH FOG
   ============================== */
.depth-fog {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 40vh;
  z-index: -4;
  background: linear-gradient(to top, rgba(3,5,16,0.9), transparent);
  pointer-events: none;
}

/* ==============================
   BIOLUMINESCENT CANVAS
   ============================== */
#bioCanvas {
  position: fixed;
  inset: 0;
  z-index: -3;
  pointer-events: none;
}

/* ==============================
   NAV (floating depth meter)
   ============================== */
.depth-nav {
  position: fixed;
  right: 30px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
}

.depth-line {
  width: 1px;
  height: 40px;
  background: rgba(0,206,209,0.2);
}

.depth-marker {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: 2px solid rgba(0,206,209,0.3);
  background: transparent;
  cursor: pointer;
  transition: all 0.4s;
  position: relative;
}

.depth-marker:hover, .depth-marker.active {
  border-color: var(--bio-teal);
  background: rgba(0,206,209,0.3);
  box-shadow: var(--glow-teal);
}

.depth-marker .depth-label {
  position: absolute;
  right: 24px;
  top: 50%;
  transform: translateY(-50%);
  white-space: nowrap;
  font-size: 11px;
  color: var(--text-dim);
  opacity: 0;
  transition: opacity 0.3s;
  font-family: 'Space Grotesk', sans-serif;
  letter-spacing: 1px;
  text-transform: uppercase;
}

.depth-marker:hover .depth-label, .depth-marker.active .depth-label {
  opacity: 1;
  color: var(--bio-teal);
}

/* Depth meter readout */
.depth-readout {
  position: fixed;
  top: 30px;
  right: 30px;
  z-index: 1000;
  font-family: 'Space Grotesk', sans-serif;
  font-size: 13px;
  color: var(--text-dim);
  letter-spacing: 2px;
}

.depth-readout span {
  color: var(--bio-teal);
  text-shadow: 0 0 10px rgba(0,206,209,0.5);
}

/* ==============================
   SECTION BASE
   ============================== */
.deep-section {
  position: relative;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 80px 20px;
}

.section-inner {
  max-width: 1100px;
  width: 100%;
  position: relative;
}

/* Floating animation for content panels */
.float-panel {
  animation: gentleFloat 6s ease-in-out infinite;
}

@keyframes gentleFloat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-12px); }
}

/* ==============================
   SECTION 1: SURFACE
   ============================== */
.surface-section {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
}

.surface-name {
  font-family: 'Space Grotesk', sans-serif;
  font-size: clamp(3rem, 8vw, 7rem);
  font-weight: 700;
  letter-spacing: -2px;
  color: var(--text-light);
  text-shadow:
    0 0 40px rgba(0,206,209,0.3),
    0 0 80px rgba(0,206,209,0.15),
    0 0 120px rgba(0,102,204,0.1);
  position: relative;
  animation: nameGlow 4s ease-in-out infinite alternate;
}

@keyframes nameGlow {
  0% { text-shadow: 0 0 40px rgba(0,206,209,0.3), 0 0 80px rgba(0,206,209,0.15); }
  100% { text-shadow: 0 0 60px rgba(0,206,209,0.5), 0 0 120px rgba(0,206,209,0.25), 0 0 180px rgba(0,102,204,0.15); }
}

.surface-title {
  font-family: 'Space Grotesk', sans-serif;
  font-size: clamp(1rem, 2.5vw, 1.5rem);
  color: var(--bio-teal);
  letter-spacing: 6px;
  text-transform: uppercase;
  margin-top: 16px;
  text-shadow: 0 0 20px rgba(0,206,209,0.4);
  font-weight: 400;
}

.surface-subtitle {
  font-size: 1rem;
  color: var(--text-dim);
  margin-top: 12px;
  letter-spacing: 3px;
  text-transform: uppercase;
}

.dive-prompt {
  margin-top: 60px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  animation: gentleFloat 3s ease-in-out infinite;
}

.dive-prompt span {
  font-size: 13px;
  color: var(--text-dim);
  letter-spacing: 3px;
  text-transform: uppercase;
}

.dive-arrow {
  width: 24px;
  height: 24px;
  border-right: 2px solid var(--bio-teal);
  border-bottom: 2px solid var(--bio-teal);
  transform: rotate(45deg);
  animation: arrowPulse 2s ease-in-out infinite;
}

@keyframes arrowPulse {
  0%, 100% { opacity: 0.4; transform: rotate(45deg) translate(0,0); }
  50% { opacity: 1; transform: rotate(45deg) translate(4px,4px); }
}

/* ==============================
   SECTION 2: ABOUT (Jellyfish Panel)
   ============================== */
.jellyfish-panel {
  position: relative;
  background: radial-gradient(ellipse at center,
    rgba(0,206,209,0.08) 0%,
    rgba(0,206,209,0.03) 40%,
    transparent 70%
  );
  border: 1px solid rgba(0,206,209,0.12);
  border-radius: 50% 50% 40% 40% / 30% 30% 50% 50%;
  padding: 60px 50px 80px;
  max-width: 700px;
  margin: 0 auto;
  text-align: center;
  backdrop-filter: blur(4px);
  animation: gentleFloat 7s ease-in-out infinite;
}

.jellyfish-panel::before {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  background: linear-gradient(180deg,
    rgba(0,206,209,0.2) 0%,
    rgba(123,47,190,0.1) 50%,
    transparent 100%
  );
  z-index: -1;
  filter: blur(10px);
  animation: jellyPulse 4s ease-in-out infinite alternate;
}

@keyframes jellyPulse {
  0% { opacity: 0.5; transform: scale(1); }
  100% { opacity: 1; transform: scale(1.03); }
}

.jellyfish-tentacles {
  position: absolute;
  bottom: -40px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 20px;
}

.tentacle {
  width: 2px;
  height: 40px;
  background: linear-gradient(to bottom, rgba(0,206,209,0.3), transparent);
  border-radius: 0 0 2px 2px;
  animation: tentacleWave 3s ease-in-out infinite;
}
.tentacle:nth-child(1) { height: 35px; animation-delay: 0s; }
.tentacle:nth-child(2) { height: 50px; animation-delay: 0.3s; }
.tentacle:nth-child(3) { height: 45px; animation-delay: 0.6s; }
.tentacle:nth-child(4) { height: 55px; animation-delay: 0.9s; }
.tentacle:nth-child(5) { height: 40px; animation-delay: 1.2s; }

@keyframes tentacleWave {
  0%, 100% { transform: translateX(0) scaleY(1); }
  25% { transform: translateX(4px) scaleY(0.95); }
  75% { transform: translateX(-4px) scaleY(1.05); }
}

.about-heading {
  font-size: 0.85rem;
  color: var(--bio-teal);
  letter-spacing: 4px;
  text-transform: uppercase;
  margin-bottom: 24px;
}

.about-text {
  font-size: 1.05rem;
  line-height: 1.8;
  color: var(--text-light);
  opacity: 0.9;
}

.about-text strong {
  color: var(--bio-teal);
  font-weight: 500;
}

/* ==============================
   SECTION 3: PROJECTS (Deep-Sea Creatures)
   ============================== */
.projects-heading {
  text-align: center;
  margin-bottom: 60px;
}

.projects-heading h2 {
  font-size: clamp(1.8rem, 4vw, 2.8rem);
  font-weight: 600;
  color: var(--text-light);
  text-shadow: 0 0 30px rgba(0,102,204,0.3);
}

.projects-heading p {
  color: var(--text-dim);
  margin-top: 8px;
  letter-spacing: 3px;
  text-transform: uppercase;
  font-size: 0.8rem;
}

.projects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 30px;
}

.project-creature {
  position: relative;
  padding: 40px 30px;
  border-radius: 24px;
  background: rgba(0,206,209,0.03);
  border: 1px solid rgba(0,206,209,0.08);
  backdrop-filter: blur(6px);
  transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
  overflow: hidden;
}

.project-creature::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, transparent, var(--glow-color, var(--bio-teal)), transparent);
  opacity: 0;
  transition: opacity 0.5s;
}

.project-creature:hover::before { opacity: 1; }

.project-creature:hover {
  transform: translateY(-8px);
  border-color: rgba(0,206,209,0.2);
  box-shadow: 0 20px 60px rgba(0,206,209,0.1), 0 0 40px rgba(0,206,209,0.05);
}

.project-creature:nth-child(1) { animation: gentleFloat 6s ease-in-out infinite; }
.project-creature:nth-child(2) { animation: gentleFloat 7s ease-in-out 1s infinite; }
.project-creature:nth-child(3) { animation: gentleFloat 5.5s ease-in-out 0.5s infinite; }
.project-creature:nth-child(4) { animation: gentleFloat 6.5s ease-in-out 1.5s infinite; }

.project-creature .creature-icon {
  font-size: 2.5rem;
  margin-bottom: 20px;
  display: block;
}

.project-creature h3 {
  font-size: 1.3rem;
  font-weight: 600;
  margin-bottom: 12px;
  color: var(--text-light);
}

.project-creature p {
  font-size: 0.9rem;
  line-height: 1.7;
  color: var(--text-dim);
  margin-bottom: 20px;
}

.project-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.project-tag {
  font-size: 0.7rem;
  padding: 4px 12px;
  border-radius: 20px;
  border: 1px solid rgba(0,206,209,0.15);
  color: var(--bio-teal);
  letter-spacing: 1px;
  text-transform: uppercase;
  background: rgba(0,206,209,0.05);
}

/* Creature-specific glow colors */
.project-creature.teal-glow { --glow-color: var(--bio-teal); }
.project-creature.blue-glow { --glow-color: var(--bio-blue); }
.project-creature.purple-glow { --glow-color: var(--bio-purple); }
.project-creature.blue-glow .project-tag {
  border-color: rgba(0,102,204,0.2);
  color: #4DA6FF;
  background: rgba(0,102,204,0.05);
}
.project-creature.purple-glow .project-tag {
  border-color: rgba(123,47,190,0.2);
  color: #B47EE5;
  background: rgba(123,47,190,0.05);
}

/* ==============================
   SECTION 4: SKILLS (Bioluminescent Cluster)
   ============================== */
.skills-section {
  padding: 120px 20px;
}

.skills-heading {
  text-align: center;
  margin-bottom: 60px;
}

.skills-heading h2 {
  font-size: clamp(1.8rem, 4vw, 2.8rem);
  font-weight: 600;
  color: var(--text-light);
  text-shadow: 0 0 30px rgba(123,47,190,0.3);
}

.skills-heading p {
  color: var(--text-dim);
  margin-top: 8px;
  letter-spacing: 3px;
  text-transform: uppercase;
  font-size: 0.8rem;
}

.skills-cluster {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 16px;
  max-width: 900px;
  margin: 0 auto;
}

.skill-orb {
  position: relative;
  padding: 14px 28px;
  border-radius: 50px;
  font-size: 0.85rem;
  font-weight: 500;
  letter-spacing: 1px;
  border: 1px solid;
  transition: all 0.4s;
  cursor: default;
  animation: orbFloat var(--dur, 5s) ease-in-out var(--delay, 0s) infinite;
}

@keyframes orbFloat {
  0%, 100% { transform: translateY(0) translateX(0); }
  33% { transform: translateY(-6px) translateX(3px); }
  66% { transform: translateY(4px) translateX(-2px); }
}

.skill-orb.orb-teal {
  color: var(--bio-teal);
  border-color: rgba(0,206,209,0.2);
  background: rgba(0,206,209,0.06);
}
.skill-orb.orb-teal:hover {
  background: rgba(0,206,209,0.15);
  box-shadow: var(--glow-teal);
}

.skill-orb.orb-blue {
  color: #4DA6FF;
  border-color: rgba(0,102,204,0.2);
  background: rgba(0,102,204,0.06);
}
.skill-orb.orb-blue:hover {
  background: rgba(0,102,204,0.15);
  box-shadow: var(--glow-blue);
}

.skill-orb.orb-purple {
  color: #B47EE5;
  border-color: rgba(123,47,190,0.2);
  background: rgba(123,47,190,0.06);
}
.skill-orb.orb-purple:hover {
  background: rgba(123,47,190,0.15);
  box-shadow: var(--glow-purple);
}

.skill-orb.orb-large {
  padding: 18px 36px;
  font-size: 1rem;
  font-weight: 600;
}

/* ==============================
   SECTION 5: EXPERIENCE (Descent Timeline)
   ============================== */
.experience-section {
  padding: 120px 20px;
}

.experience-heading {
  text-align: center;
  margin-bottom: 80px;
}

.experience-heading h2 {
  font-size: clamp(1.8rem, 4vw, 2.8rem);
  font-weight: 600;
  color: var(--text-light);
  text-shadow: 0 0 30px rgba(0,102,204,0.3);
}

.experience-heading p {
  color: var(--text-dim);
  margin-top: 8px;
  letter-spacing: 3px;
  text-transform: uppercase;
  font-size: 0.8rem;
}

.timeline {
  position: relative;
  max-width: 700px;
  margin: 0 auto;
}

.timeline::before {
  content: '';
  position: absolute;
  top: 0;
  left: 30px;
  width: 2px;
  height: 100%;
  background: linear-gradient(to bottom,
    rgba(0,206,209,0.4),
    rgba(0,102,204,0.3),
    rgba(123,47,190,0.3),
    rgba(123,47,190,0.1)
  );
}

.timeline-item {
  position: relative;
  padding-left: 70px;
  margin-bottom: 60px;
  animation: gentleFloat 6s ease-in-out infinite;
}

.timeline-item:nth-child(2) { animation-delay: 0.5s; }
.timeline-item:nth-child(3) { animation-delay: 1s; }

.timeline-dot {
  position: absolute;
  left: 22px;
  top: 8px;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: 2px solid;
  background: var(--deep-top);
}

.timeline-item:nth-child(1) .timeline-dot {
  border-color: var(--bio-teal);
  box-shadow: 0 0 15px rgba(0,206,209,0.5);
}
.timeline-item:nth-child(2) .timeline-dot {
  border-color: var(--bio-blue);
  box-shadow: 0 0 15px rgba(0,102,204,0.5);
}
.timeline-item:nth-child(3) .timeline-dot {
  border-color: var(--bio-purple);
  box-shadow: 0 0 15px rgba(123,47,190,0.5);
}

.timeline-date {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 0.8rem;
  letter-spacing: 2px;
  text-transform: uppercase;
  margin-bottom: 8px;
}

.timeline-item:nth-child(1) .timeline-date { color: var(--bio-teal); }
.timeline-item:nth-child(2) .timeline-date { color: #4DA6FF; }
.timeline-item:nth-child(3) .timeline-date { color: #B47EE5; }

.timeline-role {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 1.4rem;
  font-weight: 600;
  color: var(--text-light);
  margin-bottom: 4px;
}

.timeline-company {
  font-size: 0.95rem;
  color: var(--text-dim);
  margin-bottom: 16px;
}

.timeline-desc {
  font-size: 0.9rem;
  line-height: 1.7;
  color: var(--text-dim);
}

.timeline-desc li {
  list-style: none;
  position: relative;
  padding-left: 20px;
  margin-bottom: 6px;
}

.timeline-desc li::before {
  content: '';
  position: absolute;
  left: 0;
  top: 10px;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: rgba(0,206,209,0.4);
}

/* ==============================
   SECTION 6: CONTACT (Ocean Floor / Treasure)
   ============================== */
.contact-section {
  padding: 120px 20px 80px;
  position: relative;
}

/* Ocean floor texture */
.ocean-floor {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 200px;
  background: linear-gradient(to top,
    rgba(10,8,5,0.8),
    transparent
  );
  pointer-events: none;
}

.contact-heading {
  text-align: center;
  margin-bottom: 50px;
}

.contact-heading h2 {
  font-size: clamp(1.8rem, 4vw, 2.8rem);
  font-weight: 600;
  color: var(--text-light);
  text-shadow: 0 0 30px rgba(0,206,209,0.3);
}

.contact-heading p {
  color: var(--text-dim);
  margin-top: 8px;
  letter-spacing: 3px;
  text-transform: uppercase;
  font-size: 0.8rem;
}

.treasure-chest {
  position: relative;
  max-width: 600px;
  margin: 0 auto;
  padding: 50px 40px;
  border-radius: 20px;
  background: linear-gradient(135deg,
    rgba(0,206,209,0.06),
    rgba(123,47,190,0.04),
    rgba(0,102,204,0.06)
  );
  border: 1px solid rgba(0,206,209,0.1);
  backdrop-filter: blur(6px);
  text-align: center;
  animation: gentleFloat 7s ease-in-out infinite;
}

.treasure-chest::before {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: 21px;
  background: linear-gradient(135deg,
    rgba(0,206,209,0.2),
    transparent,
    rgba(123,47,190,0.2),
    transparent,
    rgba(0,102,204,0.2)
  );
  z-index: -1;
  filter: blur(15px);
  opacity: 0.5;
}

.treasure-icon {
  font-size: 3rem;
  margin-bottom: 24px;
  display: block;
  animation: treasureGlow 3s ease-in-out infinite alternate;
}

@keyframes treasureGlow {
  0% { filter: brightness(0.8); }
  100% { filter: brightness(1.2) drop-shadow(0 0 10px rgba(0,206,209,0.5)); }
}

.contact-links {
  display: flex;
  flex-direction: column;
  gap: 16px;
  align-items: center;
}

.contact-link {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  padding: 12px 28px;
  border-radius: 50px;
  border: 1px solid rgba(0,206,209,0.15);
  background: rgba(0,206,209,0.04);
  color: var(--text-light);
  font-size: 0.95rem;
  transition: all 0.4s;
  min-width: 280px;
  justify-content: center;
}

.contact-link:hover {
  border-color: rgba(0,206,209,0.4);
  background: rgba(0,206,209,0.1);
  box-shadow: var(--glow-teal);
  transform: translateY(-3px);
  color: var(--text-light);
}

.contact-link svg {
  width: 18px;
  height: 18px;
  fill: var(--bio-teal);
}

/* ==============================
   SCROLL REVEAL
   ============================== */
.reveal {
  opacity: 0;
  transform: translateY(40px);
  transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
}

.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

/* ==============================
   RESPONSIVE
   ============================== */
@media (max-width: 768px) {
  .depth-nav { display: none; }
  .depth-readout { right: 20px; top: 20px; }

  .jellyfish-panel {
    padding: 40px 28px 60px;
    border-radius: 30% 30% 25% 25% / 20% 20% 40% 40%;
  }

  .projects-grid { grid-template-columns: 1fr; }

  .timeline::before { left: 16px; }
  .timeline-item { padding-left: 50px; }
  .timeline-dot { left: 8px; }

  .contact-link { min-width: auto; width: 100%; max-width: 320px; }
}

@media (max-width: 480px) {
  .surface-name { font-size: 2.5rem; }
  .surface-title { font-size: 0.9rem; letter-spacing: 3px; }
}

/* ==============================
   SECTION DEPTH OVERLAYS
   ============================== */
.depth-overlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: -1;
}

#about .depth-overlay {
  background: linear-gradient(180deg, transparent, rgba(5,5,16,0.15));
}
#projects .depth-overlay {
  background: rgba(5,5,16,0.1);
}
#skills .depth-overlay {
  background: rgba(5,5,16,0.2);
}
#experience .depth-overlay {
  background: rgba(5,5,16,0.3);
}
#contact .depth-overlay {
  background: rgba(5,5,16,0.4);
}

/* ==============================
   SCROLL PROGRESS BAR
   ============================== */
.scroll-progress {
  position: fixed;
  top: 0;
  left: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--bio-teal), var(--bio-blue), var(--bio-purple));
  z-index: 10000;
  transition: width 0.1s;
  box-shadow: 0 0 10px rgba(0,206,209,0.5);
}
</style>
</head>
<body>

<!-- Custom Cursor -->
<div class="cursor-main" id="cursorMain"></div>
<div class="cursor-dot" id="cursorDot"></div>

<!-- Scroll Progress -->
<div class="scroll-progress" id="scrollProgress"></div>

<!-- Ocean Background -->
<div class="ocean-bg"></div>

<!-- Water Caustics -->
<div class="caustics"></div>
<div class="caustics-2"></div>

<!-- Light Rays -->
<div class="light-rays">
  <div class="light-ray"></div>
  <div class="light-ray"></div>
  <div class="light-ray"></div>
  <div class="light-ray"></div>
  <div class="light-ray"></div>
  <div class="light-ray"></div>
  <div class="light-ray"></div>
</div>

<!-- Bubbles -->
<div class="bubbles-container" id="bubblesContainer"></div>

<!-- Bioluminescent Canvas -->
<canvas id="bioCanvas"></canvas>

<!-- Depth Fog -->
<div class="depth-fog"></div>

<!-- Depth Readout -->
<div class="depth-readout">DEPTH <span id="depthValue">0</span>m</div>

<!-- Depth Navigation -->
<nav class="depth-nav" aria-label="Section navigation">
  <div class="depth-line"></div>
  <a href="#surface" class="depth-marker active" aria-label="Surface">
    <span class="depth-label">Surface</span>
  </a>
  <div class="depth-line"></div>
  <a href="#about" class="depth-marker" aria-label="About">
    <span class="depth-label">200m - About</span>
  </a>
  <div class="depth-line"></div>
  <a href="#projects" class="depth-marker" aria-label="Projects">
    <span class="depth-label">800m - Projects</span>
  </a>
  <div class="depth-line"></div>
  <a href="#skills" class="depth-marker" aria-label="Skills">
    <span class="depth-label">2000m - Skills</span>
  </a>
  <div class="depth-line"></div>
  <a href="#experience" class="depth-marker" aria-label="Experience">
    <span class="depth-label">4000m - Experience</span>
  </a>
  <div class="depth-line"></div>
  <a href="#contact" class="depth-marker" aria-label="Contact">
    <span class="depth-label">6000m - Contact</span>
  </a>
  <div class="depth-line"></div>
</nav>

<!-- ======================== SURFACE ======================== -->
<section id="surface" class="surface-section deep-section" data-depth="0">
  <div class="depth-overlay"></div>
  <div style="position:relative;z-index:1;">
    <div class="surface-name">Anshull Garg</div>
    <div class="surface-title">Software Developer</div>
    <div class="surface-subtitle">Walmart Global Tech</div>
    <div class="dive-prompt">
      <span>Dive deeper to explore</span>
      <div class="dive-arrow"></div>
    </div>
  </div>
</section>

<!-- ======================== ABOUT ======================== -->
<section id="about" class="deep-section" data-depth="200">
  <div class="depth-overlay"></div>
  <div class="section-inner reveal">
    <div class="jellyfish-panel">
      <div class="about-heading">-- Depth 200m -- About --</div>
      <p class="about-text">
        I'm <strong>Anshull Garg</strong>, a software developer navigating the deep waters of
        large-scale distributed systems at <strong>Walmart Global Tech</strong>. I build resilient,
        high-performance applications that serve millions of users daily.
        <br><br>
        Like the creatures that thrive in the deep ocean, I'm drawn to the most challenging
        environments -- where pressure is high and elegant solutions are essential. My work spans
        <strong>full-stack development</strong>, <strong>system design</strong>, and
        <strong>cloud-native architectures</strong> that power one of the world's largest retailers.
      </p>
      <div class="jellyfish-tentacles">
        <div class="tentacle"></div>
        <div class="tentacle"></div>
        <div class="tentacle"></div>
        <div class="tentacle"></div>
        <div class="tentacle"></div>
      </div>
    </div>
  </div>
</section>

<!-- ======================== PROJECTS ======================== -->
<section id="projects" class="deep-section" data-depth="800">
  <div class="depth-overlay"></div>
  <div class="section-inner">
    <div class="projects-heading reveal">
      <h2>Deep-Sea Artifacts</h2>
      <p>Depth 800m -- Projects</p>
    </div>
    <div class="projects-grid">

      <div class="project-creature teal-glow reveal">
        <span class="creature-icon">&#x1F9CA;</span>
        <h3>Inventory Orchestration Engine</h3>
        <p>Real-time inventory management system handling millions of SKUs across thousands of stores. Event-driven architecture with sub-second sync across distributed nodes.</p>
        <div class="project-tags">
          <span class="project-tag">Java</span>
          <span class="project-tag">Kafka</span>
          <span class="project-tag">Redis</span>
          <span class="project-tag">Kubernetes</span>
        </div>
      </div>

      <div class="project-creature blue-glow reveal">
        <span class="creature-icon">&#x1F30A;</span>
        <h3>Checkout Flow Optimization</h3>
        <p>Redesigned the critical checkout pipeline, reducing latency by 40% and improving conversion rates. Handled Black Friday scale with zero downtime.</p>
        <div class="project-tags">
          <span class="project-tag">React</span>
          <span class="project-tag">Node.js</span>
          <span class="project-tag">GraphQL</span>
          <span class="project-tag">Azure</span>
        </div>
      </div>

      <div class="project-creature purple-glow reveal">
        <span class="creature-icon">&#x1F52E;</span>
        <h3>ML-Powered Search Platform</h3>
        <p>Intelligent product search leveraging machine learning for query understanding, ranking, and personalization. Serves 200M+ queries monthly.</p>
        <div class="project-tags">
          <span class="project-tag">Python</span>
          <span class="project-tag">Elasticsearch</span>
          <span class="project-tag">TensorFlow</span>
          <span class="project-tag">GCP</span>
        </div>
      </div>

      <div class="project-creature teal-glow reveal">
        <span class="creature-icon">&#x1F3D7;</span>
        <h3>Microservices Platform</h3>
        <p>Internal platform for rapid microservice deployment with built-in observability, auto-scaling, and CI/CD. Reduced service launch time from weeks to hours.</p>
        <div class="project-tags">
          <span class="project-tag">Go</span>
          <span class="project-tag">Docker</span>
          <span class="project-tag">Terraform</span>
          <span class="project-tag">Prometheus</span>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- ======================== SKILLS ======================== -->
<section id="skills" class="deep-section skills-section" data-depth="2000">
  <div class="depth-overlay"></div>
  <div class="section-inner">
    <div class="skills-heading reveal">
      <h2>Bioluminescent Organisms</h2>
      <p>Depth 2000m -- Skills & Technologies</p>
    </div>
    <div class="skills-cluster reveal">
      <span class="skill-orb orb-teal orb-large" style="--dur:5s;--delay:0s;">JavaScript</span>
      <span class="skill-orb orb-blue orb-large" style="--dur:6s;--delay:0.3s;">Java</span>
      <span class="skill-orb orb-purple orb-large" style="--dur:5.5s;--delay:0.6s;">Python</span>
      <span class="skill-orb orb-teal" style="--dur:7s;--delay:0.2s;">React</span>
      <span class="skill-orb orb-blue" style="--dur:5.8s;--delay:0.8s;">Node.js</span>
      <span class="skill-orb orb-teal" style="--dur:6.2s;--delay:0.1s;">TypeScript</span>
      <span class="skill-orb orb-purple" style="--dur:5.3s;--delay:0.5s;">Go</span>
      <span class="skill-orb orb-blue" style="--dur:6.5s;--delay:0.4s;">Spring Boot</span>
      <span class="skill-orb orb-teal" style="--dur:5.7s;--delay:0.7s;">GraphQL</span>
      <span class="skill-orb orb-purple" style="--dur:6.8s;--delay:0.3s;">Kafka</span>
      <span class="skill-orb orb-blue" style="--dur:5.2s;--delay:0.9s;">Redis</span>
      <span class="skill-orb orb-teal" style="--dur:6.3s;--delay:0.2s;">Kubernetes</span>
      <span class="skill-orb orb-purple" style="--dur:5.9s;--delay:0.6s;">Docker</span>
      <span class="skill-orb orb-blue" style="--dur:7.2s;--delay:0.1s;">Azure</span>
      <span class="skill-orb orb-teal" style="--dur:6.1s;--delay:0.8s;">GCP</span>
      <span class="skill-orb orb-purple" style="--dur:5.4s;--delay:0.4s;">Terraform</span>
      <span class="skill-orb orb-blue" style="--dur:6.7s;--delay:0.5s;">PostgreSQL</span>
      <span class="skill-orb orb-teal" style="--dur:5.6s;--delay:0.3s;">MongoDB</span>
      <span class="skill-orb orb-purple" style="--dur:6.4s;--delay:0.7s;">Elasticsearch</span>
      <span class="skill-orb orb-blue" style="--dur:5.1s;--delay:0.2s;">CI/CD</span>
      <span class="skill-orb orb-teal" style="--dur:6.9s;--delay:0.6s;">Prometheus</span>
      <span class="skill-orb orb-purple" style="--dur:5.5s;--delay:0.9s;">Grafana</span>
    </div>
  </div>
</section>

<!-- ======================== EXPERIENCE ======================== -->
<section id="experience" class="deep-section experience-section" data-depth="4000">
  <div class="depth-overlay"></div>
  <div class="section-inner">
    <div class="experience-heading reveal">
      <h2>Descent Log</h2>
      <p>Depth 4000m -- Experience</p>
    </div>
    <div class="timeline reveal">

      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-date">2022 -- Present</div>
        <div class="timeline-role">Software Developer</div>
        <div class="timeline-company">Walmart Global Tech</div>
        <div class="timeline-desc">
          <ul>
            <li>Architect and build high-throughput distributed systems serving millions of daily active users across Walmart's e-commerce platform</li>
            <li>Lead development of real-time inventory orchestration handling 50K+ events per second</li>
            <li>Optimize critical checkout paths reducing p99 latency by 40% during peak traffic events</li>
            <li>Mentor junior developers and drive engineering best practices across the organization</li>
          </ul>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-date">2020 -- 2022</div>
        <div class="timeline-role">Software Engineer</div>
        <div class="timeline-company">Previous Role</div>
        <div class="timeline-desc">
          <ul>
            <li>Designed and implemented microservices architecture supporting 10M+ daily transactions</li>
            <li>Built data pipelines processing terabytes of event data for real-time analytics</li>
            <li>Contributed to open-source tooling adopted by the wider engineering community</li>
          </ul>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-date">2018 -- 2020</div>
        <div class="timeline-role">Junior Developer</div>
        <div class="timeline-company">Early Career</div>
        <div class="timeline-desc">
          <ul>
            <li>Developed full-stack web applications using React, Node.js, and cloud services</li>
            <li>Shipped features used by hundreds of thousands of users in production</li>
            <li>Earned deep expertise in performance optimization and scalable system design</li>
          </ul>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- ======================== CONTACT ======================== -->
<section id="contact" class="deep-section contact-section" data-depth="6000">
  <div class="depth-overlay"></div>
  <div class="ocean-floor"></div>
  <div class="section-inner">
    <div class="contact-heading reveal">
      <h2>The Ocean Floor</h2>
      <p>Depth 6000m -- Get In Touch</p>
    </div>
    <div class="treasure-chest reveal">
      <span class="treasure-icon">&#x1F3F4;&#x200D;&#x2620;&#xFE0F;</span>
      <p style="color:var(--text-dim);margin-bottom:30px;line-height:1.7;">
        You've reached the deepest point. Few venture this far.<br>
        Let's build something extraordinary together.
      </p>
      <div class="contact-links">
        <a href="mailto:anshullgarg@gmail.com" class="contact-link">
          <svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
          anshullgarg@gmail.com
        </a>
        <a href="https://linkedin.com/in/anshullgarg" target="_blank" rel="noopener" class="contact-link">
          <svg viewBox="0 0 24 24"><path d="M19 3a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h14m-.5 15.5v-5.3a3.26 3.26 0 00-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 011.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 001.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 00-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg>
          LinkedIn
        </a>
        <a href="https://github.com/anshullgarg" target="_blank" rel="noopener" class="contact-link">
          <svg viewBox="0 0 24 24"><path d="M12 2A10 10 0 002 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0012 2z"/></svg>
          GitHub
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer style="text-align:center;padding:40px 20px 30px;position:relative;z-index:1;">
  <p style="font-size:0.75rem;color:rgba(139,164,192,0.4);letter-spacing:2px;">
    ANSHULL GARG &middot; SURFACING FROM THE DEEP &middot; 2025
  </p>
</footer>

<script>
// ==============================
// CUSTOM CURSOR + BUBBLE TRAIL
// ==============================
const cursorMain = document.getElementById('cursorMain');
const cursorDot = document.getElementById('cursorDot');
let mouseX = 0, mouseY = 0;
let cursorX = 0, cursorY = 0;

document.addEventListener('mousemove', (e) => {
  mouseX = e.clientX;
  mouseY = e.clientY;
  cursorDot.style.left = (mouseX - 3) + 'px';
  cursorDot.style.top = (mouseY - 3) + 'px';

  // Spawn cursor bubble trail
  if (Math.random() < 0.3) {
    spawnCursorBubble(mouseX, mouseY);
  }
});

function animateCursor() {
  cursorX += (mouseX - cursorX) * 0.15;
  cursorY += (mouseY - cursorY) * 0.15;
  cursorMain.style.left = (cursorX - 10) + 'px';
  cursorMain.style.top = (cursorY - 10) + 'px';
  requestAnimationFrame(animateCursor);
}
animateCursor();

function spawnCursorBubble(x, y) {
  const bubble = document.createElement('div');
  bubble.className = 'cursor-bubble';
  const size = 3 + Math.random() * 6;
  bubble.style.width = size + 'px';
  bubble.style.height = size + 'px';
  bubble.style.left = (x - size / 2 + (Math.random() - 0.5) * 10) + 'px';
  bubble.style.top = (y - size / 2) + 'px';
  document.body.appendChild(bubble);
  setTimeout(() => bubble.remove(), 2000);
}

// Restore default cursor on links/buttons
document.querySelectorAll('a, button, .skill-orb').forEach(el => {
  el.addEventListener('mouseenter', () => {
    cursorMain.style.transform = 'scale(1.5)';
    cursorMain.style.borderColor = 'rgba(0,206,209,1)';
  });
  el.addEventListener('mouseleave', () => {
    cursorMain.style.transform = 'scale(1)';
    cursorMain.style.borderColor = 'rgba(0,206,209,0.6)';
  });
});

// ==============================
// BUBBLES (CSS)
// ==============================
const bubblesContainer = document.getElementById('bubblesContainer');

function createBubble() {
  const bubble = document.createElement('div');
  bubble.className = 'bubble';
  const size = 4 + Math.random() * 16;
  const left = Math.random() * 100;
  const duration = 8 + Math.random() * 14;
  const delay = Math.random() * 8;
  const wobble = (Math.random() - 0.5) * 60;

  bubble.style.width = size + 'px';
  bubble.style.height = size + 'px';
  bubble.style.left = left + '%';
  bubble.style.setProperty('--wobble', wobble + 'px');
  bubble.style.animationDuration = duration + 's';
  bubble.style.animationDelay = delay + 's';

  bubblesContainer.appendChild(bubble);
}

for (let i = 0; i < 28; i++) {
  createBubble();
}

// ==============================
// BIOLUMINESCENT PARTICLES (Canvas)
// ==============================
const canvas = document.getElementById('bioCanvas');
const ctx = canvas.getContext('2d');
let particles = [];
let canvasW, canvasH;

function resizeCanvas() {
  canvasW = canvas.width = window.innerWidth;
  canvasH = canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

const particleColors = [
  { r: 0, g: 206, b: 209 },   // teal
  { r: 0, g: 102, b: 204 },   // blue
  { r: 123, g: 47, b: 190 },  // purple
  { r: 0, g: 180, b: 180 },   // darker teal
  { r: 80, g: 130, b: 220 },  // lighter blue
];

class Particle {
  constructor() {
    this.reset();
  }

  reset() {
    this.x = Math.random() * canvasW;
    this.y = Math.random() * canvasH;
    this.size = 1 + Math.random() * 2.5;
    this.speedX = (Math.random() - 0.5) * 0.3;
    this.speedY = (Math.random() - 0.5) * 0.2;
    this.color = particleColors[Math.floor(Math.random() * particleColors.length)];
    this.alpha = 0.2 + Math.random() * 0.5;
    this.pulseSpeed = 0.005 + Math.random() * 0.015;
    this.pulsePhase = Math.random() * Math.PI * 2;
    this.glowSize = this.size * (3 + Math.random() * 4);
  }

  update() {
    this.x += this.speedX;
    this.y += this.speedY;
    this.pulsePhase += this.pulseSpeed;

    // Interact with mouse (subtle attraction)
    const dx = mouseX - this.x;
    const dy = mouseY - this.y;
    const dist = Math.sqrt(dx * dx + dy * dy);
    if (dist < 200 && dist > 0) {
      this.x += dx * 0.0003;
      this.y += dy * 0.0003;
    }

    // Wrap around
    if (this.x < -20) this.x = canvasW + 20;
    if (this.x > canvasW + 20) this.x = -20;
    if (this.y < -20) this.y = canvasH + 20;
    if (this.y > canvasH + 20) this.y = -20;
  }

  draw() {
    const pulse = Math.sin(this.pulsePhase) * 0.3 + 0.7;
    const alpha = this.alpha * pulse;

    // Glow
    const gradient = ctx.createRadialGradient(
      this.x, this.y, 0,
      this.x, this.y, this.glowSize * pulse
    );
    gradient.addColorStop(0, `rgba(${this.color.r},${this.color.g},${this.color.b},${alpha * 0.8})`);
    gradient.addColorStop(0.4, `rgba(${this.color.r},${this.color.g},${this.color.b},${alpha * 0.2})`);
    gradient.addColorStop(1, `rgba(${this.color.r},${this.color.g},${this.color.b},0)`);

    ctx.beginPath();
    ctx.arc(this.x, this.y, this.glowSize * pulse, 0, Math.PI * 2);
    ctx.fillStyle = gradient;
    ctx.fill();

    // Core
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size * pulse, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(${this.color.r},${this.color.g},${this.color.b},${alpha})`;
    ctx.fill();
  }
}

for (let i = 0; i < 60; i++) {
  particles.push(new Particle());
}

function animateParticles() {
  ctx.clearRect(0, 0, canvasW, canvasH);
  particles.forEach(p => {
    p.update();
    p.draw();
  });
  requestAnimationFrame(animateParticles);
}
animateParticles();

// ==============================
// DEPTH READOUT + NAV
// ==============================
const depthValue = document.getElementById('depthValue');
const depthMarkers = document.querySelectorAll('.depth-marker');
const sections = document.querySelectorAll('.deep-section');

function updateDepth() {
  const scrollY = window.scrollY;
  const maxScroll = document.body.scrollHeight - window.innerHeight;
  const progress = scrollY / maxScroll;

  // Depth goes from 0 to 6000m
  const depth = Math.round(progress * 6000);
  depthValue.textContent = depth;

  // Scroll progress bar
  document.getElementById('scrollProgress').style.width = (progress * 100) + '%';

  // Active nav marker
  let activeIndex = 0;
  sections.forEach((section, i) => {
    const rect = section.getBoundingClientRect();
    if (rect.top < window.innerHeight * 0.5) {
      activeIndex = i;
    }
  });

  depthMarkers.forEach((m, i) => {
    m.classList.toggle('active', i === activeIndex);
  });
}

window.addEventListener('scroll', updateDepth, { passive: true });
updateDepth();

// ==============================
// SCROLL REVEAL
// ==============================
const revealElements = document.querySelectorAll('.reveal');
const revealObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
    }
  });
}, {
  threshold: 0.15,
  rootMargin: '0px 0px -50px 0px'
});

revealElements.forEach(el => revealObserver.observe(el));

// ==============================
// PARALLAX ON SCROLL
// ==============================
function parallax() {
  const scrollY = window.scrollY;

  // Light rays fade as you scroll deeper
  const rays = document.querySelector('.light-rays');
  if (rays) {
    const fade = Math.max(0, 1 - scrollY / (window.innerHeight * 1.5));
    rays.style.opacity = fade;
  }

  // Caustics fade
  const caustics = document.querySelector('.caustics');
  const caustics2 = document.querySelector('.caustics-2');
  if (caustics) {
    const fade = Math.max(0, 1 - scrollY / (window.innerHeight * 3));
    caustics.style.opacity = 0.12 * fade;
  }
  if (caustics2) {
    const fade = Math.max(0, 1 - scrollY / (window.innerHeight * 3));
    caustics2.style.opacity = 0.08 * fade;
  }

  // Depth fog intensifies
  const fog = document.querySelector('.depth-fog');
  if (fog) {
    const maxScroll = document.body.scrollHeight - window.innerHeight;
    const progress = scrollY / maxScroll;
    fog.style.opacity = 0.5 + progress * 0.5;
  }

  // Parallax sections at different speeds
  sections.forEach((section, i) => {
    const rect = section.getBoundingClientRect();
    const speed = 0.02 + i * 0.01;
    const inner = section.querySelector('.section-inner, > div:not(.depth-overlay)');
    if (inner && rect.top < window.innerHeight && rect.bottom > 0) {
      const offset = (rect.top - window.innerHeight * 0.5) * speed;
      inner.style.transform = `translateY(${offset}px)`;
    }
  });
}

window.addEventListener('scroll', parallax, { passive: true });
parallax();

// ==============================
// OCCASIONAL LARGE CREATURE SILHOUETTE
// ==============================
function spawnCreatureSilhouette() {
  const creature = document.createElement('div');
  const isLeft = Math.random() > 0.5;
  const yPos = 20 + Math.random() * 60;
  const size = 60 + Math.random() * 100;
  const duration = 20 + Math.random() * 15;

  creature.style.cssText = `
    position: fixed;
    top: ${yPos}%;
    ${isLeft ? 'left: -200px' : 'right: -200px'};
    width: ${size}px;
    height: ${size * 0.4}px;
    background: radial-gradient(ellipse at center, rgba(0,206,209,0.03), transparent);
    border-radius: 50%;
    pointer-events: none;
    z-index: -2;
    opacity: 0;
    animation: creatureSwim${isLeft ? 'Right' : 'Left'} ${duration}s linear forwards;
  `;

  // Dynamic keyframes
  const animName = `creatureSwim${isLeft ? 'Right' : 'Left'}${Date.now()}`;
  const startX = isLeft ? '-200px' : 'calc(100vw + 200px)';
  const endX = isLeft ? 'calc(100vw + 200px)' : '-200px';

  const style = document.createElement('style');
  style.textContent = `
    @keyframes ${animName} {
      0% { ${isLeft ? 'left' : 'right'}: -200px; opacity: 0; }
      10% { opacity: 0.5; }
      90% { opacity: 0.5; }
      100% { ${isLeft ? 'left' : 'right'}: calc(100vw + 200px); opacity: 0; }
    }
  `;
  document.head.appendChild(style);
  creature.style.animationName = animName;

  document.body.appendChild(creature);
  setTimeout(() => {
    creature.remove();
    style.remove();
  }, duration * 1000 + 100);
}

// Spawn creatures periodically
setInterval(spawnCreatureSilhouette, 12000);
setTimeout(spawnCreatureSilhouette, 3000);

// ==============================
// MOBILE: Show default cursor
// ==============================
if ('ontouchstart' in window || navigator.maxTouchPoints > 0) {
  document.body.style.cursor = 'auto';
  cursorMain.style.display = 'none';
  cursorDot.style.display = 'none';
}
</script>
</body>
</html>
